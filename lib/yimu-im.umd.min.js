(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["yimu-im"]=t(require("vue")):e["yimu-im"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("e330"),i=n("59ed"),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("c6b6"),i=n("fc6a"),o=n("241c").f,s=n("f36a"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"==r(e)?c(e):o(i(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),u=n("1a2d"),l=n("0cfb"),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=a(e),t=c(t),l)try{return f(e,t)}catch(n){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"0a06":function(e,t,n){"use strict";var r=n("c532"),i=n("30b5"),o=n("f6b4"),s=n("5270"),a=n("4a7b"),c=n("848b"),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);while(l.length)i=i.then(l.shift(),l.shift());return i}var f=e;while(n.length){var d=n.shift(),h=n.shift();try{f=d(f)}catch(p){h(p);break}}try{i=s(f)}catch(p){return Promise.reject(p)}while(o.length)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},"0b42":function(e,t,n){var r=n("da84"),i=n("e8b5"),o=n("68ee"),s=n("861d"),a=n("b622"),c=a("species"),u=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,o(t)&&(t===u||i(t.prototype))?t=void 0:s(t)&&(t=t[c],null===t&&(t=void 0))),void 0===t?u:t}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t,n){var r=n("da84"),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},"0df6":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0e15":function(e,t,n){var r=n("597f");e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},"0f6c":function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=136)}({136:function(e,t,n){"use strict";n.r(t);var r={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:String},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"",this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component(r.name,r)}};t["default"]=r}})},"0fae":function(e,t,n){},"0fb7":function(e,t,n){},"10cb":function(e,t,n){},"14e9":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=132)}({132:function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(38),o=n.n(i),s=n(3),a=n(2),c={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function u(e){var t=e.move,n=e.size,r=e.bar,i={},o="translate"+r.axis+"("+t+"%)";return i[r.size]=n,i.transform=o,i.msTransform=o,i.webkitTransform=o,i}var l={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return c[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,n=this.move,r=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:u({size:t,move:n,bar:r})})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(t-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(a["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(a["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-t,i=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(a["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(a["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},f={name:"ElScrollbar",components:{Bar:l},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=o()(),n=this.wrapStyle;if(t){var r="-"+t+"px",i="margin-bottom: "+r+"; margin-right: "+r+";";Array.isArray(this.wrapStyle)?(n=Object(s["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=r):"string"===typeof this.wrapStyle?n+=i:n=i}var a=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),c=e("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[a]]),u=void 0;return u=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[a]])]:[c,e(l,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(l,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],e("div",{class:"el-scrollbar"},u)},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e=void 0,t=void 0,n=this.wrap;n&&(e=100*n.clientHeight/n.scrollHeight,t=100*n.clientWidth/n.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r["removeResizeListener"])(this.$refs.resize,this.update)},install:function(e){e.component(f.name,f)}};t["default"]=f},16:function(e,t){e.exports=n("4010")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},38:function(e,t){e.exports=n("e62d")}})},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("17c2"),a=n("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in i)i[u]&&c(r[u]&&r[u].prototype);c(o)},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1951:function(e,t,n){},"1a2d":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1d2b":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"1d80":function(e,t,n){var r=n("da84"),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var r=n("5926"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,f,d,h,p,g=e.target,m=e.global,v=e.stat;if(l=m?r:v?r[g]||a(g,{}):(r[g]||{}).prototype,l)for(f in t){if(h=t[f],e.noTargetGet?(p=i(l,f),d=p&&p.value):d=l[f],n=u(m?f:g+(v?".":"#")+f,e.forced),!n&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),s(l,f,h,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2444:function(e,t,n){"use strict";(function(t){var r=n("c532"),i=n("c8af"),o=n("387f"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function c(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("b50d")),e}function u(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),u(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(s){if("SyntaxError"===a.name)throw o(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(s)})),e.exports=l}).call(this,n("4362"))},2511:function(e,t,n){},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),u=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("e330"),i=n("5e77").PROPER,o=n("6eeb"),s=n("825a"),a=n("3a9b"),c=n("577e"),u=n("d039"),l=n("ad6d"),f="toString",d=RegExp.prototype,h=d[f],p=r(l),g=u((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),m=i&&h.name!=f;(g||m)&&o(RegExp.prototype,f,(function(){var e=s(this),t=c(e.source),n=e.flags,r=c(void 0===n&&a(d,e)&&!("flags"in d)?p(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"299c":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=140)}({140:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),o=n(18),s=n.n(o),a=n(2),c=n(3),u=n(7),l=n.n(u),f={name:"ElTooltip",mixins:[i.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(c["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new l.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=s()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a["on"])(this.referenceElm,"mouseenter",this.show),Object(a["on"])(this.referenceElm,"mouseleave",this.hide),Object(a["on"])(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()})),Object(a["on"])(this.referenceElm,"blur",this.handleBlur),Object(a["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){e?Object(a["addClass"])(this.referenceElm,"focusing"):Object(a["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++)e[n]&&e[n].tag&&(t=e[n]);return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(a["off"])(e,"mouseenter",this.show),Object(a["off"])(e,"mouseleave",this.hide),Object(a["off"])(e,"focus",this.handleFocus),Object(a["off"])(e,"blur",this.handleBlur),Object(a["off"])(e,"click",this.removeFocusing))},install:function(e){e.component(f.name,f)}};t["default"]=f},18:function(e,t){e.exports=n("0e15")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},5:function(e,t){e.exports=n("e974")},7:function(e,t){e.exports=n("8bbf")}})},"2a62":function(e,t,n){var r=n("c65b"),i=n("825a"),o=n("dc4a");e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw n;if(a)throw s;return i(s),n}},"2ba4":function(e,t){var n=Function.prototype,r=n.apply,i=n.bind,o=n.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(r):function(){return o.apply(r,arguments)})},"2bb5":function(e,t,n){"use strict";t.__esModule=!0;n("8122");t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},"2d83":function(e,t,n){"use strict";var r=n("387f");e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},"2e67":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,n){"use strict";var r=n("c532");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},3106:function(e,t,n){},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("dc4a"),o=n("3f8c"),s=n("b622"),a=s("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("fc6a"),a=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),c=a(t),u=c.length,l=0;while(u>l)i.f(e,n=c[l++],r[n]);return e}},"387f":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"38a0":function(e,t,n){},3934:function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bbe":function(e,t,n){var r=n("da84"),i=n("1626"),o=r.String,s=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},"3c4e":function(e,t,n){"use strict";var r=function(e){return i(e)&&!o(e)};function i(e){return!!e&&"object"===typeof e}function o(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===a}function u(e){return Array.isArray(e)?[]:{}}function l(e,t){var n=t&&!0===t.clone;return n&&r(e)?h(u(e),e,t):e}function f(e,t,n){var i=e.slice();return t.forEach((function(t,o){"undefined"===typeof i[o]?i[o]=l(t,n):r(t)?i[o]=h(e[o],t,n):-1===e.indexOf(t)&&i.push(l(t,n))})),i}function d(e,t,n){var i={};return r(e)&&Object.keys(e).forEach((function(t){i[t]=l(e[t],n)})),Object.keys(t).forEach((function(o){r(t[o])&&e[o]?i[o]=h(e[o],t[o],n):i[o]=l(t[o],n)})),i}function h(e,t,n){var r=Array.isArray(t),i=Array.isArray(e),o=n||{arrayMerge:f},s=r===i;if(s){if(r){var a=o.arrayMerge||f;return a(e,t,n)}return d(e,t,n)}return l(t,n)}h.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return h(e,n,t)}))};var p=h;e.exports=p},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("577e"),o=n("69f3"),s=n("7dd0"),a="String Iterator",c=o.set,u=o.getterFor(a);s(String,"String",(function(e){c(this,{type:a,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4010:function(e,t,n){"use strict";t.__esModule=!0,t.removeResizeListener=t.addResizeListener=void 0;var r=n("6dd8"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s="undefined"===typeof window,a=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i,s=o.target.__resizeListeners__||[];s.length&&s.forEach((function(e){e()}))}};t.addResizeListener=function(e,t){s||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new i.default(a),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},"408a":function(e,t,n){var r=n("e330");e.exports=r(1..valueOf)},"417f":function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5924");function s(e){return e&&e.__esModule?e:{default:e}}var a=[],c="@@clickoutsideContext",u=void 0,l=0;function f(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&i.target)||e.contains(r.target)||e.contains(i.target)||e===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(i.target))||(t.expression&&e[c].methodName&&n.context[e[c].methodName]?n.context[e[c].methodName]():e[c].bindingFn&&e[c].bindingFn())}}!i.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(e){return u=e})),!i.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(e){a.forEach((function(t){return t[c].documentHandler(e,u)}))})),t.default={bind:function(e,t,n){a.push(e);var r=l++;e[c]={id:r,documentHandler:f(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[c].documentHandler=f(e,t,n),e[c].methodName=t.expression,e[c].bindingFn=t.value},unbind:function(e){for(var t=a.length,n=0;n<t;n++)if(a[n][c].id===e[c].id){a.splice(n,1);break}delete e[c]}}},"41f8":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isVNode=o;var i=n("8122");function o(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":r(e))&&(0,i.hasOwn)(e,"componentOptions")}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("da84"),i=n("e330"),o=n("d039"),s=n("c6b6"),a=r.Object,c=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?c(e,""):a(e)}:a},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"450d":function(e,t,n){},"467f":function(e,t,n){"use strict";var r=n("2d83");e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"485a":function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("1626"),s=n("861d"),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!s(r=i(n,e)))return r;if(o(n=e.valueOf)&&!s(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!s(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},4897:function(e,t,n){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var r=n("f0d9"),i=f(r),o=n("8bbf"),s=f(o),a=n("3c4e"),c=f(a),u=n("9d7e"),l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.default)(s.default),h=i.default,p=!1,g=function(){var e=Object.getPrototypeOf(this||s.default).$t;if("function"===typeof e&&s.default.locale)return p||(p=!0,s.default.locale(s.default.config.lang,(0,c.default)(h,s.default.locale(s.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},m=t.t=function(e,t){var n=g.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=e.split("."),i=h,o=0,s=r.length;o<s;o++){var a=r[o];if(n=i[a],o===s-1)return d(n,t);if(!n)return"";i=n}return""},v=t.use=function(e){h=e||h},y=t.i18n=function(e){g=e||g};t.default={use:v,t:m,i18n:y}},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4a0c":function(e){e.exports=JSON.parse('{"_from":"axios@^0.21.0","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.0","name":"axios","escapedName":"axios","rawSpec":"^0.21.0","saveSpec":null,"fetchSpec":"^0.21.0"},"_requiredBy":["/ym-bridge-shandianyun"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.0","_where":"D:\\\\project\\\\yimu-im\\\\node_modules\\\\ym-bridge-shandianyun","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},"4a7b":function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,u),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=c(void 0,e[i])):n[i]=c(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=i.concat(o).concat(s).concat(a),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,u),n}},"4b26":function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5924");function s(e){return e&&e.__esModule?e:{default:e}}var a=!1,c=!1,u=void 0,l=function(){if(!i.default.prototype.$isServer){var e=d.modalDom;return e?a=!0:(a=!1,e=document.createElement("div"),d.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){d.doOnModalClick&&d.doOnModalClick()}))),e}},f={},d={modalFade:!0,getInstance:function(e){return f[e]},register:function(e,t){e&&t&&(f[e]=t)},deregister:function(e){e&&(f[e]=null,delete f[e])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var e=d.modalStack[d.modalStack.length-1];if(e){var t=d.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,s){if(!i.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var c=this.modalStack,u=0,f=c.length;u<f;u++){var d=c[u];if(d.id===e)return}var h=l();if((0,o.addClass)(h,"v-modal"),this.modalFade&&!a&&(0,o.addClass)(h,"v-modal-enter"),r){var p=r.trim().split(/\s+/);p.forEach((function(e){return(0,o.addClass)(h,e)}))}setTimeout((function(){(0,o.removeClass)(h,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(h):document.body.appendChild(h),t&&(h.style.zIndex=t),h.tabIndex=0,h.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=l();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass){var i=r.modalClass.trim().split(/\s+/);i.forEach((function(e){return(0,o.removeClass)(n,e)}))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",d.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return c||(u=u||(i.default.prototype.$ELEMENT||{}).zIndex||2e3,c=!0),u},set:function(e){u=e}});var h=function(){if(!i.default.prototype.$isServer&&d.modalStack.length>0){var e=d.modalStack[d.modalStack.length-1];if(!e)return;var t=d.getInstance(e.id);return t}};i.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=h();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=d},"4d64":function(e,t,n){var r=n("fc6a"),i=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),u=o(c),l=i(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("da84"),i=n("0366"),o=n("c65b"),s=n("7b0b"),a=n("9bdd"),c=n("e95a"),u=n("68ee"),l=n("07fa"),f=n("8418"),d=n("9a1f"),h=n("35a1"),p=r.Array;e.exports=function(e){var t=s(e),n=u(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,r>2?arguments[2]:void 0));var v,y,_,b,C,E,S=h(t),w=0;if(!S||this==p&&c(S))for(v=l(t),y=n?new this(v):p(v);v>w;w++)E=m?g(t[w],w):t[w],f(y,w,E);else for(b=d(t,S),C=b.next,y=n?new this:[];!(_=o(C,b)).done;w++)E=m?a(b,g,[_.value,w],!0):_.value,f(y,w,E);return y.length=w,y}},"4f0c":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=128)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},128:function(e,t,n){"use strict";n.r(t);var r,i,o={name:"ElAvatar",props:{size:{type:[Number,String],validator:function(e){return"string"===typeof e?["large","medium","small"].includes(e):"number"===typeof e}},shape:{type:String,default:"circle",validator:function(e){return["circle","square"].includes(e)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var e=this.size,t=this.icon,n=this.shape,r=["el-avatar"];return e&&"string"===typeof e&&r.push("el-avatar--"+e),t&&r.push("el-avatar--icon"),n&&r.push("el-avatar--"+n),r.join(" ")}},methods:{handleError:function(){var e=this.error,t=e?e():void 0;!1!==t&&(this.isImageExist=!1)},renderAvatar:function(){var e=this.$createElement,t=this.icon,n=this.src,r=this.alt,i=this.isImageExist,o=this.srcSet,s=this.fit;return i&&n?e("img",{attrs:{src:n,alt:r,srcSet:o},on:{error:this.handleError},style:{"object-fit":s}}):t?e("i",{class:t}):this.$slots.default}},render:function(){var e=arguments[0],t=this.avatarClass,n=this.size,r="number"===typeof n?{height:n+"px",width:n+"px",lineHeight:n+"px"}:{};return e("span",{class:t,style:r},[this.renderAvatar()])}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/avatar/src/main.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},"4fce":function(e,t,n){"use strict";n("3106")},"50c4":function(e,t,n){var r=n("5926"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5128:function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=n("8bbf"),i=d(r),o=n("7f4d"),s=d(o),a=n("4b26"),c=d(a),u=n("e62d"),l=d(u),f=n("5924");function d(e){return e&&e.__esModule?e:{default:e}}var h=1,p=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+h++,c.default.register(this._popupId,this)},beforeDestroy:function(){c.default.deregister(this._popupId),c.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,s.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(c.default.zIndex=r),n&&(this._closing&&(c.default.closeModal(this._popupId),this._closing=!1),c.default.openModal(this._popupId,c.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,f.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,f.getStyle)(document.body,"paddingRight"),10)),p=(0,l.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,f.getStyle)(document.body,"overflowY");p>0&&(i||"scroll"===o)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+p+"px"),(0,f.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=c.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){c.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,f.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=c.default},5270:function(e,t,n){"use strict";var r=n("c532"),i=n("c401"),o=n("2e67"),s=n("2444");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){a(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return a(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5466:function(e,t,n){},"560b":function(e,t,n){},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){var r=n("da84"),i=n("f5df"),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),i=n("1d80"),o=n("577e"),s=n("5899"),a=r("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,u,"")),2&e&&(n=a(n,l,"")),n}};e.exports={start:f(1),end:f(2),trim:f(3)}},5924:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=g,t.addClass=m,t.removeClass=v,t.setStyle=_;var i=n("8bbf"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a=o.default.prototype.$isServer,c=/([\:\-\_]+(.))/g,u=/^moz([A-Z])/,l=a?0:Number(document.documentMode),f=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},d=function(e){return e.replace(c,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(u,"Moz$1")},h=t.on=function(){return!a&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),p=t.off=function(){return!a&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var r=function r(){n&&n.apply(this,arguments),p(e,t,r)};h(e,t,r)};function g(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function m(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var s=r[i];s&&(e.classList?e.classList.add(s):g(e,s)||(n+=" "+s))}e.classList||e.setAttribute("class",n)}}function v(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var s=n[i];s&&(e.classList?e.classList.remove(s):g(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||e.setAttribute("class",f(r))}}var y=t.getStyle=l<9?function(e,t){if(!a){if(!e||!t)return null;t=d(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!a){if(!e||!t)return null;t=d(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};function _(e,t,n){if(e&&t)if("object"===("undefined"===typeof t?"undefined":r(t)))for(var i in t)t.hasOwnProperty(i)&&_(e,i,t[i]);else t=d(t),"opacity"===t&&l<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var b=t.isScroll=function(e,t){if(!a){var n=null!==t&&void 0!==t,r=y(e,n?t?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};t.getScrollContainer=function(e,t){if(!a){var n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(b(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(a||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},5926:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?r:n)(t)}},"597f":function(e,t){e.exports=function(e,t,n,r){var i,o=0;function s(){var s=this,a=Number(new Date)-o,c=arguments;function u(){o=Number(new Date),n.apply(s,c)}function l(){i=void 0}r&&!i&&u(),i&&clearTimeout(i),void 0===r&&a>e?u():!0!==t&&(i=setTimeout(r?l:u,void 0===r?e-a:e))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),s}},"59ed":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("0d51"),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},"5a34":function(e,t,n){var r=n("da84"),i=n("44e7"),o=r.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,n){var r=n("83ab"),i=n("1a2d"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},"5f02":function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},6167:function(e,t,n){"use strict";var r,i;"function"===typeof Symbol&&Symbol.iterator;(function(o,s){r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})(0,(function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,r){this._reference=e.jquery?e[0]:e,this.state={};var i="undefined"===typeof n||null===n,o=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=i||o?this.parse(o?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,r),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),f(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(t){var n=t.style.display,r=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var i=e.getComputedStyle(t),o=parseFloat(i.marginTop)+parseFloat(i.marginBottom),s=parseFloat(i.marginLeft)+parseFloat(i.marginRight),a={width:t.offsetWidth+s,height:t.offsetHeight+o};return t.style.display=n,t.style.visibility=r,a}function i(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function o(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function s(e,t){var n,r=0;for(n in e){if(e[n]===t)return r;r++}return null}function a(t,n){var r=e.getComputedStyle(t,null);return r[n]}function c(t){var n=t.offsetParent;return n!==e.document.body&&n?n:e.document.documentElement}function u(t){var n=t.parentNode;return n?n===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(a(n,"overflow"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-y"))?n:u(t.parentNode):t}function l(t){return t!==e.document.body&&("fixed"===a(t,"position")||(t.parentNode?l(t.parentNode):t))}function f(e,t){function n(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(t).forEach((function(r){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(t[r])&&(i="px"),e.style[r]=t[r]+i}))}function d(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function h(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function p(e){var t=e.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:r,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-r}}function g(e,t,n){var r=p(e),i=p(t);if(n){var o=u(t);i.top+=o.scrollTop,i.bottom+=o.scrollTop,i.left+=o.scrollLeft,i.right+=o.scrollLeft}var s={top:r.top-i.top,left:r.left-i.left,bottom:r.top-i.top+r.height,right:r.left-i.left+r.width,width:r.width,height:r.height};return s}function m(t){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var i=n[r]?n[r]+t.charAt(0).toUpperCase()+t.slice(1):t;if("undefined"!==typeof e.document.body.style[i])return i}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[m("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(e)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},n,t);var r=e.document,i=r.createElement(t.tagName);if(a(i,t.classNames),c(i,t.attributes),"node"===t.contentType?i.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?i.innerHTML=t.content:i.textContent=t.content,t.arrowTagName){var o=r.createElement(t.arrowTagName);a(o,t.arrowClassNames),c(o,t.arrowAttributes),i.appendChild(o)}var s=t.parent.jquery?t.parent[0]:t.parent;if("string"===typeof s){if(s=r.querySelectorAll(t.parent),s.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(i),i;function a(e,t){t.forEach((function(t){e.classList.add(t)}))}function c(e,t){t.forEach((function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")}))}},n.prototype._getPosition=function(e,t){var n=c(t);if(this._options.forceAbsolute)return"absolute";var r=l(t,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var i={};i.position=this.state.position;var o="fixed"===i.position,s=g(t,c(e),o),a=r(e);return-1!==["right","left"].indexOf(n)?(i.top=s.top+s.height/2-a.height/2,i.left="left"===n?s.left-a.width:s.right):(i.left=s.left+s.width/2-a.width/2,i.top="top"===n?s.top-a.height:s.bottom),i.width=a.width,i.height=a.height,{popper:i,reference:s}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=u(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(t,n,r){var i,o,s={};if("window"===r){var a=e.document.body,l=e.document.documentElement;o=Math.max(a.scrollHeight,a.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),i=Math.max(a.scrollWidth,a.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),s={top:0,right:i,bottom:o,left:0}}else if("viewport"===r){var f=c(this._popper),d=u(this._popper),p=h(f),g=function(e){return e==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):e.scrollTop},m=function(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft},v="fixed"===t.offsets.popper.position?0:g(d),y="fixed"===t.offsets.popper.position?0:m(d);s={top:0-(p.top-v),right:e.document.documentElement.clientWidth-(p.left-y),bottom:e.document.documentElement.clientHeight-(p.top-v),left:0-(p.left-y)}}else s=c(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:h(r);return s.left+=n,s.right-=n,s.top=s.top+n,s.bottom=s.bottom-n,s},n.prototype.runModifiers=function(e,t,n){var r=t.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,s(this._options.modifiers,n))),r.forEach(function(t){d(t)&&(e=t.call(this,e))}.bind(this)),e},n.prototype.isModifierRequired=function(e,t){var n=s(this._options.modifiers,e);return!!this._options.modifiers.slice(0,n).filter((function(e){return e===t})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(e){var t,n={position:e.offsets.popper.position},r=Math.round(e.offsets.popper.left),i=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=m("transform"))?(n[t]="translate3d("+r+"px, "+i+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=i),Object.assign(n,e.styles),f(this._popper,n),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&f(e.arrowElement,e.offsets.arrow),e},n.prototype.modifiers.shift=function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets.reference,s=o(e.offsets.popper),a={y:{start:{top:i.top},end:{top:i.top+i.height-s.height}},x:{start:{left:i.left},end:{left:i.left+i.width-s.width}}},c=-1!==["bottom","top"].indexOf(n)?"x":"y";e.offsets.popper=Object.assign(s,a[c][r])}return e},n.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=o(e.offsets.popper),r={left:function(){var t=n.left;return n.left<e.boundaries.left&&(t=Math.max(n.left,e.boundaries.left)),{left:t}},right:function(){var t=n.left;return n.right>e.boundaries.right&&(t=Math.min(n.left,e.boundaries.right-n.width)),{left:t}},top:function(){var t=n.top;return n.top<e.boundaries.top&&(t=Math.max(n.top,e.boundaries.top)),{top:t}},bottom:function(){var t=n.top;return n.bottom>e.boundaries.bottom&&(t=Math.min(n.top,e.boundaries.bottom-n.height)),{top:t}}};return t.forEach((function(t){e.offsets.popper=Object.assign(n,r[t]())})),e},n.prototype.modifiers.keepTogether=function(e){var t=o(e.offsets.popper),n=e.offsets.reference,r=Math.floor;return t.right<r(n.left)&&(e.offsets.popper.left=r(n.left)-t.width),t.left>r(n.right)&&(e.offsets.popper.left=r(n.right)),t.bottom<r(n.top)&&(e.offsets.popper.top=r(n.top)-t.height),t.top>r(n.bottom)&&(e.offsets.popper.top=r(n.bottom)),e},n.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var t=e.placement.split("-")[0],n=i(t),r=e.placement.split("-")[1]||"",s=[];return s="flip"===this._options.flipBehavior?[t,n]:this._options.flipBehavior,s.forEach(function(a,c){if(t===a&&s.length!==c+1){t=e.placement.split("-")[0],n=i(t);var u=o(e.offsets.popper),l=-1!==["right","bottom"].indexOf(t);(l&&Math.floor(e.offsets.reference[t])>Math.floor(u[n])||!l&&Math.floor(e.offsets.reference[t])<Math.floor(u[n]))&&(e.flipped=!0,e.placement=s[c+1],r&&(e.placement+="-"+r),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},n.prototype.modifiers.offset=function(e){var t=this._options.offset,n=e.offsets.popper;return-1!==e.placement.indexOf("left")?n.top-=t:-1!==e.placement.indexOf("right")?n.top+=t:-1!==e.placement.indexOf("top")?n.left-=t:-1!==e.placement.indexOf("bottom")&&(n.left+=t),e},n.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var i={},s=e.placement.split("-")[0],a=o(e.offsets.popper),c=e.offsets.reference,u=-1!==["left","right"].indexOf(s),l=u?"height":"width",f=u?"top":"left",d=u?"left":"top",h=u?"bottom":"right",p=r(t)[l];c[h]-p<a[f]&&(e.offsets.popper[f]-=a[f]-(c[h]-p)),c[f]+p>a[h]&&(e.offsets.popper[f]+=c[f]+p-a[h]);var g=c[f]+(n||c[l]/2-p/2),m=g-a[f];return m=Math.max(Math.min(a[l]-p-8,m),8),i[f]=m,i[d]="",e.offsets.arrow=i,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(r),o=0,s=i.length;o<s;o++){var a=i[o],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(t[a]=r[a])}}}return t}}),n}))},6547:function(e,t,n){var r=n("e330"),i=n("5926"),o=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,f=o(s(t)),d=i(n),h=f.length;return d<0||d>=h?e?"":void 0:(r=c(f,d),r<55296||r>56319||d+1===h||(l=c(f,d+1))<56320||l>57343?e?a(f,d):r:e?u(f,d,d+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"68ee":function(e,t,n){var r=n("e330"),i=n("d039"),o=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),u=function(){},l=[],f=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=r(d.exec),p=!d.exec(u),g=function(e){if(!o(e))return!1;try{return f(u,l,e),!0}catch(t){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!h(d,c(e))};e.exports=!f||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("e330"),u=n("861d"),l=n("9112"),f=n("1a2d"),d=n("c6cd"),h=n("f772"),p=n("d012"),g="Object already initialized",m=a.TypeError,v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},_=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var b=d.state||(d.state=new v),C=c(b.get),E=c(b.has),S=c(b.set);r=function(e,t){if(E(b,e))throw new m(g);return t.facade=e,S(b,e,t),t},i=function(e){return C(b,e)||{}},o=function(e){return E(b,e)}}else{var w=h("state");p[w]=!0,r=function(e,t){if(f(e,w))throw new m(g);return t.facade=e,l(e,w,t),t},i=function(e){return f(e,w)?e[w]:{}},o=function(e){return f(e,w)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:_}},"6b7c":function(e,t,n){"use strict";t.__esModule=!0;var r=n("4897");t.default={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.t.apply(this,t)}}}},"6dd8":function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),s=2;function a(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function c(){o(a)}function u(){var e=Date.now();if(n){if(e-i<s)return;r=!0}else n=!0,r=!1,setTimeout(c,t);i=e}return u}var c=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),c)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=u.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},p=w(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+g(r)}),0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=g(s)}return n}function y(e){var t=e.getBBox();return w(0,0,t.width,t.height)}function _(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=h(e).getComputedStyle(e),i=v(r),o=i.left+i.right,s=i.top+i.bottom,a=g(r.width),c=g(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=m(r,"left","right")+o),Math.round(c+s)!==n&&(c-=m(r,"top","bottom")+s)),!C(e)){var u=Math.round(a+o)-t,l=Math.round(c+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(l)&&(c-=l)}return w(i.left,i.top,a,c)}var b=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"===typeof e.getBBox}}();function C(e){return e===h(e).document.documentElement}function E(e){return r?b(e)?y(e):_(e):p}function S(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return d(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function w(e,t,n,r){return{x:e,y:t,width:n,height:r}}var T=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=E(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),I=function(){function e(e,t){var n=S(t);d(this,{target:e,contentRect:n})}return e}(),R=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new I(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!==typeof WeakMap?new WeakMap:new n,x=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new R(t,n,this);O.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));var N=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:x}();t["default"]=N}.call(this,n("c8ba"))},"6eeb":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("1a2d"),s=n("9112"),a=n("ce4e"),c=n("8925"),u=n("69f3"),l=n("5e77").CONFIGURABLE,f=u.get,d=u.enforce,h=String(String).split("String");(e.exports=function(e,t,n,c){var u,f=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,g=!!c&&!!c.noTargetGet,m=c&&void 0!==c.name?c.name:t;i(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==m)&&s(n,"name",m),u=d(n),u.source||(u.source=h.join("string"==typeof m?m:""))),e!==r?(f?!g&&e[t]&&(p=!0):delete e[t],p?e[t]=n:s(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||c(this)}))},7156:function(e,t,n){var r=n("1626"),i=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},7242:function(e,t,n){},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("1a2d"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){var r=n("cc12"),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},"78b2":function(e,t,n){"use strict";(function(e){var r;n.d(t,"a",(function(){return bi})),n.d(t,"b",(function(){return Ie})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return Ee})),n.d(t,"e",(function(){return Ur})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return Qe})),n.d(t,"h",(function(){return ae})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return Ar})),n.d(t,"k",(function(){return te})),n.d(t,"l",(function(){return oe})),n.d(t,"m",(function(){return de})),n.d(t,"n",(function(){return pe})),n.d(t,"o",(function(){return Se})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return Pr})),n.d(t,"r",(function(){return I})),n.d(t,"s",(function(){return Pe})),n.d(t,"t",(function(){return He})),n.d(t,"u",(function(){return H})),n.d(t,"v",(function(){return W})),n.d(t,"w",(function(){return G})),n.d(t,"x",(function(){return B})),n.d(t,"y",(function(){return K})),n.d(t,"z",(function(){return Q})),n.d(t,"A",(function(){return X})),n.d(t,"B",(function(){return $e})),n.d(t,"C",(function(){return q})),function(e){e[e.READ=1]="READ",e[e.LISTENED=2]="LISTENED",e[e.DOWNLOADED=4]="DOWNLOADED",e[e.RETRIEVED=8]="RETRIEVED",e[e.UNREAD=0]="UNREAD"}(r||(r={}));var i,o,s=r,a=["https://nav.cn.ronghub.com","https://nav2-cn.ronghub.com"],c=["wsproxy.cn.ronghub.com","wsap-cn.ronghub.com"],u=["cometproxy-cn.ronghub.com","mini-cn.ronghub.com"],l={"RC:TxtMsg":{isCounted:!0,isPersited:!0},"RC:ImgMsg":{isCounted:!0,isPersited:!0},"RC:VcMsg":{isCounted:!0,isPersited:!0},"RC:ImgTextMsg":{isCounted:!0,isPersited:!0},"RC:FileMsg":{isCounted:!0,isPersited:!0},"RC:HQVCMsg":{isCounted:!0,isPersited:!0},"RC:LBSMsg":{isCounted:!0,isPersited:!0},"RC:PSImgTxtMsg":{isCounted:!0,isPersited:!0},"RC:PSMultiImgTxtMsg":{isCounted:!0,isPersited:!0},"RCJrmf:RpMsg":{isCounted:!0,isPersited:!0},"RCJrmf:RpOpendMsg":{isCounted:!0,isPersited:!0},"RC:CombineMsg":{isCounted:!0,isPersited:!0},"RC:ReferenceMsg":{isCounted:!0,isPersited:!0},"RC:SightMsg":{isCounted:!0,isPersited:!0},"RC:GIFMsg":{isCounted:!0,isPersited:!0},"RC:InfoNtf":{isCounted:!1,isPersited:!0},"RC:ContactNtf":{isCounted:!1,isPersited:!0},"RC:ProfileNtf":{isCounted:!1,isPersited:!0},"RC:CmdNtf":{isCounted:!1,isPersited:!0},"RC:GrpNtf":{isCounted:!1,isPersited:!0},"RC:RcCmd":{isCounted:!1,isPersited:!0},"RC:CmdMsg":{isCounted:!1,isPersited:!1},"RC:TypSts":{isCounted:!1,isPersited:!1},"RC:PSCmd":{isCounted:!1,isPersited:!1},"RC:SRSMsg":{isCounted:!1,isPersited:!1},"RC:RRReqMsg":{isCounted:!1,isPersited:!1},"RC:RRRspMsg":{isCounted:!1,isPersited:!1},"RC:CsChaR":{isCounted:!1,isPersited:!1},"RC:CSCha":{isCounted:!1,isPersited:!1},"RC:CsEva":{isCounted:!1,isPersited:!1},"RC:CsContact":{isCounted:!1,isPersited:!1},"RC:CsHs":{isCounted:!1,isPersited:!1},"RC:CsHsR":{isCounted:!1,isPersited:!1},"RC:CsSp":{isCounted:!1,isPersited:!1},"RC:CsEnd":{isCounted:!1,isPersited:!1},"RC:CsUpdate":{isCounted:!1,isPersited:!1},"RC:ReadNtf":{isCounted:!1,isPersited:!1},"RC:chrmKVNotiMsg":{isCounted:!1,isPersited:!1},"RC:VCAccept":{isCounted:!1,isPersited:!1},"RC:VCRinging":{isCounted:!1,isPersited:!1},"RC:VCSummary":{isCounted:!1,isPersited:!1},"RC:VCHangup":{isCounted:!1,isPersited:!1},"RC:VCInvite":{isCounted:!1,isPersited:!1},"RC:VCModifyMedia":{isCounted:!1,isPersited:!1},"RC:VCModifyMem":{isCounted:!1,isPersited:!1},"RC:MsgExMsg":{isCounted:!1,isPersited:!1},"RC:RRMsg":{isCounted:!1,isPersited:!1},"RC:LogCmdMsg":{isCounted:!1,isPersited:!1}},f=["RC:TypSts"];!function(e){e.WEBSOCKET="websocket",e.COMET="comet"}(i||(i={}));var d=function(e){return o||(o={set:function(t,n){e.localStorage.setItem(t,JSON.stringify(n))},get:function(t){var n;try{n=JSON.parse(e.localStorage.getItem(t))}catch(e){n=null}return n},remove:function(t){return e.localStorage.removeItem(t)},getKeys:function(){var t=[];for(var n in e.localStorage)t.push(n);return t}}),o},h=function(){function e(e){this._caches={},e&&(this._caches=e)}return e.prototype.set=function(e,t){this._caches[e]=t},e.prototype.remove=function(e){var t=this.get(e);return delete this._caches[e],t},e.prototype.get=function(e){return this._caches[e]},e.prototype.getKeys=function(){var e=[];for(var t in this._caches)e.push(t);return e},e}(),p=function(){function e(e,t){var n,r=t?"RCV4-"+t:"RCV4-";this._rootStorage=d(e);var i=this._rootStorage.get(r)||{};this._cache=new h(((n={})[r]=i,n)),this._storageKey=r}return e.prototype._get=function(){var e=this._storageKey;return this._cache.get(e)||{}},e.prototype._set=function(e){var t=this._storageKey;e=e||{},this._cache.set(t,e),this._rootStorage.set(t,e)},e.prototype.set=function(e,t){var n=this._get();n[e]=t,this._set(n)},e.prototype.remove=function(e){var t=this._get();delete t[e],this._set(t)},e.prototype.clear=function(){var e=this._storageKey;this._rootStorage.remove(e),this._cache.remove(e)},e.prototype.get=function(e){return this._get()[e]},e.prototype.getKeys=function(){var e=this._get(),t=[];for(var n in e)t.push(n);return t},e.prototype.getValues=function(){return this._get()||{}},e}(),m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function _(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function b(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function C(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}(function(e){function t(t){return e.call(this,"TODO => "+t)||this}v(t,e)})(Error);var E,S,w=function(e,t,n){if(void 0===t||void 0===n)return e.toUpperCase();var r=e.slice(t,n);return e.replace(r,(function(e){return e.toUpperCase()}))},T=function(e,t){void 0===t&&(t="utf-8");var n,r=0;if("utf-16"===t)for(var i=0,o=e.length;i<o;i++)r+=(n=e.charCodeAt(i))<=65535?2:4;else for(i=0,o=e.length;i<o;i++)r+=(n=e.charCodeAt(i))<127?1:n<=2047?2:n<=65535?3:4;return r},I=function(e,t){if(e=e.replace(/\?$/,""),!t)return e;var n=Object.keys(t).map((function(e){return e+"="+t[e]})).filter((function(e){return!!e}));return n.length?[e,n.join("&")].join("?"):e},R=function(e){return e.match(/\d+(\.\d+){2}/)[0]};!function(e){e[e.LOG=0]="LOG",e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.FATAL=4]="FATAL",e[e.NONE=1e3]="NONE"}(E||(E={})),function(e){e.IM="IM",e.RTC="RTC"}(S||(S={}));var O="RC_Logs";function x(e){var t=e.target.result;1===e.oldVersion&&t.deleteObjectStore(O),function(e,t,n){var r;if(!e.objectStoreNames.contains(t)){var i=y({},n.objectStoreParams);r=e.createObjectStore(t,i),n.indexs&&n.indexs.length>0&&n.indexs.forEach((function(e){r.createIndex(e.indexName,e.key,{unique:e.unique})}))}}(t,O,{indexs:[{indexName:"time",key:"time",unique:!1}],objectStoreParams:{autoIncrement:!0}})}var N,M=function(){function e(){}return e.init=function(){if("undefined"!=typeof window&&window&&window.indexedDB){var t=window.indexedDB.open("RC_ENGINE_DB",2);t.onerror=function(e){console.warn("open indexDB request failed "+e.target.error)},t.onsuccess=function(t){e._db=t.target.result,e._instance=new e},t.onupgradeneeded=function(t){e._db=t.target.result,x(t)}}else console.debug("IndexDB is not currently supported in the environment!")},e.getInstance=function(){return e._instance},e.prototype.addList=function(t,n){return new Promise((function(r){if(e._db){var i=e._db.transaction([t],"readwrite"),o=i.objectStore(t);n.forEach((function(e){null==o||o.add(e)})),i.oncomplete=function(e){r(!0)},i.onerror=function(e){r(!1)}}else r(!1)}))},e.prototype.getRangeData=function(t,n,r,i){return new Promise((function(o){if(e._db){var s=e._db.transaction([t],"readwrite").objectStore(t),a=IDBKeyRange.bound(r,i),c=s.index(n),u=[],l=c.openCursor(a);l.onsuccess=function(e){var t=e.target.result;t?(u.push(t.value),t.continue()):o(u)},l.onerror=function(e){console.error(e),o([])}}else o([])}))},e.prototype.getCount=function(t,n){return new Promise((function(n){if(e._db){var r=e._db.transaction([t],"readonly").objectStore(t).count();r.onsuccess=function(){n(r.result)},r.onerror=function(e){console.error(e),n(0)}}else n(0)}))},e.prototype.removeFirstData=function(t,n,r){return new Promise((function(n){if(e._db){var i=e._db.transaction([t],"readwrite").objectStore(t),o=i.getAllKeys(IDBKeyRange.lowerBound(0),r);o.onsuccess=function(){var e=o.result;e.length>0&&(i.delete(IDBKeyRange.bound(e[0],e[e.length-1])).onsuccess=function(){n(!0)})}}else n(!1)}))},e._db=null,e}(),A=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},L=function(){var e=A();if(e=e.replace(/-/g,"")+"a",(e=function(e){var t="0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZa0".split(""),n=t.length+1,r=+e,i=[];do{var o=r%n;r=(r-o)/n,i.unshift(t[o])}while(r);return i.join("")}(e=parseInt(e,16))).length>22&&(e=e.slice(0,22)),e.length<22)for(var t=22-e.length,n=0;n<t;n++)e+="0";return e};!function(e){e[e.NONE=0]="NONE",e[e.PRIVATE=1]="PRIVATE",e[e.DISCUSSION=2]="DISCUSSION",e[e.GROUP=3]="GROUP",e[e.CHATROOM=4]="CHATROOM",e[e.CUSTOMER_SERVICE=5]="CUSTOMER_SERVICE",e[e.SYSTEM=6]="SYSTEM",e[e.APP_PUBLIC_SERVICE=7]="APP_PUBLIC_SERVICE",e[e.PUBLIC_SERVICE=8]="PUBLIC_SERVICE",e[e.RTC_ROOM=12]="RTC_ROOM"}(N||(N={}));var P,U=N;!function(e){e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.FILE=4]="FILE",e[e.SIGHT=5]="SIGHT",e[e.COMBINE_HTML=6]="COMBINE_HTML"}(P||(P={}));var k,D,j=P,B=function(e){return"string"==typeof e},V=function(e){return"boolean"==typeof e},F=function(e){return"number"==typeof e&&!isNaN(e)},H=function(e){return-1!==Object.prototype.toString.call(e).indexOf("Array")},$=function(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)},q=function(e){return B(e)&&e.length>0},G=function(e){return"[object Object]"===Object.prototype.toString.call(e)},z=function(e){return"[object Function]"===Object.prototype.toString.call(e)},K=function(e){return void 0===e||"[object Undefined]"===Object.prototype.toString.call(e)},Y=function(e){return"[object Null]"===Object.prototype.toString.call(e)},W=function(e){return B(e)&&/https?:\/\//.test(e)},J=function(e){for(var t in e)return!0;return!1},Q=function(e){return F(e)&&Object.prototype.hasOwnProperty.call(U,e)},X=function(e){return F(e)&&Object.prototype.hasOwnProperty.call(j,e)},Z=((k={})[E.DEBUG]=console.debug.bind(console),k[E.INFO]=console.info.bind(console),k[E.WARN]=console.warn.bind(console),k[E.ERROR]=console.error.bind(console),k[E.FATAL]=console.log.bind(console),k),ee=function(e){return B(e)||F(e)||K(e)||V(e)?e:e instanceof Error?JSON.stringify({name:e.name,message:e.message,stack:e.stack}):JSON.stringify(e)},te=function(){function e(e,t,n){this.tag=e,this.type=t,this.initiator=n,this._outLevel=E.WARN,this.debug=this.log.bind(this,E.DEBUG),this.info=this.log.bind(this,E.INFO),this.warn=this.log.bind(this,E.WARN),this.error=this.log.bind(this,E.ERROR),this.fatal=this.log.bind(this,E.FATAL)}return e.init=function(t){e.userId=t},e.reset=function(){e.userId=""},e.prototype._defaultStdout=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];Z[e].apply(Z,C([t+":"],n))},e.prototype.__pushLocalLog=function(t,n,r){var i;i=this.type?this.type:["RCRTCLog","RCCall","RCRTC","RTC-A"].includes(this.tag)?S.RTC:S.IM;var o=Date.now();T(n)>=1e3&&(n=function(e,t,n){if(void 0===n&&(n="utf-8"),!e||!t)return"";var r="utf-8"===n?3:2,i=0,o=0,s="";for(o=0;o<e.length;o++){if(e.charCodeAt(o)>255?i+=r:i++,i>t)return s;s+=e.charAt(o)}return e}(n,1e3));var s=JSON.stringify({message:n,userId:e.userId}).replace(/"/g,'""'),a=/^[\w]+-[\w]+-[\w]+?/.test(r)?r:(this.initiator||"L")+"-"+r+"-O",c={sessionId:e.sessionId,time:o,level:4-t,content:e.sessionId+","+Date.now()+","+i+","+(4-t)+","+a+',"'+s+'"\n',userId:e.userId};e.databaseLogList.push(c),e.databaseLogList.length>=100&&this.__insertLogIntoDatabase()},e.prototype.__insertLogIntoDatabase=function(){return _(this,void 0,void 0,(function(){var t,n,r;return b(this,(function(i){switch(i.label){case 0:return t=C([],e.databaseLogList),e.databaseLogList=[],(n=M.getInstance())?[4,n.addList(O,t)]:[3,3];case 1:return r=i.sent(),[4,n.getCount(O,"time")];case 2:return i.sent()>1e5&&n.removeFirstData(O,"time",2e3),[2,r];case 3:return[2,!1]}}))}))},e.prototype.setLogLevel=function(e){this._outLevel="number"!=typeof e?E.WARN:e},e.prototype.setLogStdout=function(e){this._logStdout=e},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this.__pushLocalLog(e,t.map(ee).join(" "),this.tag),!(e<this._outLevel)){var r=(new Date).toISOString()+"["+this.tag+"]["+E[e]+"]",i=r+" - "+t.map(ee).join(" ");this._logStdout?this._logStdout(e,i):this._stdout?this._stdout(e,i):this._defaultStdout.apply(this,C([e,r],t))}},e.prototype.reportLog=function(t,n,r){this.__pushLocalLog(4-t,r,n);var i=JSON.stringify({message:r}).replace(/"/g,'""');i='"'+i+'"';var o={level:t,content:[e.sessionId,Date.now(),this.type,t,n,i].join()+"\n"};e.realTimeLogList.push(o),e.realTimeLogList.length>=600&&(e.realTimeLogList=e.realTimeLogList.slice(-500))},e.prototype.set=function(e,t){this.warn("logger.set has being deprecated!")},e.prototype.setStdout=function(e){this._stdout=e},e.prototype.__clearRealTimeLog=function(){e.realTimeLogList=[]},e.databaseLogList=[],e.realTimeLogList=[],e.sessionId=L(),e.userId="",e}(),ne=new te("RCLog"),re=function(){function e(){this._map={}}return e.prototype.on=function(e,t,n){var r=this._map[e]||(this._map[e]=[]);r.some((function(e){return e.listener===t&&e.target===n}))||r.push({listener:t,target:n})},e.prototype.once=function(e,t,n){var r=this._map[e]||(this._map[e]=[]);r.some((function(e){return e.listener===t&&e.target===n}))||r.push({listener:t,target:n,once:!0})},e.prototype.off=function(e,t,n){var r=this._map[e];r&&((r=r.filter((function(e){return e.listener!==t||e.target!==n}))).length?this._map[e]=r:delete this._map[e])},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this._map[e];if(r)for(var i=r.length-1;i>=0;i-=1){var o=r[i],s=o.target,a=o.once,c=o.listener;a&&r.splice(i,1);try{c.call.apply(c,C([s],t))}catch(e){ne.error(e)}}},e.prototype.removeAll=function(e){delete this._map[e]},e.prototype.clear=function(){Object.keys(this._map).forEach(this.removeAll,this)},e}();!function(e){e[e.SEND=1]="SEND",e[e.RECEIVE=2]="RECEIVE"}(D||(D={}));var ie,oe=D;!function(e){e[e.TIMEOUT=-1]="TIMEOUT",e[e.UNKNOWN=-2]="UNKNOWN",e[e.PARAMETER_ERROR=-3]="PARAMETER_ERROR",e[e.EXTRA_METHOD_UNDEFINED=-4]="EXTRA_METHOD_UNDEFINED",e[e.MAIN_PROCESS_ERROR=-5]="MAIN_PROCESS_ERROR",e[e.SUCCESS=0]="SUCCESS",e[e.RC_MSG_UNAUTHORIZED=20406]="RC_MSG_UNAUTHORIZED",e[e.RC_DISCUSSION_GROUP_ID_INVALID=20407]="RC_DISCUSSION_GROUP_ID_INVALID",e[e.SEND_FREQUENCY_TOO_FAST=20604]="SEND_FREQUENCY_TOO_FAST",e[e.NOT_IN_DISCUSSION=21406]="NOT_IN_DISCUSSION",e[e.FORBIDDEN_IN_GROUP=22408]="FORBIDDEN_IN_GROUP",e[e.RECALL_MESSAGE=25101]="RECALL_MESSAGE",e[e.NOT_IN_GROUP=22406]="NOT_IN_GROUP",e[e.NOT_IN_CHATROOM=23406]="NOT_IN_CHATROOM",e[e.FORBIDDEN_IN_CHATROOM=23408]="FORBIDDEN_IN_CHATROOM",e[e.RC_CHATROOM_USER_KICKED=23409]="RC_CHATROOM_USER_KICKED",e[e.RC_CHATROOM_NOT_EXIST=23410]="RC_CHATROOM_NOT_EXIST",e[e.RC_CHATROOM_IS_FULL=23411]="RC_CHATROOM_IS_FULL",e[e.RC_CHATROOM_PATAMETER_INVALID=23412]="RC_CHATROOM_PATAMETER_INVALID",e[e.CHATROOM_GET_HISTORYMSG_ERROR=23413]="CHATROOM_GET_HISTORYMSG_ERROR",e[e.CHATROOM_NOT_OPEN_HISTORYMSG_STORE=23414]="CHATROOM_NOT_OPEN_HISTORYMSG_STORE",e[e.CHATROOM_KV_EXCEED=23423]="CHATROOM_KV_EXCEED",e[e.CHATROOM_KV_OVERWRITE_INVALID=23424]="CHATROOM_KV_OVERWRITE_INVALID",e[e.CHATROOM_KV_STORE_NOT_OPEN=23426]="CHATROOM_KV_STORE_NOT_OPEN",e[e.CHATROOM_KEY_NOT_EXIST=23427]="CHATROOM_KEY_NOT_EXIST",e[e.SENSITIVE_SHIELD=21501]="SENSITIVE_SHIELD",e[e.SENSITIVE_REPLACE=21502]="SENSITIVE_REPLACE",e[e.JOIN_IN_DISCUSSION=21407]="JOIN_IN_DISCUSSION",e[e.CREATE_DISCUSSION=21408]="CREATE_DISCUSSION",e[e.INVITE_DICUSSION=21409]="INVITE_DICUSSION",e[e.GET_USERINFO_ERROR=23407]="GET_USERINFO_ERROR",e[e.REJECTED_BY_BLACKLIST=405]="REJECTED_BY_BLACKLIST",e[e.RC_NET_CHANNEL_INVALID=30001]="RC_NET_CHANNEL_INVALID",e[e.RC_NET_UNAVAILABLE=30002]="RC_NET_UNAVAILABLE",e[e.RC_MSG_RESP_TIMEOUT=30003]="RC_MSG_RESP_TIMEOUT",e[e.RC_HTTP_SEND_FAIL=30004]="RC_HTTP_SEND_FAIL",e[e.RC_HTTP_REQ_TIMEOUT=30005]="RC_HTTP_REQ_TIMEOUT",e[e.RC_HTTP_RECV_FAIL=30006]="RC_HTTP_RECV_FAIL",e[e.RC_NAVI_RESOURCE_ERROR=30007]="RC_NAVI_RESOURCE_ERROR",e[e.RC_NODE_NOT_FOUND=30008]="RC_NODE_NOT_FOUND",e[e.RC_DOMAIN_NOT_RESOLVE=30009]="RC_DOMAIN_NOT_RESOLVE",e[e.RC_SOCKET_NOT_CREATED=30010]="RC_SOCKET_NOT_CREATED",e[e.RC_SOCKET_DISCONNECTED=30011]="RC_SOCKET_DISCONNECTED",e[e.RC_PING_SEND_FAIL=30012]="RC_PING_SEND_FAIL",e[e.RC_PONG_RECV_FAIL=30013]="RC_PONG_RECV_FAIL",e[e.RC_MSG_SEND_FAIL=30014]="RC_MSG_SEND_FAIL",e[e.RC_MSG_CONTENT_EXCEED_LIMIT=30016]="RC_MSG_CONTENT_EXCEED_LIMIT",e[e.RC_CONN_ACK_TIMEOUT=31e3]="RC_CONN_ACK_TIMEOUT",e[e.RC_CONN_PROTO_VERSION_ERROR=31001]="RC_CONN_PROTO_VERSION_ERROR",e[e.RC_CONN_ID_REJECT=31002]="RC_CONN_ID_REJECT",e[e.RC_CONN_SERVER_UNAVAILABLE=31003]="RC_CONN_SERVER_UNAVAILABLE",e[e.RC_CONN_USER_OR_PASSWD_ERROR=31004]="RC_CONN_USER_OR_PASSWD_ERROR",e[e.RC_CONN_NOT_AUTHRORIZED=31005]="RC_CONN_NOT_AUTHRORIZED",e[e.RC_CONN_REDIRECTED=31006]="RC_CONN_REDIRECTED",e[e.RC_CONN_PACKAGE_NAME_INVALID=31007]="RC_CONN_PACKAGE_NAME_INVALID",e[e.RC_CONN_APP_BLOCKED_OR_DELETED=31008]="RC_CONN_APP_BLOCKED_OR_DELETED",e[e.RC_CONN_USER_BLOCKED=31009]="RC_CONN_USER_BLOCKED",e[e.RC_DISCONN_KICK=31010]="RC_DISCONN_KICK",e[e.RC_DISCONN_EXCEPTION=31011]="RC_DISCONN_EXCEPTION",e[e.RC_QUERY_ACK_NO_DATA=32001]="RC_QUERY_ACK_NO_DATA",e[e.RC_MSG_DATA_INCOMPLETE=32002]="RC_MSG_DATA_INCOMPLETE",e[e.BIZ_ERROR_CLIENT_NOT_INIT=33001]="BIZ_ERROR_CLIENT_NOT_INIT",e[e.BIZ_ERROR_DATABASE_ERROR=33002]="BIZ_ERROR_DATABASE_ERROR",e[e.BIZ_ERROR_INVALID_PARAMETER=33003]="BIZ_ERROR_INVALID_PARAMETER",e[e.BIZ_ERROR_NO_CHANNEL=33004]="BIZ_ERROR_NO_CHANNEL",e[e.BIZ_ERROR_RECONNECT_SUCCESS=33005]="BIZ_ERROR_RECONNECT_SUCCESS",e[e.BIZ_ERROR_CONNECTING=33006]="BIZ_ERROR_CONNECTING",e[e.MSG_ROAMING_SERVICE_UNAVAILABLE=33007]="MSG_ROAMING_SERVICE_UNAVAILABLE",e[e.MSG_INSERT_ERROR=33008]="MSG_INSERT_ERROR",e[e.MSG_DEL_ERROR=33009]="MSG_DEL_ERROR",e[e.TAG_NOT_EXIST=33101]="TAG_NOT_EXIST",e[e.NO_TAG_IN_CONVER=33102]="NO_TAG_IN_CONVER",e[e.CONVER_REMOVE_ERROR=34001]="CONVER_REMOVE_ERROR",e[e.CONVER_GETLIST_ERROR=34002]="CONVER_GETLIST_ERROR",e[e.CONVER_SETOP_ERROR=34003]="CONVER_SETOP_ERROR",e[e.CONVER_TOTAL_UNREAD_ERROR=34004]="CONVER_TOTAL_UNREAD_ERROR",e[e.CONVER_TYPE_UNREAD_ERROR=34005]="CONVER_TYPE_UNREAD_ERROR",e[e.CONVER_ID_TYPE_UNREAD_ERROR=34006]="CONVER_ID_TYPE_UNREAD_ERROR",e[e.CONVER_CLEAR_ERROR=34007]="CONVER_CLEAR_ERROR",e[e.EXPANSION_LIMIT_EXCEET=34010]="EXPANSION_LIMIT_EXCEET",e[e.MESSAGE_KV_NOT_SUPPORT=34008]="MESSAGE_KV_NOT_SUPPORT",e[e.CLEAR_HIS_TIME_ERROR=34011]="CLEAR_HIS_TIME_ERROR",e[e.CONVER_OUT_LIMIT_ERROR=34013]="CONVER_OUT_LIMIT_ERROR",e[e.CONVER_GET_ERROR=34009]="CONVER_GET_ERROR",e[e.GROUP_SYNC_ERROR=35001]="GROUP_SYNC_ERROR",e[e.GROUP_MATCH_ERROR=35002]="GROUP_MATCH_ERROR",e[e.READ_RECEIPT_ERROR=35003]="READ_RECEIPT_ERROR",e[e.PACKAGE_ENVIRONMENT_ERROR=35006]="PACKAGE_ENVIRONMENT_ERROR",e[e.CAN_NOT_RECONNECT=35007]="CAN_NOT_RECONNECT",e[e.SERVER_UNAVAILABLE=35008]="SERVER_UNAVAILABLE",e[e.HOSTNAME_ERROR=35009]="HOSTNAME_ERROR",e[e.HAS_OHTER_SAME_CLIENT_ON_LINE=35010]="HAS_OHTER_SAME_CLIENT_ON_LINE",e[e.CHATROOM_ID_ISNULL=36001]="CHATROOM_ID_ISNULL",e[e.CHARTOOM_JOIN_ERROR=36002]="CHARTOOM_JOIN_ERROR",e[e.CHATROOM_HISMESSAGE_ERROR=36003]="CHATROOM_HISMESSAGE_ERROR",e[e.CHATROOM_KV_NOT_FOUND=36004]="CHATROOM_KV_NOT_FOUND",e[e.BLACK_ADD_ERROR=37001]="BLACK_ADD_ERROR",e[e.BLACK_GETSTATUS_ERROR=37002]="BLACK_GETSTATUS_ERROR",e[e.BLACK_REMOVE_ERROR=37003]="BLACK_REMOVE_ERROR",e[e.DRAF_GET_ERROR=38001]="DRAF_GET_ERROR",e[e.DRAF_SAVE_ERROR=38002]="DRAF_SAVE_ERROR",e[e.DRAF_REMOVE_ERROR=38003]="DRAF_REMOVE_ERROR",e[e.SUBSCRIBE_ERROR=39001]="SUBSCRIBE_ERROR",e[e.NOT_SUPPORT=39002]="NOT_SUPPORT",e[e.QNTKN_FILETYPE_ERROR=41001]="QNTKN_FILETYPE_ERROR",e[e.QNTKN_GET_ERROR=41002]="QNTKN_GET_ERROR",e[e.COOKIE_ENABLE=51001]="COOKIE_ENABLE",e[e.GET_MESSAGE_BY_ID_ERROR=61001]="GET_MESSAGE_BY_ID_ERROR",e[e.HAVNODEVICEID=24001]="HAVNODEVICEID",e[e.DEVICEIDISHAVE=24002]="DEVICEIDISHAVE",e[e.FEILD=24009]="FEILD",e[e.VOIPISNULL=24013]="VOIPISNULL",e[e.NOENGINETYPE=24010]="NOENGINETYPE",e[e.NULLCHANNELNAME=24011]="NULLCHANNELNAME",e[e.VOIPDYANMICERROR=24012]="VOIPDYANMICERROR",e[e.NOVOIP=24014]="NOVOIP",e[e.INTERNALERRROR=24015]="INTERNALERRROR",e[e.VOIPCLOSE=24016]="VOIPCLOSE",e[e.CLOSE_BEFORE_OPEN=51001]="CLOSE_BEFORE_OPEN",e[e.ALREADY_IN_USE=51002]="ALREADY_IN_USE",e[e.INVALID_CHANNEL_NAME=51003]="INVALID_CHANNEL_NAME",e[e.VIDEO_CONTAINER_IS_NULL=51004]="VIDEO_CONTAINER_IS_NULL",e[e.DELETE_MESSAGE_ID_IS_NULL=61001]="DELETE_MESSAGE_ID_IS_NULL",e[e.CANCEL=1]="CANCEL",e[e.REJECT=2]="REJECT",e[e.HANGUP=3]="HANGUP",e[e.BUSYLINE=4]="BUSYLINE",e[e.NO_RESPONSE=5]="NO_RESPONSE",e[e.ENGINE_UN_SUPPORTED=6]="ENGINE_UN_SUPPORTED",e[e.NETWORK_ERROR=7]="NETWORK_ERROR",e[e.REMOTE_CANCEL=11]="REMOTE_CANCEL",e[e.REMOTE_REJECT=12]="REMOTE_REJECT",e[e.REMOTE_HANGUP=13]="REMOTE_HANGUP",e[e.REMOTE_BUSYLINE=14]="REMOTE_BUSYLINE",e[e.REMOTE_NO_RESPONSE=15]="REMOTE_NO_RESPONSE",e[e.REMOTE_ENGINE_UN_SUPPORTED=16]="REMOTE_ENGINE_UN_SUPPORTED",e[e.REMOTE_NETWORK_ERROR=17]="REMOTE_NETWORK_ERROR",e[e.VOIP_NOT_AVALIABLE=18]="VOIP_NOT_AVALIABLE"}(ie||(ie={}));var se,ae=ie;!function(e){e[e.CONNECTED=0]="CONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.NETWORK_UNAVAILABLE=3]="NETWORK_UNAVAILABLE",e[e.CONNECTION_CLOSED=4]="CONNECTION_CLOSED",e[e.KICKED_OFFLINE_BY_OTHER_CLIENT=6]="KICKED_OFFLINE_BY_OTHER_CLIENT",e[e.WEBSOCKET_UNAVAILABLE=7]="WEBSOCKET_UNAVAILABLE",e[e.WEBSOCKET_ERROR=8]="WEBSOCKET_ERROR",e[e.BLOCKED=9]="BLOCKED",e[e.DOMAIN_INCORRECT=12]="DOMAIN_INCORRECT",e[e.DISCONNECT_BY_SERVER=13]="DISCONNECT_BY_SERVER",e[e.REDIRECT=14]="REDIRECT",e[e.APPKEY_IS_FAKE=20]="APPKEY_IS_FAKE",e[e.ULTRALIMIT=1101]="ULTRALIMIT",e[e.REQUEST_NAVI=201]="REQUEST_NAVI",e[e.RESPONSE_NAVI=202]="RESPONSE_NAVI",e[e.RESPONSE_NAVI_ERROR=203]="RESPONSE_NAVI_ERROR",e[e.RESPONSE_NAVI_TIMEOUT=204]="RESPONSE_NAVI_TIMEOUT"}(se||(se={}));var ce,ue=se,le={ACCEPTED:0,UNACCEPTABLE_PROTOCOL_VERSION:1,IDENTIFIER_REJECTED:2,SERVER_UNAVAILABLE:3,TOKEN_INCORRECT:4,NOT_AUTHORIZED:5,REDIRECT:6,PACKAGE_ERROR:7,APP_BLOCK_OR_DELETE:8,BLOCK:9,TOKEN_EXPIRE:10,DEVICE_ERROR:11,HOSTNAME_ERROR:12,HASOHTERSAMECLIENTONLINE:13};!function(e){e.TextMessage="RC:TxtMsg",e.VOICE="RC:VcMsg",e.HQ_VOICE="RC:HQVCMsg",e.IMAGE="RC:ImgMsg",e.GIF="RC:GIFMsg",e.RICH_CONTENT="RC:ImgTextMsg",e.LOCATION="RC:LBSMsg",e.FILE="RC:FileMsg",e.SIGHT="RC:SightMsg",e.COMBINE="RC:CombineMsg",e.CHRM_KV_NOTIFY="RC:chrmKVNotiMsg",e.LOG_COMMAND="RC:LogCmdMsg",e.EXPANSION_NOTIFY="RC:MsgExMsg",e.REFERENCE="RC:ReferenceMsg",e.RECALL="RC:RcCmd",e.READ_RECEIPT="RC:ReadNtf",e.READ_RECEIPT_REQUEST="RC:RRReqMsg",e.READ_RECEIPT_RESPONSE="RC:RRRspMsg",e.SYNC_READ_STATUS="RC:SRSMsg",e.GROUP_READ_RECEIPT_REQUEST="RC:RRMsg"}(ce||(ce={}));var fe,de=ce;!function(e){e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(fe||(fe={}));var he,pe=fe;!function(e){e[e.ALL=1]="ALL",e[e.SINGAL=2]="SINGAL"}(he||(he={}));var ge,me=he;!function(e){e[e.QINIU=1]="QINIU",e[e.ALI=2]="ALI",e[e.AWS=3]="AWS",e[e.STC=4]="STC"}(ge||(ge={}));var ve,ye=ge;!function(e){e[e.UPDATE=1]="UPDATE",e[e.DELETE=2]="DELETE"}(ve||(ve={}));var _e,be,Ce,Ee=ve;!function(e){e[e.RTC=0]="RTC",e[e.LIVE=2]="LIVE"}(_e||(_e={})),function(e){e[e.AUDIO_AND_VIDEO=0]="AUDIO_AND_VIDEO",e[e.AUDIO=1]="AUDIO"}(be||(be={})),function(e){e[e.ANCHOR=1]="ANCHOR",e[e.AUDIENCE=2]="AUDIENCE"}(Ce||(Ce={}));var Se,we,Te,Ie,Re={"RC:VCAccept":"RC:VCAccept","RC:VCRinging":"RC:VCRinging","RC:VCSummary":"RC:VCSummary","RC:VCHangup":"RC:VCHangup","RC:VCInvite":"RC:VCInvite","RC:VCModifyMedia":"RC:VCModifyMedia","RC:VCModifyMem":"RC:VCModifyMem"};!function(e){e[e.ROOM=1]="ROOM",e[e.PERSON=2]="PERSON"}(Se||(Se={})),function(e){e[e.AnchorToViewer=1]="AnchorToViewer",e[e.ViewerToAnchor=2]="ViewerToAnchor"}(we||(we={})),function(e){e[e.STRING=0]="STRING",e[e.ONLY_STRING=1]="ONLY_STRING",e[e.NUMBER=2]="NUMBER",e[e.BOOLEAN=3]="BOOLEAN",e[e.OBJECT=4]="OBJECT",e[e.ARRAY=5]="ARRAY",e[e.CALLBACK=6]="CALLBACK"}(Ie||(Ie={}));var Oe,xe,Ne,Me,Ae=((Te={})[Ie.STRING]=q,Te[Ie.ONLY_STRING]=B,Te[Ie.NUMBER]=F,Te[Ie.BOOLEAN]=function(e){return"boolean"==typeof e},Te[Ie.OBJECT]=G,Te[Ie.ARRAY]=H,Te[Ie.CALLBACK]=function(e){var t=!0;return G(e)||(t=!1),(e=e||{}).onSuccess&&!z(e.onSuccess)&&(t=!1),e.onError&&!z(e.onError)&&(t=!1),t},Te),Le=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RCAssertError",n}return v(t,e),t}(Error),Pe=function(e,t,n,r){if(void 0===r&&(r=!1),!Ue(e,t,n,r))throw new Le("'"+e+"' is invalid: "+JSON.stringify(t))},Ue=function(e,t,n,r){void 0===r&&(r=!1),n=Ae[n]||n;var i=r&&!n(t)||!r&&!(K(t)||null===t||n(t));return i&&ne.error("'"+e+"' is invalid: "+JSON.stringify(t)),!i},ke=function(e){if(!G(e)||void 0===e.low||void 0===e.high)return e;var t=e.low;return t<0&&(t+=4294967296),t=t.toString(16),parseInt(e.high.toString(16)+"00000000".replace(new RegExp("0{"+t.length+"}$"),t),16)},De=function(e,t){var n=Math.floor(1e3*Math.random()%1e4),r=A(),i=function(e){e=e||"-";var t=new Date;return""+t.getFullYear()+e+(t.getMonth()+1)+e+t.getDate()}(),o=(new Date).getTime(),s="";if(t){var a=t.split(".");s="."+a[a.length-1]}return e+"__RC-"+i+"_"+n+"_"+o+r+s},je=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.threadId,r=e.apnsCollapseId,i=e.category,o=e.richMediaUri,s=t.channelIdMi,a=t.channelIdHW,c=t.channelIdOPPO,u=t.typeVivo,l=t.googleConfig,f={};f["thread-id"]=n||"",f["apns-collapse-id"]=r||"",f.category=i||"",f.richMediaUri=o||"";var d={};d.collapse_key=null==l?void 0:l.collapseKey,d.imageUrl=null==l?void 0:l.imageUrl;var h=null==l?void 0:l.priority;h&&!["high","normal"].includes(h)&&(h="normal"),d.priority=h;var p=[{HW:{channelId:a||""}},{MI:{channelId:s||""}},{OPPO:{channelId:c||""}},{VIVO:{classification:u||""}},{APNS:f},{FCM:d}];return JSON.stringify(p)},Be=function(e,t){var n={},r={notificationId:t||""};if(!e)return{iOSConfig:n,androidConfig:r};try{var i=JSON.parse(e);null==i||i.forEach((function(e){var t,i,o,s,a=Object.keys(e);if(0!==a.length){var c=a[0];switch(c){case"HW":return void(r.channelIdHW=null===(t=e[c])||void 0===t?void 0:t.channelId);case"MI":return void(r.channelIdMi=null===(i=e[c])||void 0===i?void 0:i.channelId);case"OPPO":return void(r.channelIdOPPO=null===(o=e[c])||void 0===o?void 0:o.channelId);case"VIVO":return void(r.typeVivo=null===(s=e[c])||void 0===s?void 0:s.classification);case"APNS":return n.threadId=e[c]["thread-id"],n.apnsCollapseId=e[c]["apns-collapse-id"],n.category=e[c].category,void(n.richMediaUri=e[c].richMediaUri);case"FCM":r.googleConfig={collapseKey:e[c].collapse_key||"",imageUrl:e[c].imageUrl||"",priority:e[c].priority||""}}}}))}catch(t){ne.error("Wrong format for pushConfigs field! content: "+e)}return{iOSConfig:n,androidConfig:r}},Ve=function(e){var t=/^[A-Za-z0-9_=+-]+$/.test(e),n=e.length;return t&&n<=128&&n>=1},Fe=function(e){var t=e.length;return t<=4096&&t>=1},He=function(e,t,n){t=t||function(){};var r=(n=n||{}).isReverse;G(e)&&function(){for(var n in e)t(e[n],n,e)}(),(H(e)||B(e))&&function(){if(r)for(var n=e.length-1;n>=0;n--)t(e[n],n);else for(var i=0,o=e.length;i<o;i++)t(e[i],i)}()},$e=function(e,t){return He(e,(function(n,r){e[r]=t(n,r)})),e},qe=function(e,t){if(e.indexOf)return e.indexOf(t);var n=-1;return He(e,(function(e,r){t===e&&(n=r)})),n},Ge=function(e,t){var n=[];return He(e,(function(e){n.push(e)})),-1!==qe(n,t)},ze=function(e){return JSON.parse(JSON.stringify(e))},Ke=function(){return"undefined"!=typeof RCCppEngine},Ye=function(e){if("browser"!==e.tag)return{type:e.tag,version:"UnKonw"};var t,n,r=navigator.userAgent,i={IE:/rv:([\d.]+)\) like Gecko|MSIE ([\d.]+)/,Edge:/Edge\/([\d.]+)/,Firefox:/Firefox\/([\d.]+)/,Opera:/(?:OPERA|OPR).([\d.]+)/,WeChat:/MicroMessenger\/([\d.]+)/,QQBrowser:/QQBrowser\/([\d.]+)/,Chrome:/Chrome\/([\d.]+)/,Safari:/Version\/([\d.]+).*Safari/,iOSChrome:/Mobile\/([\d.]+).*Safari/};for(var o in i)if(i.hasOwnProperty(o)){var s=r.match(i[o]);if(s){n=o,t=s[1]||s[2];break}}return{type:n||"UnKonw",version:t||"UnKonw"}},We=function(e){switch(e){case le.SERVER_UNAVAILABLE:return ae.SERVER_UNAVAILABLE;case le.TOKEN_INCORRECT:return ae.RC_CONN_USER_OR_PASSWD_ERROR;case le.REDIRECT:return ae.RC_CONN_REDIRECTED;case le.APP_BLOCK_OR_DELETE:return ae.RC_CONN_APP_BLOCKED_OR_DELETED;case le.BLOCK:return ae.RC_CONN_USER_BLOCKED;case le.TOKEN_EXPIRE:return ae.RC_CONN_USER_OR_PASSWD_ERROR;case le.HOSTNAME_ERROR:return ae.HOSTNAME_ERROR;case le.HASOHTERSAMECLIENTONLINE:return ae.HAS_OHTER_SAME_CLIENT_ON_LINE;default:return ae.RC_NET_UNAVAILABLE}},Je=function(e){var t={},n=JSON.parse(e);return He(n,(function(e,n){t[n]=e.v})),t},Qe={_delayTime:0,setTime:function(e){var t=(new Date).getTime();Qe._delayTime=t-e},getTime:function(){var e=Qe._delayTime;return(new Date).getTime()-e}};!function(e){e[e.AT_MOST_ONCE=0]="AT_MOST_ONCE",e[e.AT_LEAST_ONCE=1]="AT_LEAST_ONCE",e[e.EXACTLY_ONCE=2]="EXACTLY_ONCE",e[e.DEFAULT=3]="DEFAULT"}(Oe||(Oe={})),function(e){e[e.SYMMETRIC=0]="SYMMETRIC",e[e.CONNECT=1]="CONNECT",e[e.CONN_ACK=2]="CONN_ACK",e[e.PUBLISH=3]="PUBLISH",e[e.PUB_ACK=4]="PUB_ACK",e[e.QUERY=5]="QUERY",e[e.QUERY_ACK=6]="QUERY_ACK",e[e.QUERY_CONFIRM=7]="QUERY_CONFIRM",e[e.SUBSCRIBE=8]="SUBSCRIBE",e[e.SUB_ACK=9]="SUB_ACK",e[e.UNSUBSCRIBE=10]="UNSUBSCRIBE",e[e.UNSUB_ACK=11]="UNSUB_ACK",e[e.PING_REQ=12]="PING_REQ",e[e.PING_RESP=13]="PING_RESP",e[e.DISCONNECT=14]="DISCONNECT",e[e.RESERVER2=15]="RESERVER2"}(xe||(xe={})),function(e){e.CONN_ACK="ConnAckMessage",e.DISCONNECT="DisconnectMessage",e.PING_REQ="PingReqMessage",e.PING_RESP="PingRespMessage",e.PUBLISH="PublishMessage",e.PUB_ACK="PubAckMessage",e.QUERY="QueryMessage",e.QUERY_CON="QueryConMessage",e.QUERY_ACK="QueryAckMessage"}(Ne||(Ne={})),function(e){e.PUB="pub",e.QUERY="qry"}(Me||(Me={}));var Xe,Ze=function(){function e(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=Oe.AT_LEAST_ONCE),void 0===r&&(r=!1),this._retain=!1,this.qos=Oe.AT_LEAST_ONCE,this._dup=!1,this.syncMsg=!1;var i=e>0;e&&i&&1===arguments.length?(this._retain=(1&e)>0,this.qos=(6&e)>>1,this._dup=(8&e)>0,this.type=e>>4&15,this.syncMsg=8==(8&e)):(this.type=e,this._retain=t,this.qos=n,this._dup=r)}return e.prototype.encode=function(){var e=this.type<<4;return e|=this._retain?1:0,e|=this.qos<<1,e|(this._dup?8:0)},e}(),et=function(){function e(){}return e.writeUTF=function(e,t){var n=[],r=0;if(B(e))for(var i=0,o=e.length;i<o;i++){var s=e.charCodeAt(i);s>=0&&s<=127?(r+=1,n.push(s)):s>=128&&s<=2047?(r+=2,n.push(192|31&s>>6),n.push(128|63&s)):s>=2048&&s<=65535&&(r+=3,n.push(224|15&s>>12),n.push(128|63&s>>6),n.push(128|63&s))}for(i=0,o=n.length;i<o;i++)n[i]>255&&(n[i]&=255);return t?n:r<=255?[0,r].concat(n):[r>>8,255&r].concat(n)},e.readUTF=function(e){for(var t,n,r=[],i=-1,o=e,s="";++i<o.length;){var a=Number(o[i]);if(a===(127&a)||(240==(240&a)?a=(a=(a=(a^=240)<<6|128^o[++i])<<6|128^o[++i])<<6|128^o[++i]:224==(224&a)?a=(a=(a^=224)<<6|128^o[++i])<<6|128^o[++i]:192==(192&a)&&(a=(a^=192)<<6|128^o[++i])),!isFinite(a)||a<0||a>1114111||Math.floor(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(t=(a-=65536)>>10|55296,n=a%1024|56320,r.push(t,n)),(i+1===o.length||r.length>16384)&&(s+=String.fromCharCode.apply(null,r),r.length=0)}return s},e}(),tt=function(){function e(e){this._position=0,this._poolLen=0,this._pool=e,this._poolLen=e.length}return e.prototype.check=function(){return this._position>=this._pool.length},e.prototype.readInt=function(){var e=this;if(e.check())return-1;for(var t="",n=0;n<4;n++){var r=e._pool[e._position++].toString(16);1===r.length&&(r="0"+r),t+=r.toString()}return parseInt(t,16)},e.prototype.readLong=function(){var e=this;if(e.check())return-1;for(var t="",n=0;n<8;n++){var r=e._pool[e._position++].toString(16);1===r.length&&(r="0"+r),t+=r}return parseInt(t,16)},e.prototype.readByte=function(){if(this.check())return-1;var e=this._pool[this._position++];return e>255&&(e&=255),e},e.prototype.readUTF=function(){if(this.check())return"";var e=this.readByte()<<8|this.readByte(),t=this._pool.subarray(this._position,this._position+=e);return et.readUTF(t)},e.prototype.readAll=function(){return this._pool.subarray(this._position,this._poolLen)},e}(),nt=function(){function e(){this._pool=[],this._position=0,this._writen=0}return e.prototype.write=function(e){return-1!==Object.prototype.toString.call(e).indexOf("Array")?this._pool=this._pool.concat(e):e>=0&&(e>255&&(e&=255),this._pool.push(e),this._writen++),e},e.prototype.writeArr=function(e){return this._pool=this._pool.concat(e),e},e.prototype.writeUTF=function(e){var t=et.writeUTF(e);this._pool=this._pool.concat(t),this._writen+=t.length},e.prototype.getBytesArray=function(){return this._pool},e}(),rt="UpStreamMessage",it="PushExtra",ot="DownStreamMessage",st="DownStreamMessages",at="SessionsAttQryInput",ct="SessionsAttOutput",ut="SyncRequestMsg",lt="ChrmPullMsg",ft="NotifyMsg",dt="HistoryMsgInput",ht="HistoryMsgOuput",pt="RelationQryInput",gt="RelationsOutput",mt="DeleteSessionsInput",vt="SessionInfo",yt="DeleteSessionsOutput",_t="RelationsInput",bt="DeleteMsgInput",Ct="CleanHisMsgInput",Et="SessionMsgReadInput",St="ChrmInput",wt="ChrmOutput",Tt="QueryChatRoomInfoInput",It="QueryChatRoomInfoOutput",Rt="RtcInput",Ot="RtcUserListOutput",xt="SetUserStatusInput",Nt="RtcSetDataInput",Mt="RtcUserSetDataInput",At="RtcDataInput",Lt="RtcSetOutDataInput",Pt="MCFollowInput",Ut="RtcTokenOutput",kt="RtcQryOutput",Dt="RtcQryUserOutDataInput",jt="RtcUserOutDataOutput",Bt="RtcQueryListInput",Vt="RtcRoomInfoOutput",Ft="RtcValueInfo",Ht="RtcKeyDeleteInput",$t="GetQNupTokenInput",qt="GetQNupTokenOutput",Gt="GetQNdownloadUrlInput",zt="GetDownloadUrlInput",Kt="GetQNdownloadUrlOutput",Yt="GetDownloadUrlOutput",Wt="SetChrmKV",Jt="ChrmKVOutput",Qt="QueryChrmKV",Xt="SetUserSettingInput",Zt="SetUserSettingOutput",en="PullUserSettingInput",tn="PullUserSettingOutput",nn="UserSettingNotification",rn="SessionReq",on="SessionStates",sn="SessionState",an="SessionStateItem",cn="SessionStateModifyReq",un="SessionStateModifyResp",ln="GrpReadReceiptMsg",fn="GrpReadReceiptQryReq",dn="GrpReadReceiptQryResp",hn="GrpMsgReadUser",pn="SessionTagAddInput",gn="SessionTagItem",mn="SessionTagDelInput",vn="SessionDisTagReq",yn="ReportSDKInput",_n="ReportSDKOutput",bn="RtcNotifyMsg",Cn="RtcPullKV",En="RtcKVOutput",Sn=((Xe={})[rt]=["sessionId","classname","content","pushText","userId","configFlag","appData","extraContent","pushExt"],Xe[st]=["list","syncTime","finished"],Xe[ot]=["fromUserId","type","groupId","classname","content","dataTime","status","msgId","extraContent","pushContent","configFlag","pushExt"],Xe[it]=["title","templateIdNoUse","pushId","pushConfigs","templateId"],Xe[at]=["nothing"],Xe[ct]=["inboxTime","sendboxTime","totalUnreadCount"],Xe[ut]=["syncTime","ispolling","isweb","isPullSend","isKeeping","sendBoxSyncTime"],Xe[lt]=["syncTime","count"],Xe[ft]=["type","time","chrmId"],Xe[dt]=["targetId","time","count","order"],Xe[ht]=["list","syncTime","hasMsg"],Xe[pt]=["type","count","startTime","order"],Xe[gt]=["info"],Xe[mt]=["sessions"],Xe[vt]=["type","channelId"],Xe[yt]=["nothing"],Xe[_t]=["type","msg","count","offset","startTime","endTime"],Xe[bt]=["type","conversationId","msgs"],Xe[Ct]=["targetId","dataTime","conversationType"],Xe[Et]=["type","msgTime","channelId"],Xe[St]=["nothing"],Xe[wt]=["nothing","sessionId","joinTime"],Xe[Tt]=["count","order"],Xe[It]=["userTotalNums","userInfos"],Xe[$t]=["type","key","httpMethod","queryString"],Xe[Gt]=["type","key","fileName"],Xe[zt]=["type","key","fileName"],Xe[qt]=["deadline","token","bosToken","bosDate","path","osskeyId","ossPolicy","ossSign","ossBucketName"],Xe[Kt]=["downloadUrl"],Xe[Yt]=["downloadUrl"],Xe[Wt]=["entry","bNotify","notification","type"],Xe[Jt]=["entries","bFullUpdate","syncTime"],Xe[Qt]=["timestamp"],Xe[Xt]=["version","value"],Xe[Zt]=["version","reserve"],Xe[en]=["version","reserve"],Xe[tn]=["items","version"],Xe.UserSettingItem=["targetId","type","key","value","version","status","tags"],Xe[rn]=["time"],Xe[on]=["version","state"],Xe[sn]=["type","channelId","time","stateItem"],Xe[an]=["sessionStateType","value","tags"],Xe[cn]=["version","state"],Xe[un]=["version"],Xe[ln]=["msgId","busChannel"],Xe[fn]=["msgId","busChannel"],Xe[dn]=["totalMemberNum","list"],Xe[hn]=["readTime","userId"],Xe[pn]=["version","tags"],Xe[gn]=["tagId","name","createdTime","isTop"],Xe[mn]=["version","tags"],Xe[vn]=["tagId"],Xe[nn]=["version","reserve"],Xe[yn]=["sdkInfo"],Xe[_n]=["nothing"],Xe[Rt]=["roomType","broadcastType","extraInnerData","needSysChatroom","identityChangeType"],Xe[Ot]=["users","token","sessionId","roomInfo"],Xe[xt]=["status"],Xe[Nt]=["interior","target","key","value","objectName","content"],Xe[Mt]=["valueInfo","objectName","content"],Xe[At]=["interior","target","key","objectName","content"],Xe[Lt]=["target","valueInfo","objectName","content"],Xe[Pt]=["state"],Xe[Ut]=["rtcToken"],Xe[kt]=["outInfo"],Xe[Dt]=["userId"],Xe[jt]=["user"],Xe[Bt]=["order"],Xe[Vt]=["roomId","roomData","userCount","list"],Xe[Ft]=["key","value"],Xe[Ht]=["key"],Xe[bn]=["type","time","roomId"],Xe[Cn]=["timestamp","roomId"],Xe[En]=["entries","bFullUpdate","syncTime"],Xe),wn={},Tn=function(e){var t=Sn[e];wn[e]=function(){for(var e={},n={getArrayData:function(){return e}},r=function(r){var i=t[r],o="set"+w(i,0,1);n[o]=function(t){e[i]=t}},i=0;i<t.length;i++)r(i);return n},wn[e].decode=function(e){var t={};B(e)&&(e=JSON.parse(e));var n=function(n){var r="get"+w(n,0,1);t[n]=e[n],t[r]=function(){return e[n]}};for(var r in e)n(r);return t}};for(var In in Sn)Tn(In);wn.getModule=function(e){return wn[e]()};var Rn,On,xn,Nn,Mn,An="\npackage Modules;\nmessage probuf {\n  message "+xt+"\n  {\n    optional int32 status=1;\n  }\n\n  message SetUserStatusOutput\n  {\n    optional int32 nothing=1;\n  }\n\n  message GetUserStatusInput\n  {\n    optional int32 nothing=1;\n  }\n\n  message GetUserStatusOutput\n  {\n    optional string status=1;\n    optional string subUserId=2;\n  }\n\n  message SubUserStatusInput\n  {\n    repeated string userid =1;\n  }\n\n  message SubUserStatusOutput\n  {\n    optional int32 nothing=1;\n  }\n  message VoipDynamicInput\n  {\n    required int32  engineType = 1;\n    required string channelName = 2;\n    optional string channelExtra = 3;\n  }\n\n  message VoipDynamicOutput\n  {\n      required string dynamicKey=1;\n  }\n  message "+ft+" {\n    required int32 type = 1;\n    optional int64 time = 2;\n    optional string chrmId=3;\n  }\n  message "+ut+" {\n    required int64 syncTime = 1;\n    required bool ispolling = 2;\n    optional bool isweb=3;\n    optional bool isPullSend=4;\n    optional bool isKeeping=5;\n    optional int64 sendBoxSyncTime=6;\n  }\n  message "+rt+" {\n    required int32 sessionId = 1;\n    required string classname = 2;\n    required bytes content = 3;\n    optional string pushText = 4;\n    optional string appData = 5;\n    repeated string userId = 6;\n    optional int64 delMsgTime = 7;\n    optional string delMsgId = 8;\n    optional int32 configFlag = 9;\n    optional int64 clientUniqueId = 10;\n    optional string extraContent = 11;\n    optional PushExtra pushExt = 12;\n  }\n  message "+it+" {\n    optional string title = 1;\n    optional int32  templateIdNoUse= 2;\n    optional string pushId = 3;\n    optional string pushConfigs = 4;\n    optional string templateId = 5;\n  }\n  message "+st+" {\n    repeated DownStreamMessage list = 1;\n    required int64 syncTime = 2;\n    optional bool finished = 3;\n  }\n  message "+ot+" {\n    required string fromUserId = 1;\n    required ChannelType type = 2;\n    optional string groupId = 3;\n    required string classname = 4;\n    required bytes content = 5;\n    required int64 dataTime = 6;\n    required int64 status = 7;\n    optional int64 extra = 8;\n    optional string msgId = 9;\n    optional int32 direction = 10;\n    optional int32 plantform =11;\n    optional int32 isRemoved = 12;\n    optional string source = 13;\n    optional int64 clientUniqueId = 14;\n    optional string extraContent = 15;\n    optional string pushContent = 16;\n    optional int32 configFlag = 17;\n    optional PushExtra pushExt = 18;\n  }\n  enum ChannelType {\n    PERSON = 1;\n    PERSONS = 2;\n    GROUP = 3;\n    TEMPGROUP = 4;\n    CUSTOMERSERVICE = 5;\n    NOTIFY = 6;\n    MC=7;\n    MP=8;\n  }\n  message CreateDiscussionInput {\n    optional string name = 1;\n  }\n  message CreateDiscussionOutput {\n    required string id = 1;\n  }\n  message ChannelInvitationInput {\n    repeated string users = 1;\n  }\n  message LeaveChannelInput {\n    required int32 nothing = 1;\n  }\n  message ChannelEvictionInput {\n    required string user = 1;\n  }\n  message RenameChannelInput {\n    required string name = 1;\n  }\n  message ChannelInfoInput {\n    required int32 nothing = 1;\n  }\n  message ChannelInfoOutput {\n    required ChannelType type = 1;\n    required string channelId = 2;\n    required string channelName = 3;\n    required string adminUserId = 4;\n    repeated string firstTenUserIds = 5;\n    required int32 openStatus = 6;\n  }\n  message ChannelInfosInput {\n    required int32 page = 1;\n    optional int32 number = 2;\n  }\n  message ChannelInfosOutput {\n    repeated ChannelInfoOutput channels = 1;\n    required int32 total = 2;\n  }\n  message MemberInfo {\n    required string userId = 1;\n    required string userName = 2;\n    required string userPortrait = 3;\n    required string extension = 4;\n  }\n  message GroupMembersInput {\n    required int32 page = 1;\n    optional int32 number = 2;\n  }\n  message GroupMembersOutput {\n    repeated MemberInfo members = 1;\n    required int32 total = 2;\n  }\n  message GetUserInfoInput {\n    required int32 nothing = 1;\n  }\n  message GetUserInfoOutput {\n    required string userId = 1;\n    required string userName = 2;\n    required string userPortrait = 3;\n  }\n  message GetSessionIdInput {\n    required int32 nothing = 1;\n  }\n  message GetSessionIdOutput {\n    required int32 sessionId = 1;\n  }\n  enum FileType {\n    image = "+j.IMAGE+";\n    audio = "+j.AUDIO+";\n    video = "+j.VIDEO+";\n    file = "+j.FILE+";\n  }\n  message "+$t+" {\n    required FileType type = 1;\n    optional string key = 2;\n    optional string httpMethod = 3;\n    optional string queryString = 4;\n  }\n  message "+Gt+" {\n    required FileType type = 1;\n    required string key = 2;\n    optional string  fileName = 3;\n  }\n  message "+zt+" {\n    required FileType type = 1;\n    required string key = 2;\n    optional string fileName = 3;\n   }\n  message "+qt+" {\n    required int64 deadline = 1;\n    required string token = 2;\n    optional string bosToken = 3;\n    optional string bosDate = 4;\n    optional string path = 5;\n    optional string osskeyId = 6;\n    optional string ossPolicy = 7;\n    optional string ossSign = 8;\n    optional string ossBucketName = 9;\n    optional string s3Credential = 10;\n    optional string s3Algorithm = 11;\n    optional string s3Date = 12;\n    optional string s3Policy = 13;\n    optional string s3Signature = 14;\n    optional string s3BucketName = 15;\n    optional string stcAuthorization = 16;\n    optional string stcContentSha256 = 17;\n    optional string stcDate = 18;\n    optional string stcBucketName = 19;\n  }\n  message "+Kt+" {\n    required string downloadUrl = 1;\n  }\n  message "+Yt+" {\n    required string downloadUrl = 1;\n  }\n  message Add2BlackListInput {\n    required string userId = 1;\n  }\n  message RemoveFromBlackListInput {\n    required string userId = 1;\n  }\n  message QueryBlackListInput {\n    required int32 nothing = 1;\n  }\n  message QueryBlackListOutput {\n    repeated string userIds = 1;\n  }\n  message BlackListStatusInput {\n    required string userId = 1;\n  }\n  message BlockPushInput {\n    required string blockeeId = 1;\n  }\n  message ModifyPermissionInput {\n    required int32 openStatus = 1;\n  }\n  message GroupInput {\n    repeated GroupInfo groupInfo = 1;\n  }\n  message GroupOutput {\n    required int32 nothing = 1;\n  }\n  message GroupInfo {\n    required string id = 1;\n    required string name = 2;\n  }\n  message GroupHashInput {\n    required string userId = 1;\n    required string groupHashCode = 2;\n  }\n  message GroupHashOutput {\n    required GroupHashType result = 1;\n  }\n  enum GroupHashType {\n    group_success = 0x00;\n    group_failure = 0x01;\n  }\n  message "+St+" {\n    required int32 nothing = 1;\n  }\n  message "+wt+" {\n    required int32 nothing = 1;\n    optional string sessionId = 2;\n    optional int64 joinTime = 3;\n  }\n  message "+lt+" {\n    required int64 syncTime = 1;\n    required int32 count = 2;\n  }\n\n  message ChrmPullMsgNew\n  {\n    required int32 count = 1;\n    required int64 syncTime = 2;\n    optional string chrmId=3;\n  }\n  message "+pt+"\n  {\n    optional ChannelType type = 1;\n    optional int32 count = 2;\n    optional int64 startTime = 3;\n    optional int32 order = 4;\n  }\n  message "+_t+"\n  {\n    required ChannelType type = 1;\n    optional DownStreamMessage msg =2;\n    optional int32 count = 3;\n    optional int32 offset = 4;\n    optional int64 startTime = 5;\n    optional int64 endTime = 6;\n  }\n  message "+gt+"\n  {\n    repeated RelationInfo info = 1;\n  }\n  message RelationInfo\n  {\n    required ChannelType type = 1;\n    required string userId = 2;\n    optional DownStreamMessage msg =3;\n    optional int64 readMsgTime= 4;\n    optional int64 unreadCount= 5;\n    optional string channelId = 6;\n  }\n  message RelationInfoReadTime\n  {\n    required ChannelType type = 1;\n    required int64 readMsgTime= 2;\n    required string targetId = 3;\n  }\n  message "+Ct+"\n  {\n      required string targetId = 1;\n      required int64 dataTime = 2;\n      optional int32 conversationType= 3;\n  }\n  message HistoryMessageInput\n  {\n    required string targetId = 1;\n    required int64 dataTime =2;\n    required int32 size  = 3;\n  }\n\n  message HistoryMessagesOuput\n  {\n    repeated DownStreamMessage list = 1;\n    required int64 syncTime = 2;\n    required int32 hasMsg = 3;\n  }\n  message "+Tt+"\n  {\n    required int32 count= 1;\n    optional int32 order= 2;\n  }\n\n  message "+It+"\n  {\n    optional int32 userTotalNums = 1;\n    repeated ChrmMember userInfos = 2;\n  }\n  message ChrmMember\n  {\n    required int64 time = 1;\n    required string id = 2;\n  }\n  message MPFollowInput\n  {\n    required string id = 1;\n  }\n\n  message MPFollowOutput\n  {\n    required int32 nothing = 1;\n    optional MpInfo info =2;\n  }\n\n  message "+Pt+"\n  {\n    required string state = 1;\n  }\n\n  message MCFollowOutput\n  {\n    required int32 nothing = 1;\n    optional MpInfo info =2;\n  }\n\n  message MpInfo\n  {\n    required string mpid=1;\n    required string name = 2;\n    required string type = 3;\n    required int64 time=4;\n    optional string portraitUrl=5;\n    optional string extra =6;\n  }\n\n  message SearchMpInput\n  {\n    required int32 type=1;\n    required string id=2;\n  }\n\n  message SearchMpOutput\n  {\n    required int32 nothing=1;\n    repeated MpInfo info = 2;\n  }\n\n  message PullMpInput\n  {\n    required int64 time=1;\n    required string mpid=2;\n  }\n\n  message PullMpOutput\n  {\n    required int32 status=1;\n    repeated MpInfo info = 2;\n  }\n  message "+dt+"\n  {\n    optional string targetId = 1;\n    optional int64 time = 2;\n    optional int32 count  = 3;\n    optional int32 order = 4;\n  }\n\n  message "+ht+"\n  {\n    repeated DownStreamMessage list=1;\n    required int64 syncTime=2;\n    required int32 hasMsg=3;\n  }\n  message "+Bt+"{\n    optional int32 order=1;\n  }\n\n  message "+Ht+"{\n    repeated string key=1;\n  }\n\n  message "+Ft+"{\n    required string key=1;\n    required string value=2;\n  }\n\n  message RtcUserInfo{\n    required string userId=1;\n    repeated "+Ft+" userData=2; //用户资源信息\n  }\n\n  message "+Ot+"{\n    repeated RtcUserInfo users=1;\n    optional string token=2;\n    optional string sessionId=3;\n    repeated RtcValueInfo roomInfo = 4; //房间key value\n  }\n  message RtcRoomInfoOutput{\n    optional string roomId = 1;\n    repeated "+Ft+" roomData = 2;\n    optional int32 userCount = 3;\n    repeated RtcUserInfo list=4;\n  }\n  message "+Rt+"{\n    required int32 roomType=1;\n    optional int32 broadcastType=2;\n    optional RtcValueInfo extraInnerData = 3;\n    optional bool needSysChatroom = 4; //是否需要同步聊天室\n    optional IdentityChangeType identityChangeType = 5; //身份变更类型\n  }\n  message RtcQryInput{\n    required bool isInterior=1;\n    required targetType target=2;\n    repeated string key=3;\n  }\n  message "+kt+"{\n    repeated "+Ft+" outInfo=1;\n  }\n  message RtcDelDataInput{\n    repeated string key=1;\n    required bool isInterior=2;\n    required targetType target=3;\n  }\n  message "+At+"{\n    required bool interior=1;\n    required targetType target=2;\n    repeated string key=3;\n    optional string objectName=4;\n    optional string content=5;\n  }\n  message "+Nt+"{\n    required bool interior=1;\n    required targetType target=2;\n    required string key=3;\n    required string value=4;\n    optional string objectName=5;\n    optional string content=6;\n  }\n  message "+Mt+" {\n    repeated "+Ft+" valueInfo = 1;\n    required string objectName = 2;\n    repeated "+Ft+" content = 3;\n  }\n  message RtcOutput\n  {\n    optional int32 nothing=1;\n  }\n  message "+Ut+"{\n    required string rtcToken=1;\n  }\n  enum targetType {\n    ROOM =1 ;\n    PERSON = 2;\n  }\n  message "+Lt+"{\n    required targetType target=1;\n    repeated "+Ft+" valueInfo=2;\n    optional string objectName=3;\n    optional string content=4;\n  }\n  message "+Dt+"{\n    repeated string userId = 1;\n  }\n  message "+jt+"{\n    repeated RtcUserInfo user = 1;\n  }\n  message "+at+"{\n    required int32 nothing = 1;\n  }\n  message "+ct+"{\n    required int64 inboxTime = 1;\n    required int64 sendboxTime = 2;\n    required int64 totalUnreadCount = 3;\n  }\n  message "+Et+"\n  {\n    required ChannelType type = 1;\n    required int64 msgTime = 2;\n    required string channelId = 3;\n  }\n  message SessionMsgReadOutput\n  {\n    optional int32 nothing=1;\n  }\n  message "+mt+"\n  {\n    repeated SessionInfo sessions = 1;\n  }\n  message "+vt+"\n  {\n    required ChannelType type = 1;\n    required string channelId = 2;\n  }\n  message "+yt+"\n  {\n    optional int32 nothing=1;\n  }\n  message "+bt+"\n  {\n    optional ChannelType type = 1;\n    optional string conversationId = 2;\n    repeated DeleteMsg msgs = 3;\n  }\n  message DeleteMsg\n  {\n    optional string msgId = 1;\n    optional int64 msgDataTime = 2;\n    optional int32 direct = 3;\n  }\n  message ChrmKVEntity {\n    required string key = 1;\n    required string value = 2;\n    optional int32 status = 3;\n    optional int64 timestamp = 4;\n    optional string uid = 5;\n  }\n  message "+Wt+" {\n    required ChrmKVEntity entry = 1;\n    optional bool bNotify = 2;\n    optional UpStreamMessage notification = 3;\n    optional ChannelType type = 4;\n  }\n  message "+Jt+" {\n    repeated ChrmKVEntity entries = 1;\n    optional bool bFullUpdate = 2;\n    optional int64 syncTime = 3;\n  }\n  message "+Qt+" {\n    required int64 timestamp = 1;\n  }\n  message "+Xt+" {\n    required int64 version=1;\n    required string value=2;\n  }\n  message "+Zt+" {\n    required int64 version=1;\n    required bool reserve=2;\n  }\n  message "+en+" {\n    required int64 version=1;\n    optional bool reserve=2;\n  }\n  message "+tn+" {\n    repeated UserSettingItem items = 1;\n    required int64 version=2;\n  }\n  message UserSettingItem {\n    required string targetId= 1;\n    required ChannelType type = 2;\n    required string key = 4;\n    required bytes value = 5;\n    required int64 version=6;\n    required int32 status=7;\n    repeated SessionTagItem tags= 8;\n  }\n  message "+rn+" {\n    required int64 time = 1;\n  }\n  message "+on+" {\n    required int64 version=1;\n    repeated SessionState state= 2;\n  }\n  message "+sn+" {\n    required ChannelType type = 1;\n    required string channelId = 2;\n    optional int64 time = 3;\n    repeated SessionStateItem stateItem = 4;\n  }\n  message "+an+" {\n    required SessionStateType sessionStateType = 1;\n    required string value = 2;\n    repeated SessionTagItem tags = 3;\n  }\n  enum SessionStateType {\n    IsSilent = 1;\n    IsTop = 2;\n    Tags = 3;\n  }\n  message "+cn+" {\n    required int64 version=1;\n    repeated SessionState state= 2;\n  }\n  message "+un+" {\n    required int64 version=1;\n  }\n  message "+ln+" {\n    repeated string msgId=1; //已读消息ID\n    optional string busChannel = 2; // 该消息所属会话的业务标识\n  }\n  message "+fn+" {\n    repeated string msgId=1; //已读消息ID\n    optional string busChannel = 2; // 该消息所属会话的业务标识\n  }\n  message "+dn+" {\n    required int32 totalMemberNum = 1;//群内总人数\n    repeated GrpMsgReadUser list = 2;//已读用户列表（list复类型）\n  }\n  message "+hn+" {\n    required int64 readTime = 1;//已读时间\n    required string userId = 2;//已读用户id\n  }\n  message "+pn+" {\n    required int64 version=1;\n    repeated SessionTagItem tags=2;\n  }\n  message "+gn+" {\n    required string tagId=1;\n    optional string name=2;\n    optional int64 createdTime=3;\n    optional bool isTop=4;\n  }\n  message "+mn+" {\n    required int64 version=1;\n    repeated SessionTagItem tags=2;\n  }\n  message "+vn+" {\n    repeated string tagId=1;\n  }\n  message "+nn+" {\n    required int64 version=1;\n    required bool reserve=2;\n  }\n  message "+yn+' {\n    required string sdkInfo=1; // 用户集成的 sdk 信息,json 格式 {"web-rtc": "4.0.3.7"}\n  }\n  message '+_n+"\n  {\n    optional int32 nothing=1; //占位\n  }\n  message "+bn+" \n  {\n    required int32 type= 1;   //(通知类型 1:rtc房间状态KV变更通知)\n    optional int64 time= 2;   //消息产生时间\n    optional string roomId=3; //主播房间id\n  }\n  message "+Cn+"\n  {\n    required int64 timestamp = 1;\n    required string roomId = 2;\n  }\n  message "+En+"\n  {\n    repeated RtcKVEntity entries = 1;\n    optional bool bFullUpdate = 2;\n    optional int64 syncTime = 3; \n  }\n  message RtcKVEntity \n  {\n    required string key = 1;\n    required string value = 2;\n    optional int32 status = 3;\n    optional int64 timestamp = 4;\n    optional string uid = 5;\n  }\n  enum IdentityChangeType \n  {\n    AnchorToViewer = 1; //1为主播变观众\n    ViewerToAnchor = 2; //2为观众变主播\n  }\n}\n",Ln=(Rn=An,function(t,n){var r,i,o={};return o.ByteBuffer=t,o.c=t,r=t,o.Long=n||null,o.VERSION="5.0.1",o.WIRE_TYPES={},o.WIRE_TYPES.VARINT=0,o.WIRE_TYPES.BITS64=1,o.WIRE_TYPES.LDELIM=2,o.WIRE_TYPES.STARTGROUP=3,o.WIRE_TYPES.ENDGROUP=4,o.WIRE_TYPES.BITS32=5,o.PACKABLE_WIRE_TYPES=[o.WIRE_TYPES.VARINT,o.WIRE_TYPES.BITS64,o.WIRE_TYPES.BITS32],o.TYPES={int32:{name:"int32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},uint64:{name:"uint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.UZERO:void 0},sint64:{name:"sint64",wireType:o.WIRE_TYPES.VARINT,defaultValue:o.Long?o.Long.ZERO:void 0},bool:{name:"bool",wireType:o.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:o.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:o.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:o.WIRE_TYPES.BITS64,defaultValue:o.Long?o.Long.ZERO:void 0},float:{name:"float",wireType:o.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:o.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:o.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:o.WIRE_TYPES.STARTGROUP,defaultValue:null}},o.MAP_KEY_TYPES=[o.TYPES.int32,o.TYPES.sint32,o.TYPES.sfixed32,o.TYPES.uint32,o.TYPES.fixed32,o.TYPES.int64,o.TYPES.sint64,o.TYPES.sfixed64,o.TYPES.uint64,o.TYPES.fixed64,o.TYPES.bool,o.TYPES.string,o.TYPES.bytes],o.ID_MIN=1,o.ID_MAX=536870911,o.convertFieldsToCamelCase=!1,o.populateAccessors=!0,o.populateDefaults=!0,o.Util=function(){var t={};return t.IS_NODE=!("object"!=typeof e||e+""!="[object process]"||e.browser),t.XHR=function(){var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=null;for(e=0;e<t.length;e++){try{n=t[e]()}catch(e){continue}break}if(!n)throw Error("XMLHttpRequest is not supported");return n},t.fetch=function(e,n){if(n&&"function"!=typeof n&&(n=null),t.IS_NODE)if(n)g.readFile(e,(function(e,t){n(e?null:""+t)}));else try{return g.readFileSync(e)}catch(t){return null}else{var r=t.XHR();if(r.open("GET",e,!!n),r.setRequestHeader("Accept","text/plain"),"function"==typeof r.overrideMimeType&&r.overrideMimeType("text/plain"),!n)return r.send(null),200==r.status||0==r.status&&"string"==typeof r.responseText?r.responseText:null;if(r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0==r.status&&"string"==typeof r.responseText?n(r.responseText):n(null))},4==r.readyState)return;r.send(null)}},t.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))},t}(),o.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},o.DotProto=function(e,t){function n(e,n){var r=-1,i=1;if("-"==e.charAt(0)&&(i=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))r=parseInt(e);else if(t.NUMBER_HEX.test(e))r=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(i<0?"-":"")+e);r=parseInt(e.substring(1),8)}if(r=0|i*r,!n&&r<0)throw Error("illegal id value: "+(i<0?"-":"")+e);return r}function r(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return 1/0*n;if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function i(e,t,n){void 0===e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}var o,s,a={},c=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},u=c.prototype;return u._readString=function(){var e,n='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;if(n.lastIndex=this.index-1,!(e=n.exec(this.source)))throw Error("unterminated string");return this.index=n.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,e[1]},u.next=function(){var e,n,r,i,o;if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();do{for(e=!1;t.WHITESPACE.test(r=this.source.charAt(this.index));)if("\n"===r&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(r=this.source.charAt(this.index)))return"/";do{if("\n"===r&&++this.line,++this.index===this.source.length)return null;n=r,r=this.source.charAt(this.index)}while("*"!==n||"/"!==r);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;if(i=this.index,t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(i++)))for(;i<this.source.length&&!t.DELIM.test(this.source.charAt(i));)++i;return('"'===(o=this.source.substring(this.index,this.index=i))||"'"===o)&&(this._stringOpen=o),o},u.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},u.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},u.omit=function(e){return this.peek()===e&&(this.next(),!0)},u.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},a.Tokenizer=c,(s=(o=function(e){this.tn=new c(e),this.proto3=!1}).prototype).parse=function(){var e,n={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},r=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!r||null!==n.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),n.package=e;break;case"import":if(!r)throw Error("unexpected 'import'");"public"===(e=this.tn.peek())&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n.imports.push(e);break;case"syntax":if(!r)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(n.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(n,null),r=!1;break;case"enum":this._parseEnum(n),r=!1;break;case"option":this._parseOption(n);break;case"service":this._parseService(n);break;case"extend":this._parseExtend(n);break;default:throw Error("unexpected '"+e+"'")}}catch(e){throw e.message="Parse error at line "+this.tn.line+": "+e.message,e}return delete n.name,n},o.parse=function(e){return new o(e).parse()},s._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},s._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return r(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},s._parseOption=function(e,n){var r,i=this.tn.next(),o=!1;if("("===i&&(o=!0,i=this.tn.next()),!t.TYPEREF.test(i))throw Error("illegal option name: "+i);r=i,o&&(this.tn.skip(")"),r="("+r+")",i=this.tn.peek(),t.FQTYPEREF.test(i)&&(r+=i,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,r),n||this.tn.skip(";")},s._parseOptionValue=function(e,n){var r=this.tn.peek();if("{"!==r)i(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(r=this.tn.next());){if(!t.NAME.test(r))throw Error("illegal option name: "+n+"."+r);this.tn.omit(":")?i(e.options,n+"."+r,this._readValue(!0)):this._parseOptionValue(e,n+"."+r)}},s._parseService=function(e){var n,r=this.tn.next();if(!t.NAME.test(r))throw Error("illegal service name at line "+this.tn.line+": "+r);for(n={name:r,rpc:{},options:{}},this.tn.skip("{");"}"!==(r=this.tn.next());)if("option"===r)this._parseOption(n);else{if("rpc"!==r)throw Error("illegal service token: "+r);this._parseServiceRPC(n)}this.tn.omit(";"),e.services.push(n)},s._parseServiceRPC=function(e){var n,r,i="rpc",o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal rpc service method name: "+o);if(n=o,r={request:null,response:null,request_stream:!1,response_stream:!1,options:{}},this.tn.skip("("),"stream"===(o=this.tn.next()).toLowerCase()&&(r.request_stream=!0,o=this.tn.next()),!t.TYPEREF.test(o))throw Error("illegal rpc service request type: "+o);if(r.request=o,this.tn.skip(")"),"returns"!==(o=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+o);if(this.tn.skip("("),"stream"===(o=this.tn.next()).toLowerCase()&&(r.response_stream=!0,o=this.tn.next()),r.response=o,this.tn.skip(")"),"{"===(o=this.tn.peek())){for(this.tn.next();"}"!==(o=this.tn.next());){if("option"!==o)throw Error("illegal rpc service token: "+o);this._parseOption(r)}this.tn.omit(";")}else this.tn.skip(";");void 0===e[i]&&(e[i]={}),e[i][n]=r},s._parseMessage=function(e,r){var i=!!r,o=this.tn.next(),s={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(o))throw Error("illegal "+(i?"group":"message")+" name: "+o);for(s.name=o,i&&(this.tn.skip("="),r.id=n(this.tn.next()),s.isGroup=!0),"["===(o=this.tn.peek())&&r&&this._parseFieldOptions(r),this.tn.skip("{");"}"!==(o=this.tn.next());)if(t.RULE.test(o))this._parseMessageField(s,o);else if("oneof"===o)this._parseMessageOneOf(s);else if("enum"===o)this._parseEnum(s);else if("message"===o)this._parseMessage(s);else if("option"===o)this._parseOption(s);else if("service"===o)this._parseService(s);else if("extensions"===o)s.extensions=this._parseExtensionRanges();else if("reserved"===o)this._parseIgnored();else if("extend"===o)this._parseExtend(s);else{if(!t.TYPEREF.test(o))throw Error("illegal message token: "+o);if(!this.proto3)throw Error("illegal field rule: "+o);this._parseMessageField(s,"optional",o)}return this.tn.omit(";"),e.messages.push(s),s},s._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},s._parseMessageField=function(e,r,i){var o,s,a;if(!t.RULE.test(r))throw Error("illegal message field rule: "+r);if(o={rule:r,type:"",name:"",options:{},id:0},"map"===r){if(i)throw Error("illegal type: "+i);if(this.tn.skip("<"),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field type: "+s);if(o.keytype=s,this.tn.skip(","),s=this.tn.next(),!t.TYPE.test(s)&&!t.TYPEREF.test(s))throw Error("illegal message field: "+s);if(o.type=s,this.tn.skip(">"),s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=n(this.tn.next()),"["===(s=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}else if("group"===(i=void 0!==i?i:this.tn.next())){if(a=this._parseMessage(e,o),!/^[A-Z]/.test(a.name))throw Error("illegal group name: "+a.name);o.type=a.name,o.name=a.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(o.type=i,s=this.tn.next(),!t.NAME.test(s))throw Error("illegal message field name: "+s);o.name=s,this.tn.skip("="),o.id=n(this.tn.next()),"["===(s=this.tn.peek())&&this._parseFieldOptions(o),this.tn.skip(";")}return e.fields.push(o),o},s._parseMessageOneOf=function(e){var n,r,i,o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal oneof name: "+o);for(r=o,i=[],this.tn.skip("{");"}"!==(o=this.tn.next());)(n=this._parseMessageField(e,"optional",o)).oneof=r,i.push(n.id);this.tn.omit(";"),e.oneofs[r]=i},s._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},s._parseEnum=function(e){var r,i={name:"",values:[],options:{}},o=this.tn.next();if(!t.NAME.test(o))throw Error("illegal name: "+o);for(i.name=o,this.tn.skip("{");"}"!==(o=this.tn.next());)if("option"===o)this._parseOption(i);else{if(!t.NAME.test(o))throw Error("illegal name: "+o);this.tn.skip("="),r={name:o,id:n(this.tn.next(),!0)},"["===(o=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),i.values.push(r)}this.tn.omit(";"),e.enums.push(i)},s._parseExtensionRanges=function(){var t,n,i,o=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":i=e.ID_MIN;break;case"max":i=e.ID_MAX;break;default:i=r(t)}if(n.push(i),2===n.length)break;if("to"!==this.tn.peek()){n.push(i);break}this.tn.next()}o.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),o},s._parseExtend=function(e){var n,r=this.tn.next();if(!t.TYPEREF.test(r))throw Error("illegal extend reference: "+r);for(n={ref:r,fields:[]},this.tn.skip("{");"}"!==(r=this.tn.next());)if(t.RULE.test(r))this._parseMessageField(n,r);else{if(!t.TYPEREF.test(r))throw Error("illegal extend token: "+r);if(!this.proto3)throw Error("illegal field rule: "+r);this._parseMessageField(n,"optional",r)}return this.tn.omit(";"),e.messages.push(n),n},s.toString=function(){return"Parser at line "+this.tn.line},a.Parser=o,a}(o,o.Lang),o.Reflect=function(e){function n(t,n){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low==t.low&&t.high==t.high)return new e.Long(t.low,t.high,void 0===n?t.unsigned:n);if("string"==typeof t)return e.Long.fromString(t,n||!1,10);if("number"==typeof t)return e.Long.fromNumber(t,n||!1);throw Error("not convertible to Long")}function i(t,n){var r=n.readVarint32(),o=7&r,s=r>>>3;switch(o){case e.WIRE_TYPES.VARINT:do{r=n.readUint8()}while(128==(128&r));break;case e.WIRE_TYPES.BITS64:n.offset+=8;break;case e.WIRE_TYPES.LDELIM:r=n.readVarint32(),n.offset+=r;break;case e.WIRE_TYPES.STARTGROUP:i(s,n);break;case e.WIRE_TYPES.ENDGROUP:if(s===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+s+" ("+t+" expected)");case e.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+o)}return!0}var o,s,a,c,u,l,f,d,h,p,g,m,v,y,_,b,C={},E=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},S=E.prototype;return S.fqn=function(){for(var e=this.name,t=this;null!=(t=t.parent);)e=t.name+"."+e;return e},S.toString=function(e){return(e?this.className+" ":"")+this.fqn()},S.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},C.T=E,(s=(o=function(e,t,n,r,i){E.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=r||{},this.syntax=i||"proto2"}).prototype=Object.create(E.prototype)).getChildren=function(e){var t,n,r;if(null==(e=e||null))return this.children.slice();for(t=[],n=0,r=this.children.length;r>n;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof u.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof u.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){var t,n,r="number"==typeof e?"id":"name";for(t=0,n=this.children.length;n>t;++t)if(this.children[t][r]===e)return this.children[t];return null},s.resolve=function(e,t){var n,r="string"==typeof e?e.split("."):e,i=this,o=0;if(""===r[o]){for(;null!==i.parent;)i=i.parent;o++}do{do{if(!(i instanceof C.Namespace)){i=null;break}if(!((n=i.getChild(r[o]))&&n instanceof C.T&&(!t||n instanceof C.Namespace))){i=null;break}i=n,o++}while(o<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},s.qn=function(e){var t,n,r=[],i=e;do{r.unshift(i.name),i=i.parent}while(null!==i);for(t=1;t<=r.length;t++)if(n=r.slice(r.length-t),e===this.resolve(n,e instanceof C.Namespace))return n.join(".");return e.fqn()},s.build=function(){var e,t,n,r={},i=this.children;for(t=0,n=i.length;n>t;++t)(e=i[t])instanceof o&&(r[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(r,"$options",{value:this.buildOpt()}),r},s.buildOpt=function(){var e,t,n,r,i={},o=Object.keys(this.options);for(e=0,t=o.length;t>e;++e)n=o[e],r=this.options[o[e]],i[n]=r;return i},s.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},C.Namespace=o,c=(a=function(t,n,r,i){if(this.type=t,this.resolvedType=n,this.isMapKey=r,this.syntax=i,r&&e.MAP_KEY_TYPES.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)}).prototype,a.defaultFieldValue=function(t){if("string"==typeof t&&(t=e.TYPES[t]),void 0===t.defaultValue)throw Error("default value for type "+t.name+" is not supported");return t==e.TYPES.bytes?new r(0):t.defaultValue},c.verifyValue=function(r){var i,o,s,a=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:return("number"!=typeof r||r==r&&r%1!=0)&&a(typeof r,"not an integer"),r>4294967295?0|r:r;case e.TYPES.uint32:case e.TYPES.fixed32:return("number"!=typeof r||r==r&&r%1!=0)&&a(typeof r,"not an integer"),r<0?r>>>0:r;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:if(e.Long)try{return n(r,!1)}catch(t){a(typeof r,t.message)}else a(typeof r,"requires Long.js");case e.TYPES.uint64:case e.TYPES.fixed64:if(e.Long)try{return n(r,!0)}catch(t){a(typeof r,t.message)}else a(typeof r,"requires Long.js");case e.TYPES.bool:return"boolean"!=typeof r&&a(typeof r,"not a boolean"),r;case e.TYPES.float:case e.TYPES.double:return"number"!=typeof r&&a(typeof r,"not a number"),r;case e.TYPES.string:return"string"==typeof r||r&&r instanceof String||a(typeof r,"not a string"),""+r;case e.TYPES.bytes:return t.isByteBuffer(r)?r:t.wrap(r);case e.TYPES.enum:for(i=this.resolvedType.getChildren(e.Reflect.Enum.Value),s=0;s<i.length;s++){if(i[s].name==r)return i[s].id;if(i[s].id==r)return i[s].id}if("proto3"===this.syntax)return("number"!=typeof r||r==r&&r%1!=0)&&a(typeof r,"not an integer"),(r>4294967295||r<0)&&a(typeof r,"not in range for uint32"),r;a(r,"not a valid enum value");case e.TYPES.group:case e.TYPES.message:if(r&&"object"==typeof r||a(typeof r,"object expected"),r instanceof this.resolvedType.clazz)return r;if(r instanceof e.Builder.Message){for(s in o={},r)r.hasOwnProperty(s)&&(o[s]=r[s]);r=o}return new this.resolvedType.clazz(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},c.calculateLength=function(t,n){if(null===n)return 0;var i;switch(this.type){case e.TYPES.int32:return n<0?r.calculateVarint64(n):r.calculateVarint32(n);case e.TYPES.uint32:return r.calculateVarint32(n);case e.TYPES.sint32:return r.calculateVarint32(r.zigZagEncode32(n));case e.TYPES.fixed32:case e.TYPES.sfixed32:case e.TYPES.float:return 4;case e.TYPES.int64:case e.TYPES.uint64:return r.calculateVarint64(n);case e.TYPES.sint64:return r.calculateVarint64(r.zigZagEncode64(n));case e.TYPES.fixed64:case e.TYPES.sfixed64:return 8;case e.TYPES.bool:return 1;case e.TYPES.enum:return r.calculateVarint32(n);case e.TYPES.double:return 8;case e.TYPES.string:return i=r.calculateUTF8Bytes(n),r.calculateVarint32(i)+i;case e.TYPES.bytes:if(n.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");return r.calculateVarint32(n.remaining())+n.remaining();case e.TYPES.message:return i=this.resolvedType.calculate(n),r.calculateVarint32(i)+i;case e.TYPES.group:return(i=this.resolvedType.calculate(n))+r.calculateVarint32(t<<3|e.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")},c.encodeValue=function(t,n,i){var o,s;if(null===n)return i;switch(this.type){case e.TYPES.int32:n<0?i.writeVarint64(n):i.writeVarint32(n);break;case e.TYPES.uint32:i.writeVarint32(n);break;case e.TYPES.sint32:i.writeVarint32ZigZag(n);break;case e.TYPES.fixed32:i.writeUint32(n);break;case e.TYPES.sfixed32:i.writeInt32(n);break;case e.TYPES.int64:case e.TYPES.uint64:i.writeVarint64(n);break;case e.TYPES.sint64:i.writeVarint64ZigZag(n);break;case e.TYPES.fixed64:i.writeUint64(n);break;case e.TYPES.sfixed64:i.writeInt64(n);break;case e.TYPES.bool:"string"==typeof n?i.writeVarint32("false"===n.toLowerCase()?0:!!n):i.writeVarint32(n?1:0);break;case e.TYPES.enum:i.writeVarint32(n);break;case e.TYPES.float:i.writeFloat32(n);break;case e.TYPES.double:i.writeFloat64(n);break;case e.TYPES.string:i.writeVString(n);break;case e.TYPES.bytes:if(n.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+n.remaining()+" bytes remaining");o=n.offset,i.writeVarint32(n.remaining()),i.append(n),n.offset=o;break;case e.TYPES.message:s=(new r).LE(),this.resolvedType.encode(n,s),i.writeVarint32(s.offset),i.append(s.flip());break;case e.TYPES.group:this.resolvedType.encode(n,i),i.writeVarint32(t<<3|e.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+n+" (unknown type)")}return i},c.decode=function(t,n,r){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var i,o;switch(this.type){case e.TYPES.int32:return 0|t.readVarint32();case e.TYPES.uint32:return t.readVarint32()>>>0;case e.TYPES.sint32:return 0|t.readVarint32ZigZag();case e.TYPES.fixed32:return t.readUint32()>>>0;case e.TYPES.sfixed32:return 0|t.readInt32();case e.TYPES.int64:return t.readVarint64();case e.TYPES.uint64:return t.readVarint64().toUnsigned();case e.TYPES.sint64:return t.readVarint64ZigZag();case e.TYPES.fixed64:return t.readUint64();case e.TYPES.sfixed64:return t.readInt64();case e.TYPES.bool:return!!t.readVarint32();case e.TYPES.enum:return t.readVarint32();case e.TYPES.float:return t.readFloat();case e.TYPES.double:return t.readDouble();case e.TYPES.string:return t.readVString();case e.TYPES.bytes:if(o=t.readVarint32(),t.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+t.remaining());return(i=t.clone()).limit=i.offset+o,t.offset+=o,i;case e.TYPES.message:return o=t.readVarint32(),this.resolvedType.decode(t,o);case e.TYPES.group:return this.resolvedType.decode(t,-1,r)}throw Error("[INTERNAL] Illegal decode type")},c.valueFromString=function(t){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return this.verifyValue(parseInt(t));case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return this.verifyValue(t);case e.TYPES.bool:return"true"===t;case e.TYPES.string:return this.verifyValue(t);case e.TYPES.bytes:return r.fromBinary(t)}},c.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===e.TYPES.bytes?t.toString("binary"):t.toString()},C.Element=a,(l=(u=function(e,t,n,r,i,s){o.call(this,e,t,n,r,s),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!i,this._fields=null,this._fieldsById=null,this._fieldsByName=null}).prototype=Object.create(o.prototype)).build=function(n){var i,o,s,a;if(this.clazz&&!n)return this.clazz;for(i=function(e,n){function i(t,n,o,s){var a,c,u,l,f,d,h;if(null===t||"object"!=typeof t)return s&&s instanceof e.Reflect.Enum&&null!==(a=e.Reflect.Enum.getName(s.object,t))?a:t;if(r.isByteBuffer(t))return n?t.toBase64():t.toBuffer();if(e.Long.isLong(t))return o?t.toString():e.Long.fromValue(t);if(Array.isArray(t))return c=[],t.forEach((function(e,t){c[t]=i(e,n,o,s)})),c;if(c={},t instanceof e.Map){for(l=(u=t.entries()).next();!l.done;l=u.next())c[t.keyElem.valueToString(l.value[0])]=i(l.value[1],n,o,t.valueElem.resolvedType);return c}for(h in f=t.$type,d=void 0,t)t.hasOwnProperty(h)&&(c[h]=f&&(d=f.getChild(h))?i(t[h],n,o,d.resolvedType):i(t[h],n,o));return c}var o,s,a=n.getChildren(e.Reflect.Message.Field),c=n.getChildren(e.Reflect.Message.OneOf),u=function(t){var i,o,s,l;for(e.Builder.Message.call(this),i=0,o=c.length;o>i;++i)this[c[i].name]=null;for(i=0,o=a.length;o>i;++i)this[(s=a[i]).name]=s.repeated?[]:s.map?new e.Map(s):null,!s.required&&"proto3"!==n.syntax||null===s.defaultValue||(this[s.name]=s.defaultValue);if(arguments.length>0)if(1!==arguments.length||null===t||"object"!=typeof t||!("function"!=typeof t.encode||t instanceof u)||Array.isArray(t)||t instanceof e.Map||r.isByteBuffer(t)||t instanceof ArrayBuffer||e.Long&&t instanceof e.Long)for(i=0,o=arguments.length;o>i;++i)void 0!==(l=arguments[i])&&this.$set(a[i].name,l);else this.$set(t)},l=u.prototype=Object.create(e.Builder.Message.prototype);for(l.add=function(t,r,i){var o=n._fieldsByName[t];if(!i){if(!o)throw Error(this+"#"+t+" is undefined");if(!(o instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+t+" is not a repeated field");r=o.verifyValue(r,!0)}return null===this[t]&&(this[t]=[]),this[t].push(r),this},l.$add=l.add,l.set=function(t,r,i){var o,s,a;if(t&&"object"==typeof t){for(o in i=r,t)t.hasOwnProperty(o)&&void 0!==(r=t[o])&&this.$set(o,r,i);return this}if(s=n._fieldsByName[t],i)this[t]=r;else{if(!s)throw Error(this+"#"+t+" is not a field: undefined");if(!(s instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}return s&&s.oneof&&(a=this[s.oneof.name],null!==r?(null!==a&&a!==s.name&&(this[a]=null),this[s.oneof.name]=s.name):a===t&&(this[s.oneof.name]=null)),this},l.$set=l.set,l.get=function(t,r){if(r)return this[t];var i=n._fieldsByName[t];if(!(i&&i instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(i instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+i.toString(!0));return this[i.name]},l.$get=l.get,o=0;o<a.length;o++)(s=a[o])instanceof e.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t,r,i,o=e.originalName.replace(/(_[a-zA-Z])/g,(function(e){return e.toUpperCase().replace("_","")}));o=o.substring(0,1).toUpperCase()+o.substring(1),t=e.originalName.replace(/([A-Z])/g,(function(e){return"_"+e})),r=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},i=function(){return this[e.name]},null===n.getChild("set"+o)&&(l["set"+o]=r),null===n.getChild("set_"+t)&&(l["set_"+t]=r),null===n.getChild("get"+o)&&(l["get"+o]=i),null===n.getChild("get_"+t)&&(l["get_"+t]=i)}(s);return l.encode=function(e,r){var i,o;"boolean"==typeof e&&(r=e,e=void 0),i=!1,e||(e=new t,i=!0),o=e.littleEndian;try{return n.encode(this,e.LE(),r),(i?e.flip():e).LE(o)}catch(t){throw e.LE(o),t}},u.encode=function(e,t,n){return new u(e).encode(t,n)},l.calculate=function(){return n.calculate(this)},l.encodeDelimited=function(e){var t,i=!1;return e||(e=new r,i=!0),t=(new r).LE(),n.encode(this,t).flip(),e.writeVarint32(t.remaining()),e.append(t),i?e.flip():e},l.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toArrayBuffer()),t}},l.toArrayBuffer=l.encodeAB,l.encodeNB=function(){try{return this.encode().toBuffer()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBuffer()),t}},l.toBuffer=l.encodeNB,l.encode64=function(){try{return this.encode().toBase64()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toBase64()),t}},l.toBase64=l.encode64,l.encodeHex=function(){try{return this.encode().toHex()}catch(t){throw t.encoded&&(t.encoded=t.encoded.toHex()),t}},l.toHex=l.encodeHex,l.toRaw=function(e,t){return i(this,!!e,!!t,this.$type)},l.encodeJSON=function(){return JSON.stringify(i(this,!0,!0,this.$type))},u.decode=function(e,t){var i,o;"string"==typeof e&&(e=r.wrap(e,t||"base64")),i=(e=r.isByteBuffer(e)?e:r.wrap(e)).littleEndian;try{return o=n.decode(e.LE()),e.LE(i),o}catch(t){throw e.LE(i),t}},u.decodeDelimited=function(e,t){var i,o,s;if("string"==typeof e&&(e=r.wrap(e,t||"base64")),(e=r.isByteBuffer(e)?e:r.wrap(e)).remaining()<1)return null;if(i=e.offset,o=e.readVarint32(),e.remaining()<o)return e.offset=i,null;try{return s=n.decode(e.slice(e.offset,e.offset+o).LE()),e.offset+=o,s}catch(t){throw e.offset+=o,t}},u.decode64=function(e){return u.decode(e,"base64")},u.decodeHex=function(e){return u.decode(e,"hex")},u.decodeJSON=function(e){return new u(JSON.parse(e))},l.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(u,"$options",{value:n.buildOpt()}),Object.defineProperty(l,"$options",{value:u.$options}),Object.defineProperty(u,"$type",{value:n}),Object.defineProperty(l,"$type",{value:n})),u}(e,this),this._fields=[],this._fieldsById={},this._fieldsByName={},s=0,a=this.children.length;a>s;s++)if((o=this.children[s])instanceof g||o instanceof u||o instanceof y){if(i.hasOwnProperty(o.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+o.toString(!0)+" cannot override static property '"+o.name+"'");i[o.name]=o.build()}else if(o instanceof u.Field)o.build(),this._fields.push(o),this._fieldsById[o.id]=o,this._fieldsByName[o.name]=o;else if(!(o instanceof u.OneOf||o instanceof v))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[s].toString(!0));return this.clazz=i},l.encode=function(e,t,n){var r,i,o,s,a,c=null;for(o=0,s=this._fields.length;s>o;++o)i=e[(r=this._fields[o]).name],r.required&&null===i?null===c&&(c=r):r.encode(n?i:r.verifyValue(i),t,e);if(null!==c)throw(a=Error("Missing at least one required field for "+this.toString(!0)+": "+c)).encoded=t,a;return t},l.calculate=function(e){for(var t,n,r=0,i=0,o=this._fields.length;o>i;++i){if(n=e[(t=this._fields[i]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(n,e)}return r},l.decode=function(t,n,r){var o,s,a,c,u,l,f,d,h,p,g,m;for(n="number"==typeof n?n:-1,u=t.offset,l=new this.clazz;t.offset<u+n||-1===n&&t.remaining()>0;){if(a=(o=t.readVarint32())>>>3,(s=7&o)===e.WIRE_TYPES.ENDGROUP){if(a!==r)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(r?r+" expected":"not a group")+")");break}if(c=this._fieldsById[a])c.repeated&&!c.options.packed?l[c.name].push(c.decode(s,t)):c.map?(d=c.decode(s,t),l[c.name].set(d[0],d[1])):(l[c.name]=c.decode(s,t),c.oneof&&(null!==(h=l[c.oneof.name])&&h!==c.name&&(l[h]=null),l[c.oneof.name]=c.name));else switch(s){case e.WIRE_TYPES.VARINT:t.readVarint32();break;case e.WIRE_TYPES.BITS32:t.offset+=4;break;case e.WIRE_TYPES.BITS64:t.offset+=8;break;case e.WIRE_TYPES.LDELIM:f=t.readVarint32(),t.offset+=f;break;case e.WIRE_TYPES.STARTGROUP:for(;i(a,t););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+s)}}for(p=0,g=this._fields.length;g>p;++p)if(null===l[(c=this._fields[p]).name])if("proto3"===this.syntax)l[c.name]=c.defaultValue;else{if(c.required)throw(m=Error("Missing at least one required field for "+this.toString(!0)+": "+c.name)).decoded=l,m;e.populateDefaults&&null!==c.defaultValue&&(l[c.name]=c.defaultValue)}return l},C.Message=u,(d=(f=function(t,n,r,i,o,s,a,c,l,f){E.call(this,t,n,s),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.keyType=i||null,this.type=o,this.resolvedType=null,this.id=a,this.options=c||{},this.defaultValue=null,this.oneof=l||null,this.syntax=f||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof u.ExtensionField||(this.name=e.Util.toCamelCase(this.name))}).prototype=Object.create(E.prototype)).build=function(){this.element=new a(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new a(this.keyType,void 0,!0,this.syntax)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=a.defaultFieldValue(this.type)},d.verifyValue=function(t,n){var r,i,o;if(n=n||!1,r=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this),null===t)return this.required&&r(typeof t,"required"),"proto3"===this.syntax&&this.type!==e.TYPES.message&&r(typeof t,"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){for(Array.isArray(t)||(t=[t]),o=[],i=0;i<t.length;i++)o.push(this.element.verifyValue(t[i]));return o}return this.map&&!n?t instanceof e.Map?t:(t instanceof Object||r(typeof t,"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&r(typeof t,"no array expected"),this.element.verifyValue(t))},d.hasWirePresence=function(t,n){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return 0!==t;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return 0!==t.low||0!==t.high;case e.TYPES.bool:return t;case e.TYPES.float:case e.TYPES.double:return 0!==t;case e.TYPES.string:return t.length>0;case e.TYPES.bytes:return t.remaining()>0;case e.TYPES.enum:return 0!==t;case e.TYPES.message:return null!==t;default:return!0}},d.encode=function(t,n,i){var o,s,a,c,u;if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===t||this.repeated&&0==t.length)return n;try{if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(n.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),n.ensureCapacity(n.offset+=1),s=n.offset,o=0;o<t.length;o++)this.element.encodeValue(this.id,t[o],n);a=n.offset-s,(c=r.calculateVarint32(a))>1&&(u=n.slice(s,n.offset),s+=c-1,n.offset=s,n.append(u)),n.writeVarint32(a,s-c)}else for(o=0;o<t.length;o++)n.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,t[o],n);else this.map?t.forEach((function(t,i){var o=r.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+r.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,t);n.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),n.writeVarint32(o),n.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,n),n.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,t,n)}),this):this.hasWirePresence(t,i)&&(n.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,t,n))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+t+" ("+e+")")}return n},d.calculate=function(t,n){var i,o,s;if(t=this.verifyValue(t),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===t||this.repeated&&0==t.length)return 0;i=0;try{if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(i+=r.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),s=0,o=0;o<t.length;o++)s+=this.element.calculateLength(this.id,t[o]);i+=r.calculateVarint32(s),i+=s}else for(o=0;o<t.length;o++)i+=r.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,t[o]);else this.map?t.forEach((function(t,n){var o=r.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,n)+r.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,t);i+=r.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),i+=r.calculateVarint32(o),i+=o}),this):this.hasWirePresence(t,n)&&(i+=r.calculateVarint32(this.id<<3|this.type.wireType),i+=this.element.calculateLength(this.id,t))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+t+" ("+e+")")}return i},d.decode=function(t,n,r){var i,o,s,c,u,l,f;if(!(!this.map&&t==this.type.wireType||!r&&this.repeated&&this.options.packed&&t==e.WIRE_TYPES.LDELIM||this.map&&t==e.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==e.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){for(o=n.readVarint32(),o=n.offset+o,s=[];n.offset<o;)s.push(this.decode(this.type.wireType,n,!0));return s}if(this.map){if(c=a.defaultFieldValue(this.keyType),i=a.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());for((u=n.clone()).limit=u.offset+o,n.offset+=o;u.remaining()>0;)if(t=7&(l=u.readVarint32()),1==(f=l>>>3))c=this.keyElement.decode(u,t,f);else{if(2!==f)throw Error("Unexpected tag in map field key/value submessage");i=this.element.decode(u,t,f)}return[c,i]}return this.element.decode(n,t,this.id)},C.Message.Field=f,(h=function(e,t,n,r,i,o,s){f.call(this,e,t,n,null,r,i,o,s),this.extension}).prototype=Object.create(f.prototype),C.Message.ExtensionField=h,p=function(e,t,n){E.call(this,e,t,n),this.fields=[]},C.Message.OneOf=p,(g=function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.className="Enum",this.object=null}).getName=function(e,t){var n,r,i=Object.keys(e);for(r=0;r<i.length;++r)if(e[n=i[r]]===t)return n;return null},(g.prototype=Object.create(o.prototype)).build=function(t){var n,r,i,o;if(this.object&&!t)return this.object;for(n=new e.Builder.Enum,i=0,o=(r=this.getChildren(g.Value)).length;o>i;++i)n[r[i].name]=r[i].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},C.Enum=g,(m=function(e,t,n,r){E.call(this,e,t,n),this.className="Enum.Value",this.id=r}).prototype=Object.create(E.prototype),C.Enum.Value=m,(v=function(e,t,n,r){E.call(this,e,t,n),this.field=r}).prototype=Object.create(E.prototype),C.Extension=v,((y=function(e,t,n,r){o.call(this,e,t,n,r),this.className="Service",this.clazz=null}).prototype=Object.create(o.prototype)).build=function(t){return this.clazz&&!t?this.clazz:this.clazz=function(e,t){var n,i=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},o=i.prototype=Object.create(e.Builder.Service.prototype),s=t.getChildren(e.Reflect.Service.RPCMethod);for(n=0;n<s.length;n++)!function(e){o[e.name]=function(n,i){try{try{n=e.resolvedRequestType.clazz.decode(r.wrap(n))}catch(e){if(!(e instanceof TypeError))throw e}if(null===n||"object"!=typeof n)throw Error("Illegal arguments");n instanceof e.resolvedRequestType.clazz||(n=new e.resolvedRequestType.clazz(n)),this.rpcImpl(e.fqn(),n,(function(n,r){if(!n){try{r=e.resolvedResponseType.clazz.decode(r)}catch(e){}return r&&r instanceof e.resolvedResponseType.clazz?void i(null,r):void i(Error("Illegal response type received in service method "+t.name+"#"+e.name))}i(n)}))}catch(e){setTimeout(i.bind(this,e),0)}},i[e.name]=function(t,n,r){new i(t)[e.name](n,r)},Object.defineProperty&&(Object.defineProperty(i[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(o[e.name],"$options",{value:i[e.name].$options}))}(s[n]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:t.buildOpt()}),Object.defineProperty(o,"$options",{value:i.$options}),Object.defineProperty(i,"$type",{value:t}),Object.defineProperty(o,"$type",{value:t})),i}(e,this)},C.Service=y,((_=function(e,t,n,r){E.call(this,e,t,n),this.className="Service.Method",this.options=r||{}}).prototype=Object.create(E.prototype)).buildOpt=s.buildOpt,C.Service.Method=_,(b=function(e,t,n,r,i,o,s,a){_.call(this,e,t,n,a),this.className="Service.RPCMethod",this.requestName=r,this.responseName=i,this.requestStream=o,this.responseStream=s,this.resolvedRequestType=null,this.resolvedResponseType=null}).prototype=Object.create(_.prototype),C.Service.RPCMethod=b,C}(o),o.Builder=function(e,t,n){function r(e){e.messages&&e.messages.forEach((function(t){t.syntax=e.syntax,r(t)})),e.enums&&e.enums.forEach((function(t){t.syntax=e.syntax}))}var i=function(e){this.ns=new n.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=i.prototype;return i.isMessage=function(e){return"string"==typeof e.name&&void 0===e.values&&void 0===e.rpc},i.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},i.isEnum=function(e){return"string"==typeof e.name&&!(void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},i.isService=function(e){return!("string"!=typeof e.name||"object"!=typeof e.rpc||!e.rpc)},i.isExtend=function(e){return"string"==typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach((function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new n.Namespace(this,this.ptr,e)),this.ptr=t}),this),this},o.create=function(t){var r,o,s,a,c;if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(r=[t];r.length>0;){if(t=r.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){if(o=t.shift(),i.isMessage(o)){if(s=new n.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),a={},o.oneofs&&Object.keys(o.oneofs).forEach((function(e){s.addChild(a[e]=new n.Message.OneOf(this,s,e))}),this),o.fields&&o.fields.forEach((function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate or invalid field id in "+s.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+s.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=a[e.oneof]))throw Error("illegal oneof in "+s.name+"#"+e.name+": "+e.oneof);e=new n.Message.Field(this,s,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),s.addChild(e)}),this),c=[],o.enums&&o.enums.forEach((function(e){c.push(e)})),o.messages&&o.messages.forEach((function(e){c.push(e)})),o.services&&o.services.forEach((function(e){c.push(e)})),o.extensions&&(s.extensions="number"==typeof o.extensions[0]?[o.extensions]:o.extensions),this.ptr.addChild(s),c.length>0){r.push(t),t=c,c=null,this.ptr=s,s=null;continue}c=null}else if(i.isEnum(o))s=new n.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach((function(e){s.addChild(new n.Enum.Value(this,s,e.name,e.id))}),this),this.ptr.addChild(s);else if(i.isService(o))s=new n.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach((function(e){var t=o.rpc[e];s.addChild(new n.Service.RPCMethod(this,s,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))}),this),this.ptr.addChild(s);else{if(!i.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o.ref,!0))o.fields.forEach((function(t){var r,i,o,a;if(null!==s.getChild(0|t.id))throw Error("duplicate extended field id in "+s.name+": "+t.id);if(s.extensions&&(r=!1,s.extensions.forEach((function(e){t.id>=e[0]&&t.id<=e[1]&&(r=!0)})),!r))throw Error("illegal extended field id in "+s.name+": "+t.id+" (not within valid ranges)");i=t.name,this.options.convertFieldsToCamelCase&&(i=e.Util.toCamelCase(i)),o=new n.Message.ExtensionField(this,s,t.rule,t.type,this.ptr.fqn()+"."+i,t.id,t.options),a=new n.Extension(this,this.ptr,t.name,o),o.extension=a,this.ptr.addChild(a),s.addChild(o)}),this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,s=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(t,n){var i,o,s,a,c,u,l,f,d="/";if("string"==typeof n){if(e.Util.IS_NODE,!0===this.files[n])return this.reset();this.files[n]=!0}else if("object"==typeof n){if(i=n.root,e.Util.IS_NODE,(i.indexOf("\\")>=0||n.file.indexOf("\\")>=0)&&(d="\\"),o=i+d+n.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(t.imports&&t.imports.length>0){for(a=!1,"object"==typeof n?(this.importRoot=n.root,a=!0,s=this.importRoot,n=n.file,(s.indexOf("\\")>=0||n.indexOf("\\")>=0)&&(d="\\")):"string"==typeof n?this.importRoot?s=this.importRoot:n.indexOf("/")>=0?""===(s=n.replace(/\/[^\/]*$/,""))&&(s="/"):n.indexOf("\\")>=0?(s=n.replace(/\\[^\\]*$/,""),d="\\"):s=".":s=null,c=0;c<t.imports.length;c++)if("string"==typeof t.imports[c]){if(!s)throw Error("cannot determine import root");if("google/protobuf/descriptor.proto"===(u=t.imports[c]))continue;if(u=s+d+u,!0===this.files[u])continue;if(/\.proto$/i.test(u)&&!e.DotProto&&(u=u.replace(/\.proto$/,".json")),null===(l=e.Util.fetch(u)))throw Error("failed to import '"+u+"' in '"+n+"': file not found");/\.json$/i.test(u)?this.import(JSON.parse(l+""),u):this.import(e.DotProto.Parser.parse(l),u)}else n?/\.(\w+)$/.test(n)?this.import(t.imports[c],n.replace(/^(.+)\.(\w+)$/,(function(e,t,n){return t+"_import"+c+"."+n}))):this.import(t.imports[c],n+"_import"+c):this.import(t.imports[c]);a&&(this.importRoot=null)}return t.package&&this.define(t.package),t.syntax&&r(t),f=this.ptr,t.options&&Object.keys(t.options).forEach((function(e){f.options[e]=t.options[e]})),t.messages&&(this.create(t.messages),this.ptr=f),t.enums&&(this.create(t.enums),this.ptr=f),t.services&&(this.create(t.services),this.ptr=f),t.extends&&this.create(t.extends),this.reset()},o.resolveAll=function(){var r;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof n.Namespace)this.ptr.children.forEach((function(e){this.ptr=e,this.resolveAll()}),this);else if(this.ptr instanceof n.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(r=(this.ptr instanceof n.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=r,r instanceof n.Enum){if(this.ptr.type=e.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==r.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(r instanceof n.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((r=this.ptr.parent.resolve(this.ptr.requestName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=r,!((r=this.ptr.parent.resolve(this.ptr.responseName,!0))&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},o.build=function(e){var t,n,r;if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(t="string"==typeof e?e.split("."):e,n=this.result,r=0;r<t.length;r++){if(!n[t[r]]){n=null;break}n=n[t[r]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},i.Message=function(){},i.Enum=function(){},i.Service=function(){},i}(o,o.Lang,o.Reflect),o.Map=function(e,t){function n(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(e,n){var r,i,o,s;if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(r=Object.keys(n),i=0;i<r.length;i++)o=this.keyElem.valueFromString(r[i]),s=this.valueElem.verifyValue(n[r[i]]),this.map[this.keyElem.valueToString(o)]={key:o,value:s}},i=r.prototype;return i.clear=function(){this.map={}},i.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},i.entries=function(){var e,t,r=[],i=Object.keys(this.map);for(t=0;t<i.length;t++)r.push([(e=this.map[i[t]]).key,e.value]);return n(r)},i.keys=function(){var e,t=[],r=Object.keys(this.map);for(e=0;e<r.length;e++)t.push(this.map[r[e]].key);return n(t)},i.values=function(){var e,t=[],r=Object.keys(this.map);for(e=0;e<r.length;e++)t.push(this.map[r[e]].value);return n(t)},i.forEach=function(e,t){var n,r,i=Object.keys(this.map);for(r=0;r<i.length;r++)e.call(t,(n=this.map[i[r]]).value,n.key,this)},i.set=function(e,t){var n=this.keyElem.verifyValue(e),r=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:r},this},i.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map?this.map[t].value:void 0},i.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},r}(0,o.Reflect),o.loadProto=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=void 0),o.loadJson(o.DotProto.Parser.parse(e),t,n)},o.protoFromString=o.loadProto,o.loadProtoFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,o.loadProto(r,n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:o.loadProto(r,n,e)},o.protoFromFile=o.loadProtoFile,o.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=o.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=o.populateAccessors),new o.Builder(e)},o.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"==typeof t||(t=o.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},o.loadJsonFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return o.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,(function(r){if(null!==r)try{t(null,o.loadJson(JSON.parse(r),n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))}));var r=o.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===r?null:o.loadJson(JSON.parse(r),n,e)},i=Rn,o.loadProto(i,void 0,"").build("Modules").probuf}(function(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function n(){var e=[],t=[];return function(){return 0===arguments.length?t.join("")+a.apply(String,e):(e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),void Array.prototype.push.apply(e,arguments))}}function r(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)}function i(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*g}var o,s,a,c,u,l=function(e,t,n){if(void 0===e&&(e=l.DEFAULT_CAPACITY),void 0===t&&(t=l.DEFAULT_ENDIAN),void 0===n&&(n=l.DEFAULT_NOASSERT),!n){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,n=!!n}this.buffer=0===e?s:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=n};return l.VERSION="5.0.1",l.LITTLE_ENDIAN=!0,l.BIG_ENDIAN=!1,l.DEFAULT_CAPACITY=16,l.DEFAULT_ENDIAN=l.BIG_ENDIAN,l.DEFAULT_NOASSERT=!1,l.Long=e||null,(o=l.prototype).__isByteBuffer__,Object.defineProperty(o,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1}),s=new ArrayBuffer(0),a=String.fromCharCode,l.accessor=function(){return Uint8Array},l.allocate=function(e,t,n){return new l(e,t,n)},l.concat=function(e,t,n,r){var i,o,s,a,c,u;for(("boolean"==typeof t||"string"!=typeof t)&&(r=n,n=t,t=void 0),i=0,s=0,a=e.length;a>s;++s)l.isByteBuffer(e[s])||(e[s]=l.wrap(e[s],t)),(o=e[s].limit-e[s].offset)>0&&(i+=o);if(0===i)return new l(0,n,r);for(u=new l(i,n,r),s=0;a>s;)(o=(c=e[s++]).limit-c.offset)<=0||(u.view.set(c.view.subarray(c.offset,c.limit),u.offset),u.offset+=o);return u.limit=u.offset,u.offset=0,u},l.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},l.type=function(){return ArrayBuffer},l.wrap=function(e,t,n,r){var i,s;if("string"!=typeof t&&(r=n,n=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return l.fromBase64(e,n);case"hex":return l.fromHex(e,n);case"binary":return l.fromBinary(e,n);case"utf8":return l.fromUTF8(e,n);case"debug":return l.fromDebug(e,n);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");if(l.isByteBuffer(e))return(i=o.clone.call(e)).markedOffset=-1,i;if(e instanceof Uint8Array)i=new l(0,n,r),e.length>0&&(i.buffer=e.buffer,i.offset=e.byteOffset,i.limit=e.byteOffset+e.byteLength,i.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)i=new l(0,n,r),e.byteLength>0&&(i.buffer=e,i.offset=0,i.limit=e.byteLength,i.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for((i=new l(e.length,n,r)).limit=e.length,s=0;s<e.length;++s)i.view[s]=e[s]}return i},o.writeBitSet=function(e,t){var n,r,i,o,s,a,c=void 0===t;if(c&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}for(r=t,o=(i=e.length)>>3,s=0,t+=this.writeVarint32(i,t);o--;)n=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(n,t++);if(i>s){for(a=0,n=0;i>s;)n|=(1&!!e[s++])<<a++;this.writeByte(n,t++)}return c?(this.offset=t,this):t-r},o.readBitSet=function(e){var t,n,r,i,o,s,a,c=void 0===e;for(c&&(e=this.offset),i=(r=(n=this.readVarint32(e)).value)>>3,o=0,s=[],e+=n.length;i--;)t=this.readByte(e++),s[o++]=!!(1&t),s[o++]=!!(2&t),s[o++]=!!(4&t),s[o++]=!!(8&t),s[o++]=!!(16&t),s[o++]=!!(32&t),s[o++]=!!(64&t),s[o++]=!!(128&t);if(r>o)for(a=0,t=this.readByte(e++);r>o;)s[o++]=!!(1&t>>a++);return c&&(this.offset=e),s},o.readBytes=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}return n=this.slice(t,t+e),r&&(this.offset+=e),n},o.writeBytes=o.append,o.writeInt8=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=1)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},o.writeByte=o.writeInt8,o.readInt8=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return 128==(128&(t=this.view[e]))&&(t=-(255-t+1)),n&&(this.offset+=1),t},o.readByte=o.readInt8,o.writeUint8=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=1)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},o.writeUInt8=o.writeUint8,o.readUint8=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=this.view[e],n&&(this.offset+=1),t},o.readUInt8=o.readUint8,o.writeInt16=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=2)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},o.writeShort=o.writeInt16,o.readInt16=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e],t|=this.view[e+1]<<8):(t=this.view[e]<<8,t|=this.view[e+1]),32768==(32768&t)&&(t=-(65535-t+1)),n&&(this.offset+=2),t},o.readShort=o.readInt16,o.writeUint16=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=2)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},o.writeUInt16=o.writeUint16,o.readUint16=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e],t|=this.view[e+1]<<8):(t=this.view[e]<<8,t|=this.view[e+1]),n&&(this.offset+=2),t},o.readUInt16=o.readUint16,o.writeInt32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=255&e>>>24,this.view[t+2]=255&e>>>16,this.view[t+1]=255&e>>>8,this.view[t]=255&e):(this.view[t]=255&e>>>24,this.view[t+1]=255&e>>>16,this.view[t+2]=255&e>>>8,this.view[t+3]=255&e),r&&(this.offset+=4),this},o.writeInt=o.writeInt32,o.readInt32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e+2]<<16,t|=this.view[e+1]<<8,t|=this.view[e],t+=this.view[e+3]<<24>>>0):(t=this.view[e+1]<<16,t|=this.view[e+2]<<8,t|=this.view[e+3],t+=this.view[e]<<24>>>0),t|=0,n&&(this.offset+=4),t},o.readInt=o.readInt32,o.writeUint32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,this.littleEndian?(this.view[t+3]=255&e>>>24,this.view[t+2]=255&e>>>16,this.view[t+1]=255&e>>>8,this.view[t]=255&e):(this.view[t]=255&e>>>24,this.view[t+1]=255&e>>>16,this.view[t+2]=255&e>>>8,this.view[t+3]=255&e),r&&(this.offset+=4),this},o.writeUInt32=o.writeUint32,o.readUint32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=0,this.littleEndian?(t=this.view[e+2]<<16,t|=this.view[e+1]<<8,t|=this.view[e],t+=this.view[e+3]<<24>>>0):(t=this.view[e+1]<<16,t|=this.view[e+2]<<8,t|=this.view[e+3],t+=this.view[e]<<24>>>0),n&&(this.offset+=4),t},o.readUInt32=o.readUint32,e&&(o.writeInt64=function(t,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),(n+=8)>(r=this.buffer.byteLength)&&this.resize((r*=2)>n?r:n),n-=8,i=t.low,o=t.high,this.littleEndian?(this.view[n+3]=255&i>>>24,this.view[n+2]=255&i>>>16,this.view[n+1]=255&i>>>8,this.view[n]=255&i,n+=4,this.view[n+3]=255&o>>>24,this.view[n+2]=255&o>>>16,this.view[n+1]=255&o>>>8,this.view[n]=255&o):(this.view[n]=255&o>>>24,this.view[n+1]=255&o>>>16,this.view[n+2]=255&o>>>8,this.view[n+3]=255&o,n+=4,this.view[n]=255&i>>>24,this.view[n+1]=255&i>>>16,this.view[n+2]=255&i>>>8,this.view[n+3]=255&i),s&&(this.offset+=8),this},o.writeLong=o.writeInt64,o.readInt64=function(t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return n=0,r=0,this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),i=new e(n,r,!1),o&&(this.offset+=8),i},o.readLong=o.readInt64,o.writeUint64=function(t,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),(n+=8)>(r=this.buffer.byteLength)&&this.resize((r*=2)>n?r:n),n-=8,i=t.low,o=t.high,this.littleEndian?(this.view[n+3]=255&i>>>24,this.view[n+2]=255&i>>>16,this.view[n+1]=255&i>>>8,this.view[n]=255&i,n+=4,this.view[n+3]=255&o>>>24,this.view[n+2]=255&o>>>16,this.view[n+1]=255&o>>>8,this.view[n]=255&o):(this.view[n]=255&o>>>24,this.view[n+1]=255&o>>>16,this.view[n+2]=255&o>>>8,this.view[n+3]=255&o,n+=4,this.view[n]=255&i>>>24,this.view[n+1]=255&i>>>16,this.view[n+2]=255&i>>>8,this.view[n+3]=255&i),s&&(this.offset+=8),this},o.writeUInt64=o.writeUint64,o.readUint64=function(t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}return n=0,r=0,this.littleEndian?(n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0),i=new e(n,r,!0),o&&(this.offset+=8),i},o.readUInt64=o.readUint64),o.writeFloat32=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=4)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=4,i(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},o.writeFloat=o.writeFloat32,o.readFloat32=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=r(this.view,e,this.littleEndian,23,4),n&&(this.offset+=4),t},o.readFloat=o.readFloat32,o.writeFloat64=function(e,t){var n,r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return(t+=8)>(n=this.buffer.byteLength)&&this.resize((n*=2)>t?n:t),t-=8,i(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},o.writeDouble=o.writeFloat64,o.readFloat64=function(e){var t,n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}return t=r(this.view,e,this.littleEndian,52,8),n&&(this.offset+=8),t},o.readDouble=o.readFloat64,l.MAX_VARINT32_BYTES=5,l.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:1<<21>e?3:1<<28>e?4:5},l.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},l.zigZagDecode32=function(e){return 0|e>>>1^-(1&e)},o.writeVarint32=function(e,t){var n,r,i,o=void 0===t;if(o&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}for((t+=r=l.calculateVarint32(e))>(i=this.buffer.byteLength)&&this.resize((i*=2)>t?i:t),t-=r,e>>>=0;e>=128;)n=128|127&e,this.view[t++]=n,e>>>=7;return this.view[t++]=e,o?(this.offset=t,this):r},o.writeVarint32ZigZag=function(e,t){return this.writeVarint32(l.zigZagEncode32(e),t)},o.readVarint32=function(e){var t,n,r,i,o=void 0===e;if(o&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}n=0,r=0;do{if(!this.noAssert&&e>this.limit)throw(i=Error("Truncated")).truncated=!0,i;t=this.view[e++],n<5&&(r|=(127&t)<<7*n),++n}while(0!=(128&t));return r|=0,o?(this.offset=e,r):{value:r,length:n}},o.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"==typeof t?t.value=l.zigZagDecode32(t.value):t=l.zigZagDecode32(t),t},e&&(l.MAX_VARINT64_BYTES=10,l.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,r=t.shiftRightUnsigned(28).toInt()>>>0,i=t.shiftRightUnsigned(56).toInt()>>>0;return 0==i?0==r?n<16384?n<128?1:2:1<<21>n?3:4:r<16384?r<128?5:6:1<<21>r?7:8:i<128?9:10},l.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},l.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},o.writeVarint64=function(t,n){var r,i,o,s,a,c=void 0===n;if(c&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}switch("number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),r=l.calculateVarint64(t),i=t.toInt()>>>0,o=t.shiftRightUnsigned(28).toInt()>>>0,s=t.shiftRightUnsigned(56).toInt()>>>0,(n+=r)>(a=this.buffer.byteLength)&&this.resize((a*=2)>n?a:n),n-=r,r){case 10:this.view[n+9]=1&s>>>7;case 9:this.view[n+8]=9!==r?128|s:127&s;case 8:this.view[n+7]=8!==r?128|o>>>21:127&o>>>21;case 7:this.view[n+6]=7!==r?128|o>>>14:127&o>>>14;case 6:this.view[n+5]=6!==r?128|o>>>7:127&o>>>7;case 5:this.view[n+4]=5!==r?128|o:127&o;case 4:this.view[n+3]=4!==r?128|i>>>21:127&i>>>21;case 3:this.view[n+2]=3!==r?128|i>>>14:127&i>>>14;case 2:this.view[n+1]=2!==r?128|i>>>7:127&i>>>7;case 1:this.view[n]=1!==r?128|i:127&i}return c?(this.offset+=r,this):r},o.writeVarint64ZigZag=function(e,t){return this.writeVarint64(l.zigZagEncode64(e),t)},o.readVarint64=function(t){var n,r,i,o,s,a,c=void 0===t;if(c&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}if(n=t,r=0,i=0,o=0,s=0,r=127&(s=this.view[t++]),128&s&&(r|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(i=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(i|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");return a=e.fromBits(r|i<<28,i>>>4|o<<24,!1),c?(this.offset=t,a):{value:a,length:t-n}},o.readVarint64ZigZag=function(t){var n=this.readVarint64(t);return n&&n.value instanceof e?n.value=l.zigZagDecode64(n.value):n=l.zigZagDecode64(n),n}),o.writeCString=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),i=e.length,!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;i>r;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return i=u.calculateUTF16asUTF8(t(e))[1],n+=i+1,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=i+1,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),this.view[n++]=0,s?(this.offset=n,this):i},o.readCString=function(e){var t,r,i,o=void 0===e;if(o&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=e,i=-1,u.decodeUTF8toUTF16(function(){if(0===i)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(i=this.view[e++])?null:i}.bind(this),r=n(),!0),o?(this.offset=e,r()):{string:r(),length:e-t}},o.writeIString=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}if(i=n,r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],n+=4+r,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=4+r,this.littleEndian?(this.view[n+3]=255&r>>>24,this.view[n+2]=255&r>>>16,this.view[n+1]=255&r>>>8,this.view[n]=255&r):(this.view[n]=255&r>>>24,this.view[n+1]=255&r>>>16,this.view[n+2]=255&r>>>8,this.view[n+3]=255&r),n+=4,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==i+4+r)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+r));return s?(this.offset=n,this):n-i},o.readIString=function(e){var t,n,r,i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}return t=e,n=this.readUint32(e),r=this.readUTF8String(n,l.METRICS_BYTES,e+=4),e+=r.length,i?(this.offset=e,r.string):{string:r.string,length:e-t}},l.METRICS_CHARS="c",l.METRICS_BYTES="b",o.writeUTF8String=function(e,n){var r,i,o,s=void 0===n;if(s&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return i=n,r=u.calculateUTF16asUTF8(t(e))[1],n+=r,o=this.buffer.byteLength,n>o&&this.resize((o*=2)>n?o:n),n-=r,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),s?(this.offset=n,this):n-i},o.writeString=o.writeUTF8String,l.calculateUTF8Chars=function(e){return u.calculateUTF16asUTF8(t(e))[0]},l.calculateUTF8Bytes=function(e){return u.calculateUTF16asUTF8(t(e))[1]},l.calculateString=l.calculateUTF8Bytes,o.readUTF8String=function(e,t,r){var i,o,s,a,c;if("number"==typeof t&&(r=t,t=void 0),(i=void 0===r)&&(r=this.offset),void 0===t&&(t=l.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}if(s=0,a=r,t===l.METRICS_CHARS){if(o=n(),u.decodeUTF8(function(){return e>s&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++s,u.UTF8toUTF16(e,o)})),s!==e)throw RangeError("Illegal range: Truncated data, "+s+" == "+e);return i?(this.offset=r,o()):{string:o(),length:r-a}}if(t===l.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}if(c=r+e,u.decodeUTF8toUTF16(function(){return c>r?this.view[r++]:null}.bind(this),o=n(),this.noAssert),r!==c)throw RangeError("Illegal range: Truncated data, "+r+" == "+c);return i?(this.offset=r,o()):{string:o(),length:r-a}}throw TypeError("Unsupported metrics: "+t)},o.readString=o.readUTF8String,o.writeVString=function(e,n){var r,i,o,s,a=void 0===n;if(a&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}if(o=n,r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],i=l.calculateVarint32(r),n+=i+r,s=this.buffer.byteLength,n>s&&this.resize((s*=2)>n?s:n),n-=i+r,n+=this.writeVarint32(r,n),u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==o+r+i)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+r+i));return a?(this.offset=n,this):n-o},o.readVString=function(e){var t,n,r,i=void 0===e;if(i&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}return t=e,n=this.readVarint32(e),r=this.readUTF8String(n.value,l.METRICS_BYTES,e+=n.length),e+=r.length,i?(this.offset=e,r.string):{string:r.string,length:e-t}},o.append=function(e,t,n){var r,i,o;if(("number"==typeof t||"string"!=typeof t)&&(n=t,t=void 0),(r=void 0===n)&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return e instanceof l||(e=l.wrap(e,t)),(i=e.limit-e.offset)<=0||((n+=i)>(o=this.buffer.byteLength)&&this.resize((o*=2)>n?o:n),n-=i,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=i,r&&(this.offset+=i)),this},o.appendTo=function(e,t){return e.append(this,t),this},o.assert=function(e){return this.noAssert=!e,this},o.capacity=function(){return this.buffer.byteLength},o.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},o.clone=function(e){var t=new l(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},o.compact=function(e,t){var n,r,i;if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return 0===e&&t===this.buffer.byteLength?this:0==(n=t-e)?(this.buffer=s,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this):(r=new ArrayBuffer(n),(i=new Uint8Array(r)).set(this.view.subarray(e,t)),this.buffer=r,this.view=i,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this)},o.copy=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new l(0,this.littleEndian,this.noAssert);var n=t-e,r=new l(n,this.littleEndian,this.noAssert);return r.offset=0,r.limit=n,r.markedOffset>=0&&(r.markedOffset-=e),this.copyTo(r,0,e,t),r},o.copyTo=function(e,t,n,r){var i,o,s;if(!this.noAssert&&!l.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,n=(i=void 0===n)?this.offset:0|n,r=void 0===r?this.limit:0|r,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(n<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);return 0==(s=r-n)?e:(e.ensureCapacity(t+s),e.view.set(this.view.subarray(n,r),t),i&&(this.offset+=s),o&&(e.offset+=s),this)},o.ensureCapacity=function(e){var t=this.buffer.byteLength;return e>t?this.resize((t*=2)>e?t:e):this},o.fill=function(e,t,n){var r=void 0===t;if(r&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;n>t;)this.view[t++]=e;return r&&(this.offset=t),this},o.flip=function(){return this.limit=this.offset,this.offset=0,this},o.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},o.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},o.LE=function(e){return this.littleEndian=void 0===e||!!e,this},o.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},o.prepend=function(e,t,n){var r,i,o,s,a;if(("number"==typeof t||"string"!=typeof t)&&(n=t,t=void 0),(r=void 0===n)&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}return e instanceof l||(e=l.wrap(e,t)),(i=e.limit-e.offset)<=0||((o=i-n)>0?(s=new ArrayBuffer(this.buffer.byteLength+o),(a=new Uint8Array(s)).set(this.view.subarray(n,this.buffer.byteLength),i),this.buffer=s,this.view=a,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,n+=o):new Uint8Array(this.buffer),this.view.set(e.view.subarray(e.offset,e.limit),n-i),e.offset=e.limit,r&&(this.offset-=i)),this},o.prependTo=function(e,t){return e.prepend(this,t),this},o.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},o.remaining=function(){return this.limit-this.offset},o.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},o.resize=function(e){var t,n;if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}return this.buffer.byteLength<e&&(t=new ArrayBuffer(e),(n=new Uint8Array(t)).set(this.view),this.buffer=t,this.view=n),this},o.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},o.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},o.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},o.toBuffer=function(e){var t,n=this.offset,r=this.limit;if(!this.noAssert){if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: Not an integer");if(n>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,n<0||n>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+n+" <= "+r+" <= "+this.buffer.byteLength)}return e||0!==n||r!==this.buffer.byteLength?n===r?s:(t=new ArrayBuffer(r-n),new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(n,r),0),t):this.buffer},o.toArrayBuffer=o.toBuffer,o.toString=function(e,t,n){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}},c=function(){var e,t,n={},r=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],i=[];for(e=0,t=r.length;t>e;++e)i[r[e]]=e;return n.encode=function(e,t){for(var n,i;null!==(n=e());)t(r[63&n>>2]),i=(3&n)<<4,null!==(n=e())?(t(r[63&((i|=15&n>>4)|15&n>>4)]),i=(15&n)<<2,null!==(n=e())?(t(r[63&(i|3&n>>6)]),t(r[63&n])):(t(r[63&i]),t(61))):(t(r[63&i]),t(61),t(61))},n.decode=function(e,t){function n(e){throw Error("Illegal character code: "+e)}for(var r,o,s;null!==(r=e());)if(void 0===(o=i[r])&&n(r),null!==(r=e())&&(void 0===(s=i[r])&&n(r),t(o<<2>>>0|(48&s)>>4),null!==(r=e()))){if(void 0===(o=i[r])){if(61===r)break;n(r)}if(t((15&s)<<4>>>0|(60&o)>>2),null!==(r=e())){if(void 0===(s=i[r])){if(61===r)break;n(r)}t((3&o)<<6>>>0|s)}}},n.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},n}(),o.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return c.encode(function(){return t>e?this.view[e++]:null}.bind(this),r=n()),r()},l.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var r=new l(e.length/4*3,n),i=0;return c.decode(t(e),(function(e){r.view[i++]=e})),r.limit=i,r},l.btoa=function(e){return l.fromBinary(e).toBase64()},l.atob=function(e){return l.fromBase64(e).toBinary()},o.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],r=[];t>e;)n.push(this.view[e++]),n.length>=1024&&(r.push(String.fromCharCode.apply(String,n)),n=[]);return r.join("")+String.fromCharCode.apply(String,n)},l.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var n,r=0,i=e.length,o=new l(i,t);i>r;){if((n=e.charCodeAt(r))>255)throw RangeError("illegal char code: "+n);o.view[r++]=n}return o.limit=i,o},o.toDebug=function(e){for(var t,n=-1,r=this.buffer.byteLength,i="",o="",s="";r>n;){if(-1!==n&&(i+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16==0&&n!==r){for(;i.length<51;)i+=" ";s+=i+o+"\n",i=o=""}i+=n===this.offset&&n===this.limit?n===this.markedOffset?"!":"|":n===this.offset?n===this.markedOffset?"[":"<":n===this.limit?n===this.markedOffset?"]":">":n===this.markedOffset?"'":e||0!==n&&n!==r?" ":""}if(e&&" "!==i){for(;i.length<51;)i+=" ";s+=i+o+"\n"}return e?s:i},l.fromDebug=function(e,t,n){for(var r,i,o=e.length,s=new l(0|(o+1)/3,t,n),a=0,c=0,u=!1,f=!1,d=!1,h=!1,p=!1;o>a;){switch(r=e.charAt(a++)){case"!":if(!n){if(f||d||h){p=!0;break}f=d=h=!0}s.offset=s.markedOffset=s.limit=c,u=!1;break;case"|":if(!n){if(f||h){p=!0;break}f=h=!0}s.offset=s.limit=c,u=!1;break;case"[":if(!n){if(f||d){p=!0;break}f=d=!0}s.offset=s.markedOffset=c,u=!1;break;case"<":if(!n){if(f){p=!0;break}f=!0}s.offset=c,u=!1;break;case"]":if(!n){if(h||d){p=!0;break}h=d=!0}s.limit=s.markedOffset=c,u=!1;break;case">":if(!n){if(h){p=!0;break}h=!0}s.limit=c,u=!1;break;case"'":if(!n){if(d){p=!0;break}d=!0}s.markedOffset=c,u=!1;break;case" ":u=!1;break;default:if(!n&&u){p=!0;break}if(i=parseInt(r+e.charAt(a++),16),!n&&(isNaN(i)||i<0||i>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[c++]=i,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+a)}if(!n){if(!f||!h)throw TypeError("Illegal str: Missing offset or limit");if(c<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return s},o.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,r=new Array(t-e);t>e;)(n=this.view[e++])<16?r.push("0",n.toString(16)):r.push(n.toString(16));return r.join("")},l.fromHex=function(e,t,n){var r,i,o,s,a;if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(i=e.length,o=new l(0|i/2,t),s=0,a=0;i>s;s+=2){if(r=parseInt(e.substring(s,s+2),16),!n&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[a++]=r}return o.limit=a,o},u=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(192|31&n>>6),t(128|63&n)):n<65536?(t(224|15&n>>12),t(128|63&n>>6),t(128|63&n)):(t(240|7&n>>18),t(128|63&n>>12),t(128|63&n>>6),t(128|63&n)),n=null},decodeUTF8:function(e,t){for(var n,r,i,o,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(r=e())&&s([n,r]),t((31&n)<<6|63&r);else if(224==(240&n))(null===(r=e())||null===(i=e()))&&s([n,r,i]),t((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=e())||null===(i=e())||null===(o=e()))&&s([n,r,i,o]),t((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(e,t){for(var n,r=null;null!==(n=null!==r?r:e());)n>=55296&&n<=57343&&null!==(r=e())&&r>=56320&&r<=57343?(t(1024*(n-55296)+r-56320+65536),r=null):t(n);null!==r&&t(r)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,n)}))},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,n)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,r=0;return e.UTF16toUTF8(t,(function(e){++n,r+=e<128?1:e<2048?2:e<65536?3:4})),[n,r]}};return e}(),o.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{u.decodeUTF8toUTF16(function(){return t>e?this.view[e++]:null}.bind(this),r=n())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},l.fromUTF8=function(e,n,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new l(u.calculateUTF16asUTF8(t(e),!0)[1],n,r),o=0;return u.encodeUTF16toUTF8(t(e),(function(e){i.view[o++]=e})),i.limit=o,i},l}(On=function(){function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}function n(e,t){var n,r,o;return t?(o=(e>>>=0)>=0&&e<256)&&(r=c[e])?r:(n=i(e,(0|e)<0?-1:0,!0),o&&(c[e]=n),n):(o=(e|=0)>=-128&&e<128)&&(r=a[e])?r:(n=i(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function r(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=f)return b}else{if(-d>=e)return C;if(e+1>=d)return _}return e<0?r(-e,t).neg():i(0|e%l,0|e/l,t)}function i(t,n,r){return new e(t,n,r)}function o(e,t,n){var i,s,a,c,l,f,d;if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||n>36)throw RangeError("radix");if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return o(e.substring(1),t,n).neg();for(s=r(u(n,8)),a=p,c=0;c<e.length;c+=8)l=Math.min(8,e.length-c),f=parseInt(e.substring(c,c+l),n),l<8?(d=r(u(n,l)),a=a.mul(d).add(r(f))):a=(a=a.mul(s)).add(r(f));return a.unsigned=t,a}function s(t){return t instanceof e?t:"number"==typeof t?r(t):"string"==typeof t?o(t):i(t.low,t.high,t.unsigned)}var a,c,u,l,f,d,h,p,g,m,v,y,_,b,C,E;return e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t,a={},c={},e.fromInt=n,e.fromNumber=r,e.fromBits=i,u=Math.pow,e.fromString=o,e.fromValue=s,d=(f=(l=4294967296)*l)/2,h=n(16777216),p=n(0),e.ZERO=p,g=n(0,!0),e.UZERO=g,m=n(1),e.ONE=m,v=n(1,!0),e.UONE=v,y=n(-1),e.NEG_ONE=y,_=i(-1,2147483647,!1),e.MAX_VALUE=_,b=i(-1,-1,!0),e.MAX_UNSIGNED_VALUE=b,C=i(0,-2147483648,!1),e.MIN_VALUE=C,(E=e.prototype).toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},E.toString=function(e){var t,n,i,o,s,a,c,l;if((e=e||10)<2||e>36)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())return this.eq(C)?(t=r(e),i=(n=this.div(t)).mul(t).sub(this),n.toString(e)+i.toInt().toString(e)):"-"+this.neg().toString(e);for(o=r(u(e,6),this.unsigned),s=this,a="";;){if(c=s.div(o),l=(s.sub(c.mul(o)).toInt()>>>0).toString(e),(s=c).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){var e,t;if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return t(e)||(e=s(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(e){if(t(e)||(e=s(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(m)},E.neg=E.negate,E.add=function(e){var n,r,o,a,c,u,l,f,d,h,p;return t(e)||(e=s(e)),n=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=0,d=0,h=0,p=0,h+=(p+=a+(65535&e.low))>>>16,d+=(h+=o+l)>>>16,f+=(d+=r+u)>>>16,f+=n+c,i((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)},E.subtract=function(e){return t(e)||(e=s(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){var n,o,a,c,u,l,f,d,g,m,v,y;return this.isZero()?p:(t(e)||(e=s(e)),e.isZero()?p:this.eq(C)?e.isOdd()?C:p:e.eq(C)?this.isOdd()?C:p:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(h)&&e.lt(h)?r(this.toNumber()*e.toNumber(),this.unsigned):(n=this.high>>>16,o=65535&this.high,a=this.low>>>16,c=65535&this.low,u=e.high>>>16,l=65535&e.high,f=e.low>>>16,g=0,m=0,v=0,y=0,v+=(y+=c*(d=65535&e.low))>>>16,m+=(v+=a*d)>>>16,v&=65535,m+=(v+=c*f)>>>16,g+=(m+=o*d)>>>16,m&=65535,g+=(m+=a*f)>>>16,m&=65535,g+=(m+=c*l)>>>16,g+=n*d+o*f+a*l+c*u,i((v&=65535)<<16|(y&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)))},E.mul=E.multiply,E.divide=function(e){var n,i,o,a,c,l,f;if(t(e)||(e=s(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return v;o=g}else{if(this.eq(C))return e.eq(m)||e.eq(y)?C:e.eq(C)?m:(n=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:y:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(C))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=p}for(i=this;i.gte(e);){for(n=Math.max(1,Math.floor(i.toNumber()/e.toNumber())),c=(a=Math.ceil(Math.log(n)/Math.LN2))<=48?1:u(2,a-48),f=(l=r(n)).mul(e);f.isNegative()||f.gt(i);)f=(l=r(n-=c,this.unsigned)).mul(e);l.isZero()&&(l=m),o=o.add(l),i=i.sub(f)}return o},E.div=E.divide,E.modulo=function(e){return t(e)||(e=s(e)),this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.not=function(){return i(~this.low,~this.high,this.unsigned)},E.and=function(e){return t(e)||(e=s(e)),i(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return t(e)||(e=s(e)),i(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return t(e)||(e=s(e)),i(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):i(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?i(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):i(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){var n;return t(e)&&(e=e.toInt()),0==(e&=63)?this:(n=this.high,e<32?i(this.low>>>e|n<<32-e,n>>>e,this.unsigned):i(32===e?n:n>>>e-32,0,this.unsigned))},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,255&t>>>8,255&t>>>16,255&t>>>24,255&e,255&e>>>8,255&e>>>16,255&e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[255&e>>>24,255&e>>>16,255&e>>>8,255&e,255&t>>>24,255&t>>>16,255&t>>>8,255&t]},e}()),On));Ln.getModule=function(e){var t=new Ln[e];return t.getArrayData=function(){var e=t.toArrayBuffer();return $(e)?[].slice.call(new Int8Array(e)):e},t};var Pn,Un="pgMsgP",kn="chatMsg",Dn="pcMsgP",jn={PRIVATE:"ppMsgS",GROUP:"pgMsgS",CHATROOM:"chatMsgS"},Bn="delMsg",Vn="joinChrm",Fn="joinChrmR",Hn="exitChrm",$n="setKV",qn="delKV",Gn="qryRelationR",zn="delRelation",Kn="setSeAtt",Yn={PRIVATE:"cleanPMsg",GROUP:"cleanGMsg",CUSTOMER_SERVICE:"cleanCMsg",SYSTEM:"cleanSMsg"},Wn="qryPMsg",Jn="qryGMsg",Qn="qryCHMsg",Xn="qryCMsg",Zn="qrySMsg",er=((xn={})["ppMsgP"]=U.PRIVATE,xn[Un]=U.GROUP,xn[kn]=U.CHATROOM,xn[Dn]=U.CUSTOMER_SERVICE,xn),tr=((Nn={})[U.PRIVATE]=Wn,Nn[U.GROUP]=Jn,Nn[U.CHATROOM]=Qn,Nn[U.CUSTOMER_SERVICE]=Xn,Nn[U.SYSTEM]=Zn,Nn),nr=((Mn={})[U.PRIVATE]=Yn.PRIVATE,Mn[U.GROUP]=Yn.GROUP,Mn[U.CUSTOMER_SERVICE]=Yn.CUSTOMER_SERVICE,Mn[U.SYSTEM]=Yn.SYSTEM,Mn),rr="1",ir="0",or=1,sr=2,ar=3,cr=function(){function e(e){this._codec="websocket"===e?Ln:wn,this._connectType=e}return e.prototype.decodeByPBName=function(e,t,n){var r,i=this,o=e,s=((r={})[st]=i._formatSyncMessages,r[ot]=i._formatReceivedMessage,r[rt]=i._formatSentMessage,r[ht]=i._formatHistoryMessages,r[gt]=i._formatConversationList,r[It]=i._formatChatRoomInfos,r[Ot]=i._formatRTCUserList,r[kt]=i._formatRTCData,r[Jt]=i._formatChatRoomKVList,r[tn]=i._formatUserSetting,r[on]=i._formatConversationStatus,r[dn]=i._formatGrpReadReceiptQryResp,r[Zt]=i._formatSetUserSettingOutput,r[nn]=i._formatUserSettingNotification,r[En]=i._formatRTCRoomKVList,r[Ut]=i._formatRTCAuidenceJoinRoomData,r)[t];try{o=e.length>0&&i._codec[t].decode(e),G(o)&&(o=function(e){for(var t in e)G(e[t])&&(e[t]=ke(e[t]));return e}(o)),z(s)&&(o=s.call(this,o,n))}catch(n){ne.error("PB parse error\n",n,e,t)}return o},e.prototype._readBytes=function(e){var t=e.offset,n=e.buffer,r=e.limit;if(t)try{var i=$(n)?new Uint8Array(n):n;return et.readUTF(i.subarray(t,r))}catch(e){ne.info("readBytes error\n",e)}return e},e.prototype._formatBytes=function(e){var t=this._readBytes(e);try{t=JSON.parse(t)}catch(e){ne.info("formatBytes error\n",e)}return t||e},e.prototype._formatSyncMessages=function(e,t){t=t||{};var n=this,r=e.list,i=e.syncTime,o=e.finished;return(K(o)||null===o)&&(e.finished=!0),e.syncTime=ke(i),e.list=$e(r,(function(e){return n._formatReceivedMessage(e,t)})),e},e.prototype._formatReceivedMessage=function(e,t){var n=(t=t||{}).currentUserId,r=t.connectedTime,i=e.content,o=e.fromUserId,a=e.type,c=e.groupId,u=e.status,l=e.dataTime,f=e.classname,d=e.msgId,h=e.extraContent,p=e.pushContent,g=e.pushExt,m=e.configFlag,v=(e.direction||oe.RECEIVE)===oe.SEND,_=function(e){var t=s.READ;return{isPersited:!!(16&e),isCounted:!!(32&e),isMentioned:!!(64&e),disableNotification:!!(512&e),receivedStatus:t=2&e?s.RETRIEVED:t,canIncludeExpansion:!!(1024&e)}}(u),b=_.isPersited,C=_.isCounted,E=_.isMentioned,S=_.disableNotification,w=_.receivedStatus,T=_.canIncludeExpansion,I=[U.GROUP,U.CHATROOM,U.RTC_ROOM].indexOf(a)>-1?c:o,R=v?n:o,O=ke(l),x=O<r,N=a===U.CHATROOM,M=this._formatBytes(i),A={};g&&(A=Be(g.pushConfigs,g.pushId));var L,P=y(y({},A),{pushTitle:null==g?void 0:g.title,pushContent:p,pushData:p,disablePushTitle:!!m&&Boolean(4&m),forceShowDetailContent:!!m&&Boolean(8&m),templateId:null==g?void 0:g.templateId}),k=v?oe.SEND:oe.RECEIVE;return N&&o===n&&(k=oe.SEND),h&&(L={},L=Je(h)),{conversationType:a,targetId:I,senderUserId:R,messageType:f,messageUId:d,isPersited:b,isCounted:C,isMentioned:E,sentTime:O,isOffLineMessage:x,messageDirection:k,receivedTime:Qe.getTime(),disableNotification:S,receivedStatus:w,canIncludeExpansion:T,content:M,expansion:L,configFlag:m,pushConfig:P}},e.prototype._formatSentMessage=function(e,t){var n,r=e.content,i=e.classname,o=e.sessionId,s=e.msgId,a=e.extraContent,c=e.pushExt,u=e.pushContent,l=e.configFlag,f=t.signal,d=t.currentUserId,h=f.date,p=f.topic,g=f.targetId,m=function(e){return{isPersited:!!(1&e),isCounted:!!(2&e),disableNotification:!!(32&e),canIncludeExpansion:!!(64&e)}}(o),v=m.isPersited,_=m.isCounted,b=m.disableNotification,C=m.canIncludeExpansion,E=er[p]||U.PRIVATE,S=Ge(jn,p),w=this._formatBytes(r),T=g;i===de.RECALL&&(E=w.conversationType||E,T=w.targetId||g),a&&(n={},n=Je(a));var I={};c&&(I=Be(c.pushConfigs,c.pushId));var R=y(y({},I),{pushTitle:null==c?void 0:c.title,pushContent:u,pushData:u,disablePushTitle:!!l&&Boolean(4&l),forceShowDetailContent:!!l&&Boolean(8&l),templateId:null==c?void 0:c.templateId});return{conversationType:E,targetId:T,messageType:i,messageUId:s,isPersited:v,isCounted:_,isStatusMessage:S,senderUserId:d,content:this._formatBytes(r),sentTime:1e3*h,receivedTime:Qe.getTime(),messageDirection:oe.SEND,isOffLineMessage:!1,disableNotification:b,canIncludeExpansion:C,expansion:n,pushConfig:R}},e.prototype._formatHistoryMessages=function(e,t){var n=this,r=t.conversation||{},i=e.list,o=e.hasMsg,s=r.targetId,a=ke(e.syncTime),c=[];return He(i,(function(e){var r=n._formatReceivedMessage(e,t);r.targetId=s,c.push(r)}),{isReverse:!0}),{syncTime:a,list:c,hasMore:!!o}},e.prototype._formatConversationList=function(e,t){var n=this,r=e.info,i=t.afterDecode||function(){};return(r=$e(r,(function(e){var r=e.msg,o=e.userId,s=e.type,a=e.unreadCount,c=e.channelId,u=n._formatReceivedMessage(r,t);u.targetId=o;var l={targetId:o,conversationType:s,unreadMessageCount:a,latestMessage:u,channelId:c||""};return i(l)||l})))||[]},e.prototype._formatSetUserSettingOutput=function(e){return e},e.prototype._formatChatRoomInfos=function(e){var t=e.userTotalNums,n=e.userInfos;return{userCount:t,userInfos:$e(n,(function(e){var t=e.id,n=e.time;return{id:t,time:ke(n)}}))}},e.prototype._formatChatRoomKVList=function(e){var t=e.entries,n=e.bFullUpdate,r=e.syncTime;return{kvEntries:t=$e(t=t||[],(function(e){var t=e.key,n=e.value,r=e.status,i=e.timestamp,o=e.uid,s=function(e){return{isAutoDelete:!!(1&e),isOverwrite:!!(2&e),type:4&e?Ee.DELETE:Ee.UPDATE}}(r);return{key:t,value:n,isAutoDelete:s.isAutoDelete,isOverwrite:s.isOverwrite,type:s.type,userId:o,timestamp:ke(i)}})),isFullUpdate:n,syncTime:r}},e.prototype._formatUserSetting=function(e){var t=this,n=e.items,r=e.version,i={};return He(n||[],(function(e){var n=e.key,r=e.version,o=e.value;e.version=ke(r),e.value=t._readBytes(o),"Tag"===n&&e.tags.forEach((function(e){e.createdTime=ke(e.createdTime),e.tagName=e.name})),i[n]=e})),{settings:i,version:r}},e.prototype._formatConversationStatus=function(e){var t=e.state,n=[];return He(t,(function(e){var t=e.type,r=e.channelId,i=e.time,o=e.stateItem,s=pe.CLOSE,a=!1,c=[];He(o,(function(e){var t=e.sessionStateType,n=e.value,r=e.tags;switch(t){case or:s=n===rr?pe.OPEN:pe.CLOSE;break;case sr:a=n===rr;break;case ar:c=r}})),n.push({type:t,targetId:r,notificationStatus:s,isTop:a,updatedTime:ke(i),tags:c})})),n},e.prototype._formatRTCUserList=function(e){var t=e.users,n=e.token,r=e.sessionId,i=e.roomInfo,o={};return He(t,(function(e){var t=e.userId,n=e.userData,r={};He(n,(function(e){var t=e.key,n=e.value;r[t]=n})),o[t]=r})),{users:o,token:n,sessionId:r,roomInfo:i}},e.prototype._formatRTCData=function(e){var t=e.outInfo,n={};return He(t,(function(e){n[e.key]=e.value})),n},e.prototype._formatRTCRoomInfo=function(e){var t=e.roomId,n=e.userCount,r=e.roomData,i={id:t,total:n};return He(r,(function(e){i[e.key]=e.value})),i},e.prototype._formatGrpReadReceiptQryResp=function(e){var t=e.totalMemberNum,n=e.list;return n.forEach((function(e){e.readTime=ke(e.readTime)})),{totalMemberCount:t,list:n}},e.prototype._formatUserSettingNotification=function(e){return e},e.prototype._formatRTCRoomKVList=function(e){var t=e.entries,n=e.bFullUpdate,r=e.syncTime;return{kvEntries:t=(t=t||[]).map((function(e){var t=e.timestamp;return Object.assign(e,{timestamp:ke(t)})})),isFullUpdate:n,syncTime:r}},e.prototype._formatRTCAuidenceJoinRoomData=function(e){return e},e.prototype.encodeServerConfParams=function(){var e=this._codec.getModule(at);return e.setNothing(1),e.getArrayData()},e.prototype._getUpMsgModule=function(e,t){var n="comet"===this._connectType,r=e.type,i=t.messageType,o=t.isMentioned,s=t.mentionedType,a=t.mentionedUserIdList,c=t.content,u=t.pushContent,l=t.pushData,f=t.directionalUserIdList,d=t.isFilerWhiteBlacklist,h=t.isVoipPush,p=t.canIncludeExpansion,g=t.expansion,m=t.pushConfig,v=r===U.GROUP,y=this._codec.getModule(rt),_=function(e){var t=e.isStatusMessage,n=e.isPersited,r=e.isCounted;t&&(n=r=!1);var i=0;return n&&(i|=1),r&&(i|=2),e.isMentioned&&(i|=4),e.disableNotification&&(i|=32),e.canIncludeExpansion&&(i|=64),i}(t),b=m||{},C=b.pushTitle,E=b.pushContent,S=b.pushData,w=b.iOSConfig,T=b.androidConfig,I=b.templateId,R=b.disablePushTitle,O=b.forceShowDetailContent,x=0;y.setSessionId(_),v&&o&&c&&(c.mentionedInfo={userIdList:a,type:s||me.ALL});var N=E||u||"",M=S||l||"";if(N&&y.setPushText(N),M&&y.setAppData(M),f&&y.setUserId(f),x|=h?1:0,x|=d?2:0,x|=R?4:0,x|=O?8:0,y.setConfigFlag(x),y.setClassname(i),y.setContent(JSON.stringify(c)),p&&g){var A={};He(g,(function(e,t){A[t]={v:e}})),y.setExtraContent(JSON.stringify(A))}if(m){var L=this._codec.getModule(it);if(C&&L.setTitle(C),w&&T){var P=je(w,T);L.setPushConfigs(P)}(null==T?void 0:T.notificationId)&&L.setPushId(null==T?void 0:T.notificationId),L.setTemplateId(I||""),y.setPushExt(n?L.getArrayData():L)}return y},e.prototype.encodeUpMsg=function(e,t){return this._getUpMsgModule(e,t).getArrayData()},e.prototype.encodeSyncMsg=function(e){var t=e.sendboxTime,n=e.inboxTime,r=this._codec.getModule(ut);return r.setIspolling(!1),r.setIsPullSend(!0),r.setSendBoxSyncTime(t),r.setSyncTime(n),r.getArrayData()},e.prototype.encodeChrmSyncMsg=function(e,t){e=e||0,t=t||0;var n=this._codec.getModule(lt);return n.setCount(t),n.setSyncTime(e),n.getArrayData()},e.prototype.encodeGetHistoryMsg=function(e,t){var n=t.count,r=t.order,i=t.timestamp,o=this._codec.getModule(dt);return o.setTargetId(e),o.setTime(i),o.setCount(n),o.setOrder(r),o.getArrayData()},e.prototype.encodeGetConversationList=function(e){var t=(e=e||{}).count,n=e.startTime,r=this._codec.getModule(pt);return r.setType(1),r.setCount(t),r.setStartTime(n),r.getArrayData()},e.prototype.encodeOldConversationList=function(e){var t=(e=e||{}).count,n=e.type,r=e.startTime,i=e.order;t=t||0,r=r||0,i=i||0;var o=this._codec.getModule(pt);return o.setType(n),o.setCount(t),o.setStartTime(r),o.setOrder(i),o.getArrayData()},e.prototype.encodeRemoveConversationList=function(e){var t=this,n=this._codec.getModule(mt),r=[];return He(e,(function(e){var n=e.type,i=e.targetId,o=t._codec.getModule(vt);o.setType(n),o.setChannelId(i),r.push(o)})),n.setSessions(r),n.getArrayData()},e.prototype.encodeDeleteMessages=function(e,t,n){var r=this._codec.getModule(bt),i=[];return He(n,(function(e){i.push({msgId:e.messageUId,msgDataTime:e.sentTime,direct:e.messageDirection})})),r.setType(e),r.setConversationId(t),r.setMsgs(i),r.getArrayData()},e.prototype.encodeClearMessages=function(e,t){var n=this._codec.getModule(Ct);return t=t||(new Date).getTime(),n.setDataTime(t),n.setTargetId(e),n.getArrayData()},e.prototype.encodeClearUnreadCount=function(e,t){var n=e.type,r=e.targetId,i=t.timestamp,o=this._codec.getModule(Et);return i=i||+new Date,o.setType(n),o.setChannelId(r),o.setMsgTime(i),o.getArrayData()},e.prototype.encodeJoinOrQuitChatRoom=function(){var e=this._codec.getModule(St);return e.setNothing(1),e.getArrayData()},e.prototype.encodeGetChatRoomInfo=function(e,t){var n=this._codec.getModule(Tt);return n.setCount(e),n.setOrder(t),n.getArrayData()},e.prototype.encodeGetFileToken=function(e,t,n,r){var i=this._codec.getModule($t);return i.setType(e),i.setKey(t),i.setHttpMethod(n),i.setQueryString(r),i.getArrayData()},e.prototype.encodeGetFileUrl=function(e,t,n,r){var i=this._codec.getModule(e);return i.setType(t),i.setKey(n),r&&i.setFileName(r),i.getArrayData()},e.prototype.encodeModifyChatRoomKV=function(e,t,n){var r="comet"===this._connectType,i=this._codec.getModule(Wt),o=t.key,s=t.value,a=t.notificationExtra,c=t.isSendNotification,u=t.type||Ee.UPDATE,l=function(e,t){var n=0;return e.isAutoDelete&&(n|=1),e.isOverwrite&&(n|=2),2===t&&(n|=4),n}(t,u),f={key:o,value:s||"",uid:n};if(K(l)||(f.status=l),i.setEntry(f),c){var d={type:U.CHATROOM,targetId:e},h={key:o,value:s,extra:a,type:u},p=this._getUpMsgModule(d,{messageType:de.CHRM_KV_NOTIFY,content:h,isPersited:!1,isCounted:!1});r?i.setNotification(p.getArrayData()):i.setNotification(p),i.setBNotify(!0),i.setType(U.CHATROOM)}return i.getArrayData()},e.prototype.encodePullChatRoomKV=function(e){var t=this._codec.getModule(Qt);return t.setTimestamp(e),t.getArrayData()},e.prototype.encodePullUserSetting=function(e){var t=this._codec.getModule(en);return t.setVersion(e),t.getArrayData()},e.prototype.encodeGetConversationStatus=function(e){var t=this._codec.getModule(rn);return t.setTime(e),t.getArrayData()},e.prototype.encodeSetConversationStatus=function(e){var t=this,n="comet"===this._connectType,r=this._codec.getModule(cn),i=Qe.getTime(),o=[];return He(e,(function(e){var r=t._codec.getModule(sn),s=e.conversationType,a=e.targetId,c=e.notificationStatus,u=e.isTop,l=[];r.setType(s),r.setChannelId(a),r.setTime(i);var f=c===pe.OPEN,d={};K(c)||(d[or]=f),K(u)||(d[sr]=u),He(d,(function(e,r){if(!K(e)){var i=t._codec.getModule(an);e=e?rr:ir,i.setSessionStateType(Number(r)),i.setValue(e);var o=n?i.getArrayData():i;l.push(o)}})),r.setStateItem(l);var h=n?r.getArrayData():r;o.push(h)})),r.setVersion(i),r.setState(o),r.getArrayData()},e.prototype.encodeReadReceipt=function(e,t){var n=this._codec.getModule(ln);return n.setMsgId(e),t&&n.setChannelId(t),n.getArrayData()},e.prototype.encodeCreateTag=function(e,t){var n=this,r="comet"===this._connectType,i=this._codec.getModule(pn),o=[];return e.forEach((function(e){var t=n._codec.getModule(gn);t.setTagId(e.tagId),t.setName(e.tagName),o.push(r?t.getArrayData():t)})),i.setTags(o),i.setVersion(t),i.getArrayData()},e.prototype.encodeMessageReader=function(e,t){var n=this._codec.getModule(ln);return n.setMsgId(e),t&&n.setChannelId(t),n.getArrayData()},e.prototype.encodeRemoveTag=function(e,t){var n=this,r="comet"===this._connectType,i=this._codec.getModule(mn),o=[];return e.forEach((function(e){var t=n._codec.getModule(gn);t.setTagId(e),o.push(r?t.getArrayData():t)})),i.setTags(o),i.setVersion(t),i.getArrayData()},e.prototype.encodeDisConversationTag=function(e){var t=this._codec.getModule(vn);return t.setTagId(e),t.getArrayData()},e.prototype.encodeUpdateConversationTag=function(e,t){var n=this,r="comet"===this._connectType,i=this._codec.getModule(cn),o=[];return t.forEach((function(t){var i=n._codec.getModule(sn),s=n._codec.getModule(an),a=[];e.forEach((function(e){var t=n._codec.getModule(gn);t.setTagId(e.tagId),K(e.isTop)||t.setIsTop(e.isTop),a.push(r?t.getArrayData():t)})),s.setSessionStateType(ar),s.setValue(JSON.stringify(a)),s.setTags(a),i.setType(t.type),i.setChannelId(t.targetId),i.setTime(Date.now()),i.setStateItem([r?s.getArrayData():s]),o.push(r?i.getArrayData():i)})),i.setState(o),i.setVersion(Qe.getTime()),i.getArrayData()},e.prototype.encodeReportSDKInfo=function(e){var t=this._codec.getModule(yn);return t.setSdkInfo(e),t.getArrayData()},e.prototype.encodeJoinRTCRoom=function(e,t){var n=this._codec.getModule(Rt);return e=e||0,n.setRoomType(e),K(t)||n.setBroadcastType(t),n.getArrayData()},e.prototype.encodeQuitRTCRoom=function(){return this._codec.getModule(xt).getArrayData()},e.prototype.encodeSetRTCData=function(e,t,n,r,i){var o=this._codec.getModule(Nt);if(o.setInterior(n),o.setTarget(r),o.setKey(e),o.setValue(t),i){i.name&&o.setObjectName(i.name);var s=i.content;s&&(G(s)&&(s=JSON.stringify(s)),o.setContent(s))}return o.getArrayData()},e.prototype.encodeUserSetRTCData=function(e,t,n,r){var i=this,o="comet"===this._connectType,s=this._codec.getModule(Mt);s.setObjectName(n);var a=this._codec.getModule(Ft);a.setKey(e.name),a.setValue(e.content),o?s.setContent([a.getArrayData()]):s.setContent(a);var c=[];return["uris","mcu_uris"].forEach((function(e){var n=i._codec.getModule(Ft);n.setKey(e);var s="uris"===e?t:r;n.setValue(s),o?c.push(n.getArrayData()):c.push(n)})),s.setValueInfo(c),s.getArrayData()},e.prototype.encodeUserSetRTCCDNUris=function(e,t){this._connectType;var n=this._codec.getModule(Mt);n.setObjectName(e);var r=this._codec.getModule(Ft);return r.setKey("cdn_uris"),r.setValue(t),n.setValueInfo(r),n.getArrayData()},e.prototype.encodeGetRTCData=function(e,t,n){var r=this._codec.getModule(At);return r.setInterior(t),r.setTarget(n),r.setKey(e),r.getArrayData()},e.prototype.encodeRemoveRTCData=function(e,t,n,r){var i=this._codec.getModule(At);i.setInterior(t),i.setTarget(n),i.setKey(e);var o=(r=r||{}).name,s=r.content;return!K(o)&&i.setObjectName(o),K(s)||(G(s)&&(s=JSON.stringify(s)),i.setContent(s)),i.getArrayData()},e.prototype.encodeSetRTCOutData=function(e,t,n){var r=this._codec.getModule(Lt);r.setTarget(t),H(e)||(e=[e]),He(e,(function(t,n){t.key=t.key?t.key.toString():t.key,t.value=t.value?t.value.toString():t.value,e[n]=t})),r.setValueInfo(e);var i=(n=n||{}).name,o=n.content;return!K(i)&&r.setObjectName(i),K(o)||(G(o)&&(o=JSON.stringify(o)),r.setContent(o)),r.getArrayData()},e.prototype.ecnodeGetRTCOutData=function(e){var t=this._codec.getModule(Dt);return t.setUserId(e),t.getArrayData()},e.prototype.encodeSetRTCState=function(e){var t=this._codec.getModule(Pt);return t.setState(e),t.getArrayData()},e.prototype.encodeGetRTCRoomInfo=function(){var e=this._codec.getModule(Bt);return e.setOrder(2),e.getArrayData()},e.prototype.encodeSetRTCUserInfo=function(e,t){var n=this._codec.getModule(Ft);return n.setKey(e),n.setValue(t),n.getArrayData()},e.prototype.encodeRemoveRTCUserInfo=function(e){var t=this._codec.getModule(Ht);return t.setKey(e),t.getArrayData()},e.prototype.encodeIdentityChangeInfo=function(e,t,n){void 0===n&&(n=!1);var r=this._codec.getModule(Rt);return r.setRoomType(_e.LIVE),t&&r.setBroadcastType(t),r.setIdentityChangeType(e),r.setNeedSysChatroom(n),r.getArrayData()},e.prototype.encodePullRTCRoomKV=function(e,t){var n=this._codec.getModule(Cn);return n.setTimestamp(t),n.setRoomId(e),n.getArrayData()},e}(),ur=function(e,t){this._watcher=t,this.codec=new cr(e)},lr=function(e,t){return e&&t?t+"_"+e:e||Date.now()},fr=function(){function e(e){this.header=e,this._name=null,this.lengthSize=0,this.messageId=0,this.timestamp=0,this.syncMsg=!1,this.identifier=""}return e.prototype.getIdentifier=function(){var e=this.messageId,t=this.identifier;return lr(e,t)},e.prototype.read=function(e,t){this.readMessage(e,t)},e.prototype.readMessage=function(e,t){return{stream:e,length:t}},e}(),dr=function(){function e(e){this.lengthSize=0,this.messageId=0,this.topic="",this.targetId="",this.identifier="",this._header=new Ze(e,!1,Oe.AT_MOST_ONCE,!1)}return e.prototype.getIdentifier=function(){var e=this.messageId,t=this.identifier;return lr(e,t)},e.prototype.write=function(e){var t=this.getHeaderFlag();e.write(t),this.writeMessage(e)},e.prototype.setHeaderQos=function(e){this._header.qos=e},e.prototype.getHeaderFlag=function(){return this._header.encode()},e.prototype.getLengthSize=function(){return this.lengthSize},e.prototype.getBufferData=function(){var e=new nt;this.write(e);var t=e.getBytesArray();return new Int8Array(t)},e.prototype.getCometData=function(){var e=this.data||{};return JSON.stringify(e)},e}(),hr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=Ne.CONN_ACK,t.status=null,t.userId=null,t.timestamp=0,t}return v(t,e),t.prototype.readMessage=function(e,n){if(e.readByte(),this.status=+e.readByte(),n>t.MESSAGE_LENGTH){this.userId=e.readUTF();var r=e.readUTF();ne.debug("server sessionId -> "+r),this.timestamp=e.readLong()}return{stream:e,length:n}},t.MESSAGE_LENGTH=2,t}(fr),pr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=Ne.DISCONNECT,t.status=0,t}return v(t,e),t.prototype.readMessage=function(e,t){return e.readByte(),this.status=+e.readByte(),{stream:e,length:t}},t.MESSAGE_LENGTH=2,t}(fr),gr=function(e){function t(){var t=e.call(this,xe.PING_REQ)||this;return t._name=Ne.PING_REQ,t}return v(t,e),t.prototype.writeMessage=function(e){},t}(dr),mr=function(e){function t(t){var n=e.call(this,t)||this;return n._name=Ne.PING_RESP,n}return v(t,e),t}(fr),vr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageId=0,t}return v(t,e),t.prototype.readMessage=function(e,t){var n=256*e.readByte()+e.readByte();return this.messageId=parseInt(n.toString(),10),{stream:e,length:t}},t}(fr),yr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageId=0,t}return v(t,e),t.prototype.writeMessage=function(e){var t=this.messageId,n=255&t,r=(65280&t)>>8;e.write(r),e.write(n)},t}(dr),_r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=Ne.PUBLISH,t.topic="",t.targetId="",t.syncMsg=!1,t.identifier=Me.PUB,t}return v(t,e),t.prototype.readMessage=function(t,n){return this.date=t.readInt(),this.topic=t.readUTF(),this.targetId=t.readUTF(),e.prototype.readMessage.call(this,t,n),this.data=t.readAll(),{stream:t,length:n}},t}(vr),br=function(e){function t(t,n,r){var i=e.call(this,xe.PUBLISH)||this;return i._name=Ne.PUBLISH,i.syncMsg=!1,i.identifier=Me.PUB,i.topic=t,i.data=B(n)?et.writeUTF(n):n,i.targetId=r,i}return v(t,e),t.prototype.writeMessage=function(t){t.writeUTF(this.topic),t.writeUTF(this.targetId),e.prototype.writeMessage.call(this,t),t.write(this.data)},t}(yr),Cr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=Ne.PUB_ACK,t.status=0,t.date=0,t.millisecond=0,t.messageUId="",t.timestamp=0,t.identifier=Me.PUB,t.topic="",t.targetId="",t}return v(t,e),t.prototype.readMessage=function(t,n){return e.prototype.readMessage.call(this,t,n),this.date=t.readInt(),this.status=256*t.readByte()+t.readByte(),this.millisecond=256*t.readByte()+t.readByte(),this.timestamp=1e3*this.date+this.millisecond,this.messageUId=t.readUTF(),{stream:t,length:n}},t}(vr),Er=function(e){function t(t){var n=e.call(this,xe.PUB_ACK)||this;return n._name=Ne.PUB_ACK,n.status=0,n.date=0,n.millisecond=0,n.messageUId="",n.timestamp=0,n.messageId=t,n}return v(t,e),t.prototype.writeMessage=function(t){e.prototype.writeMessage.call(this,t)},t}(yr),Sr=function(e){function t(t,n,r){var i=e.call(this,xe.QUERY)||this;return i.name=Ne.QUERY,i.identifier=Me.QUERY,i.topic=t,i.data=B(n)?et.writeUTF(n):n,i.targetId=r,i}return v(t,e),t.prototype.writeMessage=function(t){t.writeUTF(this.topic),t.writeUTF(this.targetId),e.prototype.writeMessage.call(this,t),t.write(this.data)},t}(yr),wr=function(e){function t(t){var n=e.call(this,xe.QUERY_CONFIRM)||this;return n._name=Ne.QUERY_CON,n.messageId=t,n}return v(t,e),t}(yr),Tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name=Ne.QUERY_ACK,t.status=0,t.identifier=Me.QUERY,t.topic="",t.targetId="",t}return v(t,e),t.prototype.readMessage=function(t,n){return e.prototype.readMessage.call(this,t,n),this.date=t.readInt(),this.status=256*t.readByte()+t.readByte(),this.data=t.readAll(),{stream:t,length:n}},t}(vr),Ir=function(e){var t,n=e.type;switch(n){case xe.CONN_ACK:t=new hr(e);break;case xe.PUBLISH:(t=new _r(e)).syncMsg=e.syncMsg;break;case xe.PUB_ACK:t=new Cr(e);break;case xe.QUERY_ACK:t=new Tr(e);break;case xe.SUB_ACK:case xe.UNSUB_ACK:case xe.PING_RESP:t=new mr(e);break;case xe.DISCONNECT:t=new pr(e);break;default:t=new fr(e),ne.error("No support for deserializing "+n+" messages")}return t};!function(e){e[e.ppMsgP=1]="ppMsgP",e[e.ppMsgN=2]="ppMsgN",e[e.ppMsgS=3]="ppMsgS",e[e.pgMsgP=4]="pgMsgP",e[e.chatMsg=5]="chatMsg",e[e.pcMsgP=6]="pcMsgP",e[e.qryPMsg=7]="qryPMsg",e[e.qryGMsg=8]="qryGMsg",e[e.qryCHMsg=9]="qryCHMsg",e[e.qryCMsg=10]="qryCMsg",e[e.qrySMsg=11]="qrySMsg",e[e.recallMsg=12]="recallMsg",e[e.prMsgS=13]="prMsgS",e[e.rrMsg=14]="rrMsg",e[e.rrList=15]="rrList",e[e.s_ntf=16]="s_ntf",e[e.s_msg=17]="s_msg",e[e.s_stat=18]="s_stat",e[e.s_cmd=19]="s_cmd",e[e.s_us=20]="s_us",e[e.pullUS=21]="pullUS",e[e.pgMsgS=22]="pgMsgS",e[e.chatMsgS=23]="chatMsgS",e[e.qrySessionsAtt=24]="qrySessionsAtt",e[e.pullMsg=25]="pullMsg",e[e.qrySessions=26]="qrySessions",e[e.delSessions=27]="delSessions",e[e.delMsg=28]="delMsg",e[e.updRRTime=29]="updRRTime",e[e.chrmPull=30]="chrmPull",e[e.joinChrm=31]="joinChrm",e[e.joinChrmR=32]="joinChrmR",e[e.exitChrm=33]="exitChrm",e[e.queryChrmI=34]="queryChrmI",e[e.setKV=35]="setKV",e[e.delKV=36]="delKV",e[e.pullKV=37]="pullKV",e[e.qryRelation=38]="qryRelation",e[e.delRelation=39]="delRelation",e[e.pullSeAtts=40]="pullSeAtts",e[e.setSeAtt=41]="setSeAtt",e[e.qnTkn=42]="qnTkn",e[e.qnUrl=43]="qnUrl",e[e.aliUrl=44]="aliUrl",e[e.s3Url=45]="s3Url",e[e.stcUrl=46]="stcUrl",e[e.cleanPMsg=47]="cleanPMsg",e[e.cleanGMsg=48]="cleanGMsg",e[e.cleanCMsg=49]="cleanCMsg",e[e.cleanSMsg=50]="cleanSMsg",e[e.rtcRJoin_data=51]="rtcRJoin_data",e[e.rtcRExit=52]="rtcRExit",e[e.rtcPing=53]="rtcPing",e[e.rtcSetData=54]="rtcSetData",e[e.rtc_ntf=55]="rtc_ntf",e[e.viewerJoinR=56]="viewerJoinR",e[e.viewerExitR=57]="viewerExitR",e[e.rtcPullKv=58]="rtcPullKv",e[e.rtcIdentityChange=59]="rtcIdentityChange",e[e.userSetData=60]="userSetData",e[e.rtcQryData=61]="rtcQryData",e[e.rtcDelData=62]="rtcDelData",e[e.rtcSetOutData=63]="rtcSetOutData",e[e.rtcQryUserOutData=64]="rtcQryUserOutData",e[e.rtcToken=65]="rtcToken",e[e.rtcUserState=66]="rtcUserState",e[e.rtcRInfo=67]="rtcRInfo",e[e.rtcUData=68]="rtcUData",e[e.rtcUPut=69]="rtcUPut",e[e.rtcUDel=70]="rtcUDel",e[e.rtcUList=71]="rtcUList",e[e.addSeTag=72]="addSeTag",e[e.delSeTag=73]="delSeTag",e[e.addTag=74]="addTag",e[e.delTag=75]="delTag",e[e.disTag=76]="disTag",e[e.reportsdk=77]="reportsdk"}(Pn||(Pn={}));var Rr,Or=Pn,xr=function(e,t,n){return _(void 0,void 0,void 0,(function(){var r;return b(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(e){return _(void 0,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return r=Date.now(),i=t+"://"+e+"/ping?r="+(a=9999,(s=1e3)+Math.floor(Math.random()*(a-s))),[4,n.httpReq({url:i,timeout:5e3})];case 1:return[2,{status:o.sent().status,host:e,cost:Date.now()-r}]}var s,a}))}))})))];case 1:return(r=(r=i.sent()).filter((function(e){return 200===e.status}))).length>1&&(r=r.sort((function(e,t){return e.cost-t.cost}))),[2,r.map((function(e){return e.host}))]}}))}))},Nr=function(e,t,n,r,i,o,s){return e+"://"+t+"/websocket?appId="+n+"&token="+encodeURIComponent(r)+"&sdkVer="+o+"&pid="+s+"&apiVer="+(i.isFromUniapp?"uniapp":"normal")+(i.connectPlatform?"&platform="+i.connectPlatform:"")},Mr=function(e){return[Or.ppMsgS,Or.pgMsgS,Or.chatMsgS].map((function(e){return Or[e]})).indexOf(e)>=0};!function(e){e[e.REDIRECT=0]="REDIRECT",e[e.OTHER_DEVICE_LOGIN=1]="OTHER_DEVICE_LOGIN",e[e.BLOCK=2]="BLOCK",e[e.REMOTE_CLOSE=3]="REMOTE_CLOSE",e[e.LOGOUT=4]="LOGOUT",e[e.BLOCK_NEW=5]="BLOCK_NEW",e[e.REDIRECT_NEW=6]="REDIRECT_NEW"}(Rr||(Rr={}));var Ar,Lr=function(e,t){ne.debug("websocket send -> messageId: "+e.messageId);var n=e.getBufferData();t.send(n.buffer)},Pr=function(e){function t(t,n){var r=e.call(this,"websocket",n)||this;return r._runtime=t,r._socket=null,r._messageIds={},r._syncMessageIds={},r._failedCount=0,r.ALLOW_FAILED_TIMES=2,r._timer=null,r._idCount=0,r._generateMessageId=function(){return r._idCount>=65535&&(r._idCount=0),++r._idCount},r}return v(t,e),t.prototype.connect=function(e,t,n,r,i){return _(this,void 0,void 0,(function(){var o,s,a,c,u,l,f,d,h=this;return b(this,(function(p){switch(p.label){case 0:return i=R(i),this._watcher.status(ue.CONNECTING),ne.debug("ping -> protocol: "+r+", hosts: "+JSON.stringify(n)),[4,xr(n,r,this._runtime)];case 1:if(o=p.sent(),ne.debug("valid hosts -> "+o.join(",")),0===o.length)return ne.error("No valid websocket server hosts!"),[2,ae.RC_SOCKET_NOT_CREATED];s=r.replace("http","ws"),c=function(n,r){var c,l,f;return b(this,(function(r){switch(r.label){case 0:return c=Nr(s,o[n],e,t,u._runtime,i),ne.debug("conenct start -> "+c),u.sendConnectTime=Date.now(),l=u._runtime.createWebSocket(c),f=function(e){h._timer&&(clearTimeout(h._timer),h._timer=null),h._socket===l&&(h._socket=null,h._watcher.status(e))},[4,new Promise((function(e){l.onMessage((function(t){if("[object ArrayBuffer]"===Object.prototype.toString.call(t)){var n=function(e){var t=new Uint8Array(e),n=new tt(t),r=n.readByte(),i=new Ze(r),o=Ir(i);return o.read(n,t.length-1),o}(t);if(n instanceof mr&&h._pingResolve)return h._pingResolve(ae.SUCCESS),void(h._pingResolve=void 0);if(n instanceof hr)return ne.debug("recv connect ack -> "+n.status),n.status!==le.ACCEPTED?(ne.warn("connect failed: "+n.status),void e(n.status)):(ne.info("connect success -> "+c),h.connectedTime=n.timestamp,h.userId=n.userId||"",void e(ae.SUCCESS));if(n instanceof pr){var r=n.status;switch(ne.warn("recv disconnect signal -> status: "+r),r){case Rr.BLOCK:h._watcher.status(ue.BLOCKED);break;case Rr.OTHER_DEVICE_LOGIN:h._watcher.status(ue.KICKED_OFFLINE_BY_OTHER_CLIENT);break;case Rr.REDIRECT_NEW:case Rr.REDIRECT:h._watcher.status(ue.REDIRECT);break;default:h._watcher.status(ue.DISCONNECT_BY_SERVER)}}else h._onReceiveSignal(n)}else ne.error("Socket received invalid data:",t)})),l.onClose((function(t,n){ne.warn("websocket closed! code:",t,"reason:",n),f(ue.CONNECTION_CLOSED),e(t)})),l.onError((function(t){var n;ne.error("websocket error!",null===(n=t)||void 0===n?void 0:n.stack),f(ue.WEBSOCKET_ERROR),e(ae.NETWORK_ERROR)})),l.onOpen((function(){return ne.debug("websocket open =>",c)})),setTimeout((function(){e(ae.TIMEOUT)}),5e3)}))];case 1:return(a=r.sent())===le.REDIRECT?[2,{value:a}]:a===ae.SUCCESS?(u._socket=l,u._checkAlive(),[2,{value:a}]):(ne.warn("connect result -> code: "+a+", url: "+c),a=We(a),l.close(),[2])}}))},u=this,l=0,f=o.length,p.label=2;case 2:return l<f?[5,c(l,f)]:[3,5];case 3:if("object"==typeof(d=p.sent()))return[2,d.value];p.label=4;case 4:return l+=1,[3,2];case 5:return[2,void 0!==a?a:ae.RC_NET_UNAVAILABLE]}}))}))},t.prototype._checkAlive=function(){var e;return _(this,void 0,void 0,(function(){var t,n=this;return b(this,(function(r){switch(r.label){case 0:return this._socket?(ne.debug("send ping ->"),this.sendOnly(new gr),[4,new Promise((function(e){n._pingResolve=e,n._timer&&clearTimeout(n._timer),n._timer=setTimeout((function(){n._pingResolve=void 0,e(ae.TIMEOUT)}),15e3)}))]):[2];case 1:return(t=r.sent())!==ae.SUCCESS?(this._failedCount+=1,ne.warn("ping failed count: "+this._failedCount+", code: "+t),this._failedCount>=this.ALLOW_FAILED_TIMES?(this._failedCount=0,ne.warn("ping timeout, close current websocket to reconnect!"),null===(e=this._socket)||void 0===e||e.close()):this._checkAlive(),[2]):(ne.debug("recv pong <-"),this._failedCount=0,setTimeout((function(){return n._checkAlive()}),15e3),[2])}}))}))},t.prototype._onReceiveSignal=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a=this;return b(this,(function(c){switch(c.label){case 0:return t=e.messageId,e.header&&e.header.qos!==Oe.AT_MOST_ONCE&&(e instanceof _r&&!e.syncMsg&&(ne.debug("send pubAck -> "+t),this.sendOnly(new Er(t))),e instanceof Tr&&(ne.debug("send queryCon -> "+t),this.sendOnly(new wr(t)))),t>0&&(ne.debug("recv ack -> messageId: "+t),(n=this._messageIds[t])&&(n(e),delete this._messageIds[t]),(r=this._syncMessageIds[t])&&(delete this._syncMessageIds[t],r(e))),e instanceof _r?(i=e.syncMsg,(o=e.topic)===Or[Or.userSetData]?[2]:!i||Mr(o)?(this._watcher.signal(e),[2]):[4,new Promise((function(e){a._syncMessageIds[t]=e}))]):[3,2];case 1:s=c.sent(),delete this._syncMessageIds[t],this._watcher.signal(e,s),c.label=2;case 2:return[2]}}))}))},t.prototype.sendOnly=function(e){this._socket&&Lr(e,this._socket)},t.prototype.send=function(e,t,n,r){return void 0===r&&(r=3e4),_(this,void 0,void 0,(function(){var i,o,s,a=this;return b(this,(function(c){switch(c.label){case 0:return this._socket?(i=this._generateMessageId(),e.messageId=i,Lr(e,this._socket),[4,new Promise((function(e){a._messageIds[i]=e,setTimeout((function(){a._messageIds[i]&&delete a._messageIds[i],e()}),r)}))]):[3,2];case 1:return(o=c.sent())?0!==o.status?(ne.warn("send failed -> message: "+i+", respPBName: "+t+", status: "+o.status),[2,{code:o.status}]):(s=t?this.codec.decodeByPBName(o.data,t,n):o,[2,{code:ae.SUCCESS,data:s}]):(ne.warn("send timeout -> message: "+i+", respPBName: "+t+", timeout: "+r),[2,{code:ae.TIMEOUT}]);case 2:return[2,{code:ae.RC_NET_CHANNEL_INVALID}]}}))}))},t.prototype.close=function(){this._socket&&(this._socket.close(),this._socket=null,this._watcher.status(ue.DISCONNECTED))},t}(ur);!function(e){e.GET="GET",e.POST="POST"}(Ar||(Ar={}));var Ur=function(e){function t(t,n){var r=e.call(this,"comet",n)||this;return r._runtime=t,r._messageIds={},r._syncMessageIds={},r._idCount=0,r._generateMessageId=function(){return++r._idCount},r._pid=encodeURIComponent((new Date).getTime()+Math.random()+""),r}return v(t,e),t.prototype.handleCometRes=function(e){var t=this;if(200!==e.status&&202!==e.status)return!1;var n=B(e.data)?JSON.parse(e.data):e.data;return n?!H(n)||(He(n,(function(e){return _(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,l,f,d=this;return b(this,(function(h){switch(h.label){case 0:if((t=e.sessionid)&&(this._sessionid=t),n=function(e){var t=e.headerCode,n=new Ze(t),r=Ir(n);for(var i in e)r[i]=e[i];return r}(e),r=n.messageId,i=n._header,o=n.status,n.identifier,s=i&&i.qos!==Oe.AT_MOST_ONCE,r&&n.getIdentifier&&((a=this._messageIds[r])&&a(n),this._syncMessageIds[r]&&this._syncMessageIds[r](n)),s&&(n instanceof _r&&!n.syncMsg&&(c=new Er(r),this.sendOnly(c)),n instanceof Tr&&(c=new wr(r),this.sendOnly(c))),n instanceof pr){switch(o){case Rr.OTHER_DEVICE_LOGIN:this._watcher.status(ue.KICKED_OFFLINE_BY_OTHER_CLIENT);break;case Rr.BLOCK:this._watcher.status(ue.BLOCKED);break;case Rr.REDIRECT_NEW:case Rr.REDIRECT:this._watcher.status(ue.REDIRECT);break;default:this._watcher.status(ue.DISCONNECT_BY_SERVER)}return[2]}return n instanceof _r?(u=n.syncMsg,l=n.topic,!u||Mr(l)?(this._watcher.signal(n),[2,!1]):[4,new Promise((function(e){d._syncMessageIds[r]=e}))]):[3,2];case 1:f=h.sent(),delete this._syncMessageIds[r],this._watcher.signal(n,f),h.label=2;case 2:return[2]}}))}))})),!0):(ne.error("received data is not a validJson",n),!1)},t.prototype._startPullSignal=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i;return b(this,(function(o){switch(o.label){case 0:return t=(new Date).getTime(),n=e+"://"+this._domain+"/pullmsg.js?sessionid="+this._sessionid+"&timestrap="+t+"&pid="+this._pid,[4,this._runtime.httpReq({url:n,body:{pid:this._pid},timeout:45e3})];case 1:return r=o.sent(),i=this.handleCometRes(r),this._isDisconnected||(i?this._startPullSignal(e):(this._isDisconnected=!0,this._watcher.status(ue.NETWORK_UNAVAILABLE))),[2]}}))}))},t.prototype.connect=function(e,t,n,r,i){return _(this,void 0,void 0,(function(){var o,s,a,c,u,l,f,d;return b(this,(function(h){switch(h.label){case 0:return i=R(i),this._protocol=r,this._isDisconnected=!1,this._watcher.status(ue.CONNECTING),[4,xr(n,r,this._runtime)];case 1:if(0===(o=h.sent()).length)return ne.error("No valid comet server hosts!"),[2,ae.RC_SOCKET_NOT_CREATED];s=function(e){return 200!==e.status&&202!==e.status?(ne.error("handle comet res -> res: "+JSON.stringify(e||{})),!1):!!e.data&&(function(e){if(G(e))return!0;var t=!1;try{var n=JSON.parse(e);t=JSON.stringify(n)===e}catch(e){t=!1}return t}(e.data)?G(e.data)?e.data:JSON.parse(e.data):(ne.error("received data is not a validJson",e.data),!1))},c=0,u=o.length,h.label=2;case 2:return c<u?(l=Nr(r,o[c],e,t,this._runtime,i,this._pid),this.sendConnectTime=Date.now(),[4,this._runtime.httpReq({url:l,body:{pid:this._pid},timeout:5e3})]):[3,5];case 3:if(f=h.sent(),d=s(f),this._domain=o[c],d&&d.status===le.REDIRECT)return[2,d.status];if(d&&0===d.status)return this._watcher.status(ue.CONNECTED),this._sessionid=d.sessionid,this._startPullSignal(r),this.userId=d.userId,this.connectedTime=d.timestamp,[2,d.status];ne.warn("connect result -> code: "+(null==d?void 0:d.status)+", url: "+l),a=We(null==d?void 0:d.status),h.label=4;case 4:return c+=1,[3,2];case 5:return[2,void 0!==a?a:ae.RC_NET_UNAVAILABLE]}}))}))},t.prototype.sendCometData=function(e,t){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,l;return b(this,(function(f){switch(f.label){case 0:return n=(t=this)._domain,r=t._sessionid,i=t._pid,o=e.messageId,s=e.topic,a=e.targetId,e.identifier,c=e.getHeaderFlag(),u=s?this._protocol+"://"+n+"/websocket?messageid="+o+"&header="+c+"&sessionid="+r+"&topic="+s+"&targetid="+a+"&pid="+i:this._protocol+"://"+n+"/websocket?messageid="+o+"&header="+c+"&sessionid="+r+"&pid="+i,[4,this._runtime.httpReq({url:u,method:Ar.POST,body:e.getCometData()})];case 1:return l=f.sent(),this.handleCometRes(l),[2]}}))}))},t.prototype.sendOnly=function(e){this.sendCometData(e)},t.prototype.send=function(e,t,n,r){return void 0===r&&(r=3e4),_(this,void 0,void 0,(function(){var i,o,s,a=this;return b(this,(function(c){switch(c.label){case 0:return i=this._generateMessageId(),e.messageId=i,this.sendCometData(e),[4,new Promise((function(e){a._messageIds[i]=e,setTimeout((function(){delete a._messageIds[i],e()}),r)}))];case 1:return(o=c.sent())?0!==o.status?[2,{code:o.status}]:(s=t?this.codec.decodeByPBName(o.data,t,n):o,[2,{code:ae.SUCCESS,data:s}]):[2,{code:ae.TIMEOUT}]}}))}))},t.prototype.close=function(){this._isDisconnected=!0,this._watcher.status(ue.DISCONNECTED)},t}(ur),kr=function(e,t,n){this.runtime=e,this._watcher=t,this._options=n,this.currentUserId="",this._appkey=this._options.appkey,this._apiVer=this._options.apiVersion,this.navi=this._createNavi()},Dr=function(e){return["navi",e].join("_")},jr=function(){function e(e,t){this._runtime=e,this._options=t,this._naviInfo=null,this._appkey=this._options.appkey,this._apiVersion=R(this._options.apiVersion)}return e.prototype.getInfo=function(e,t,n,r){return _(this,void 0,void 0,(function(){var i,o;return b(this,(function(s){switch(s.label){case 0:return n&&this._clear(e),(i=function(e,t,n){var r,i,o=Dr(e);try{var s=n.getItem(o);i=s?JSON.parse(s):[]}catch(e){i=[]}var a=Date.now();return i.length>0&&(i=i.filter((function(e){return a-e.timestamp<72e5}))),0===i.length?n.removeItem(o):n.setItem(o,JSON.stringify(i)),(null===(r=i.find((function(e){return e.token===t})))||void 0===r?void 0:r.naviInfo)||null}(this._appkey,e,this._runtime.localStorage))?(this._naviInfo=i,[2,i]):(o=this._options.navigators.slice(),t.length&&t.forEach((function(e){o.indexOf(e)<0&&o.unshift(e)})),[4,this._reqNavi(o,this._appkey,e,r)]);case 1:return(i=s.sent())?(this._naviInfo=i,this.setNaviInfo2Cache(e,i),[2,i]):[2,i]}}))}))},e.prototype.setNaviInfo2Cache=function(e,t){this._naviInfo=t,function(e,t,n,r){var i,o=Dr(e);try{var s=r.getItem(o);i=s?JSON.parse(s):[]}catch(e){i=[]}var a=Date.now();i.length>0&&(i=i.filter((function(e){return a-e.timestamp<72e5&&t!==e.token}))),i.push({timestamp:a,naviInfo:n,token:t}),r.setItem(o,JSON.stringify(i))}(this._appkey,e,t,this._runtime.localStorage)},e.prototype.getInfoFromCache=function(e){return this._naviInfo},e.prototype._clear=function(e){!function(e,t,n){var r,i=Dr(e);try{var o=n.getItem(i);r=o?JSON.parse(o):[]}catch(e){r=[]}var s=Date.now();r.length>0&&(r=r.filter((function(e){return s-e.timestamp<72e5&&t!==e.token}))),0===r.length?n.removeItem(i):n.setItem(i,JSON.stringify(r))}(this._appkey,e,this._runtime.localStorage)},e}(),Br=function(e,t,n){return[e,t,n].join("_")},Vr=function(){function e(e,t){this._runtime=e,this._appkey=t,this._inboxTime=0,this._outboxTime=0}return e.prototype.setInboxTime=function(e,t){if(!(this._inboxTime>e)){this._inboxTime=e;var n=Br("inbox",this._appkey,t);this._runtime.localStorage.setItem(n,e.toString())}},e.prototype.getInboxTime=function(e){if(0===this._inboxTime){var t=Br("inbox",this._appkey,e);this._inboxTime=parseInt(this._runtime.localStorage.getItem(t))||0}return this._inboxTime},e.prototype.setOutboxTime=function(e,t){if(!(this._outboxTime>=e)){this._outboxTime=e;var n=Br("outbox",this._appkey,t);this._runtime.localStorage.setItem(n,e.toString())}},e.prototype.getOutboxTime=function(e){if(0===this._outboxTime){var t=Br("outbox",this._appkey,e);this._outboxTime=parseInt(this._runtime.localStorage.getItem(t))||0}return this._outboxTime},e}(),Fr={_caches:{},set:function(e,t){this._caches[e]=t},get:function(e){return this._caches[e]||0},clear:function(e){this._caches[e]=0}},Hr=function(){function e(e,t){this._kvCaches={},this._chatroomId=e,this._currentUserId=t}return e.prototype._add=function(e){var t=e.key;e.isDeleted=!1,this._kvCaches[t]=e},e.prototype._remove=function(e){var t=e.key,n=this._kvCaches[t];n&&(n.isDeleted=!0,this._kvCaches[t]=n)},e.prototype._setEntry=function(e,t){var n=e.key,r=e.type,i=e.isOverwrite,o=e.userId,s=this._getSetUserId(n),a=r===Ee.DELETE,c=s===o,u=!this._isExisted(n),l=a?this._remove:this._add;(t||i||c||u)&&l.call(this,e)},e.prototype.getValue=function(e){var t=this._kvCaches[e]||{};return t.isDeleted?null:t.value},e.prototype.getAllValue=function(){var e={};for(var t in this._kvCaches)this._kvCaches[t].isDeleted||(e[t]=this._kvCaches[t].value);return e},e.prototype._getSetUserId=function(e){return(this._kvCaches[e]||{}).userId},e.prototype._isExisted=function(e){var t=this._kvCaches[e]||{},n=t.value,r=t.isDeleted;return n&&!r},e.prototype.setEntries=function(e){var t=this,n=e.kvEntries,r=e.isFullUpdate;n=n||[],(r=r||!1)&&this.clear(),n.forEach((function(e){t._setEntry(e,r)})),ne.debug("end setEntries")},e.prototype.clear=function(){this._kvCaches={}},e}(),$r=function(){function e(e){this._pullQueue=[],this._isPulling=!1,this._storeCaches={},this._engine=e}return e.prototype._startPull=function(){return _(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return b(this,(function(a){switch(a.label){case 0:return this._isPulling||0===this._pullQueue.length?[2]:(this._isPulling=!0,e=this._pullQueue.splice(0,1)[0],t=e.chrmId,n=e.timestamp,(r=Fr.get(t))>n?(this._isPulling=!1,this._startPull(),[2]):[4,this._engine.pullChatroomEntry(t,r)]);case 1:return i=a.sent(),o=i.code,s=i.data,this._isPulling=!1,o===ae.SUCCESS?(Fr.set(t,s.syncTime||0),this._startPull()):this._startPull(),[2]}}))}))},e.prototype.reset=function(e){Fr.clear(e);var t=this._storeCaches[e];t&&t.clear()},e.prototype.pullEntry=function(e,t){this._pullQueue.push({chrmId:e,timestamp:t}),this._startPull()},e.prototype.setLocal=function(e,t,n){var r=this._storeCaches[e];J(r)||(r=new Hr(e,n)),r.setEntries(t),this._storeCaches[e]=r},e.prototype.getValue=function(e,t){var n=this._storeCaches[e];return n?n.getValue(t):null},e.prototype.getAll=function(e){var t=this._storeCaches[e],n={};return t&&(n=t.getAllValue()),n},e}(),qr=function(){function e(e,t,n,r){this._runtime=e,this._appkey=t,this._userId=n,this._canJoinMulipleChrm=r,this._sessionKey="",this._joinedChrmsInfo={},this._sessionKey="sync-chrm-"+this._appkey+"-"+this._userId}return e.prototype.set=function(e,t){void 0===t&&(t=10),!this._canJoinMulipleChrm&&(this._joinedChrmsInfo={}),this._joinedChrmsInfo[e]=t,this._runtime.sessionStorage.setItem(this._sessionKey,JSON.stringify(this._joinedChrmsInfo))},e.prototype.get=function(){var e,t;try{t=this._runtime.sessionStorage.getItem(this._sessionKey),e=JSON.parse(t||"{}")}catch(o){ne.error("parse rejoined chrm infos error -> "+t),e={}}return e},e.prototype.remove=function(e){delete this._joinedChrmsInfo[e],J(this._joinedChrmsInfo)?this._runtime.sessionStorage.setItem(this._sessionKey,JSON.stringify(this._joinedChrmsInfo)):this.clear()},e.prototype.clear=function(){this._joinedChrmsInfo={},this._runtime.sessionStorage.removeItem(this._sessionKey)},e}(),Gr="converStatusChanged",zr=function(){function e(e,t,n){this._eventEmitter=new re,this._pullQueue=[],this._isPulling=!1,this._storage=d(e.runtime),this._appkey=t,this._currentUserId=n,this._engine=e,this._storagePullTimeKey="con-s-"+t+"-"+n}return e.prototype._set=function(e){var t=this;if(!K(e)){var n=this._storage.get(this._storagePullTimeKey)||0,r=e.length;e.forEach((function(e,i){var o=e.updatedTime||0;n=o>n?o:n,e.conversationType=e.type,t._eventEmitter.emit(Gr,{statusItem:e,isLastPull:i===r-1})})),this._storage.set(this._storagePullTimeKey,n)}},e.prototype._startPull=function(){return _(this,void 0,void 0,(function(){var e,t,n,r;return b(this,(function(i){switch(i.label){case 0:return this._isPulling||0===this._pullQueue.length?[2]:(this._isPulling=!0,e=this._pullQueue.splice(0,1)[0],[4,this._engine.pullConversationStatus(e)]);case 1:return t=i.sent(),n=t.code,r=t.data,n===ae.SUCCESS?(this._isPulling=!1,this._set(r),this._startPull()):this._startPull(),[2]}}))}))},e.prototype.pull=function(e){var t=this._storage.get(this._storagePullTimeKey)||0;(e>t||0===e)&&(this._pullQueue.push(t),this._startPull())},e.prototype.watch=function(e){this._eventEmitter.on(Gr,(function(t){e(t)}))},e.prototype.unwatch=function(){this._eventEmitter.off(Gr,(function(e){}))},e}(),Kr={c:{keyName:"unreadMessageCount",defaultVal:0},hm:{keyName:"hasMentioned",defaultVal:!1},m:{keyName:"mentionedInfo",defaultVal:null},t:{keyName:"lastUnreadTime",defaultVal:0},nc:{keyName:"notificationStatus",defaultVal:2},to:{keyName:"isTop",defaultVal:!1},tg:{keyName:"tags",defaultVal:{}}},Yr={};for(var Wr in Kr){var Jr=Kr[Wr].keyName;Yr[Jr]=Wr}var Qr,Xr=function(){function e(e,t,n){this._appkey=t,this._currentUserId=n;var r="con-"+t+"-"+n;this.storage=new p(e,r)}return e.prototype._getStoreKey=function(e,t){return e+"_"+t},e.prototype._getConOptionByKey=function(e){var t=(e=e||"").split("_");return t.length>=2?{conversationType:t[0],targetId:e.match(/_.*/g)[0].substring(1)}:{conversationType:U.PRIVATE,targetId:""}},e.prototype.updateMentionedData=function(e){var t=this,n=e.conversationType,r=e.targetId,i=e.messageType,o=e.isMentioned,s=e.content,a=e.senderUserId,c=this._getStoreKey(n,r),u=this.storage.get(c)||{},l=Yr.mentionedInfo,f=Yr.hasMentioned,d=u[l]||{},h=d.userIdList||[],p=s.mentionedInfo;if(p){if(o&&n===U.GROUP&&((p.userIdList||[]).forEach((function(e){e===t._currentUserId&&h.indexOf(a)<0&&h.push(a)})),p.type===me.ALL&&h.indexOf(a)<0&&h.push(a)),i===de.RECALL&&n===U.GROUP){var g=h.indexOf(a);g>=0&&h.splice(g,1)}p={userIdList:h,type:(null==p?void 0:p.type)||d.type},0!==h.length?(u[l]=p,u[f]=!0):(delete u[l],delete u[f]),J(u)?this.storage.set(c,u):this.storage.remove(c)}},e.prototype.set=function(e,t,n){var r=this._getStoreKey(e,t),i=this.storage.get(r)||{};for(var o in n){var s=Yr[o],a=n[o];if(!K(s)&&!K(a)&&"hasMentioned"!==o&&"MentionedInfo"!==o){if(a===Kr[s].defaultVal||"tags"===o&&!J(a))delete i[s];else if("tags"===o){var c=a;for(var u in c)c[u].isTop||delete c[u].isTop;i[s]=a}else i[s]=a;i.c||(delete i.t,delete i.hm,delete i.m)}}J(i)?this.storage.set(r,i):this.storage.remove(r)},e.prototype.get=function(e,t){var n=this._getStoreKey(e,t),r=this.storage.get(n)||{},i={};for(var o in Kr){var s=Kr[o],a=s.keyName,c=s.defaultVal;i[a]=r[o]||ze(c)}return i},e.prototype.getValue=function(e){var t=this.storage.getValues()||{},n=[];for(var r in t){var i=this._getConOptionByKey(r),o={conversationType:i.conversationType,targetId:i.targetId},s=t[r];for(var a in s){var c=Kr[a],u=c.keyName,l=c.defaultVal;o[u]=s[a]||ze(l)}o=e?e(o):o,n.push(o)}return n},e.prototype.getValueForTag=function(){var e=this.storage.getValues()||{},t={};for(var n in e){var r=this._getConOptionByKey(n),i=r.conversationType,o=r.targetId,s={},a=e[n];for(var c in a){var u=Kr[c],l=u.keyName,f=u.defaultVal;s[l]=a[c]||ze(f)}for(var d in s.tags){K(t[d])&&(t[d]=[]);var h=Object.assign({},s,{conversationType:i,targetId:o});delete h.tags,t[d].push(h)}}return t},e}(),Zr=[U.PRIVATE,U.GROUP,U.SYSTEM,U.PUBLIC_SERVICE],ei="conversationChanged",ti=function(){function e(e,t,n,r){var i=this;this._updatedConversations={},this._eventEmitter=new re,this._draftMap={},this._appkey=t,this._loginUserId=n,this._store=new Xr(e.runtime,t,n),this._statusManager=new zr(e,t,n),this._statusManager.watch((function(e){var t=e.statusItem,n=e.isLastPull;i.addStatus(t,n)})),this._eventEmitter.on(ei,(function(e){r(e)}))}return e.prototype._calcUnreadCount=function(e,t){var n=e.content,r=e.messageType,i=e.sentTime,o=e.isCounted,s=e.messageDirection,a=e.senderUserId,c=s===oe.SEND&&a===this._loginUserId,u=r===de.RECALL,l=G(n),f=!1,d=t.lastUnreadTime||0,h=t.unreadMessageCount||0;return d>i||c||(o&&(t.unreadMessageCount=h+1,t.lastUnreadTime=i,f=!0),u&&l&&d>=n.sentTime&&h&&(t.unreadMessageCount=h-1,f=!0)),{hasChanged:f,localConversation:t}},e.prototype._calcMentionedInfo=function(e,t){var n=e.content,r=(e.messageDirection,e.isMentioned);oe.SEND;var i=G(n),o=!1;return r&&i&&n.mentionedInfo&&(t.hasMentioned=!0,o=!0),{hasChanged:o,localConversation:t}},e.prototype._setUpdatedConversation=function(e){if(G(e)){var t=e.conversationType,n=e.targetId,r=t+"_"+n,i=this._store.get(t,n)||{};this._updatedConversations[r]=Object.assign(i,e)}},e.prototype.addStatus=function(e,t){var n=e.conversationType,r=e.targetId,i=e.updatedTime,o=e.notificationStatus,s=e.isTop,a=e.tags,c={},u={};K(o)||(u.notificationStatus={time:i,val:o}),K(s)||(u.isTop={time:i,val:s}),K(a)||(u.tags={time:i,val:a},null==a||a.forEach((function(e){c[e.tagId]={isTop:e.isTop}}))),this._store.set(n,r,{notificationStatus:o,isTop:s,tags:c}),this._setUpdatedConversation({conversationType:n,targetId:r,updatedItems:u}),t&&this._notifyConversationChanged()},e.prototype._notifyConversationChanged=function(){var e=[];for(var t in this._updatedConversations)e.push(this._updatedConversations[t]);this._eventEmitter.emit(ei,e),this._updatedConversations={}},e.prototype.setConversationCacheByMessage=function(e,t){var n=this,r=e.conversationType,i=e.isPersited,o=e.targetId;if(Zr.indexOf(r)>=0){var s=!1,a=this._store.get(r,o);if([this._calcUnreadCount,this._calcMentionedInfo].forEach((function(t){var r=t.call(n,e,a),i=r.hasChanged,o=r.localConversation;s=s||i,a=ze(o)})),s&&this._store.set(r,o,a),this._store.updateMentionedData(e),i){var c=this._store.get(r,o);c.updatedItems={latestMessage:{time:e.sentTime,val:e}},c.latestMessage=e;var u=Object.assign(c,{conversationType:r,targetId:o});this._setUpdatedConversation(u)}t&&this._notifyConversationChanged()}},e.prototype.get=function(e,t){return this._store.get(e,t)},e.prototype.getAllUnreadCount=function(e,t,n){var r=this._store.getValue(),i=0;return r.forEach((function(e){var r=e.unreadMessageCount,o=e.notificationStatus,s=e.conversationType;r=r||0,(n||1!==o)&&(t.length>0?t.includes(Number(s))&&(i+=Number(r)):i+=Number(r))})),i},e.prototype.getUnreadCountByTag=function(e,t){var n=this._store.getValueForTag()[e]||[],r=0;return n.forEach((function(e){var n=e.unreadMessageCount,i=e.notificationStatus;(t||1!==i)&&(n=n||0,r+=Number(n))})),r},e.prototype.getUnreadCount=function(e,t){return this._store.get(e,t).unreadMessageCount||0},e.prototype.clearUnreadCount=function(e,t){var n=this._store.get(e,t),r=n.unreadMessageCount,i=n.hasMentioned;(r||i)&&(n.unreadMessageCount=0,n.hasMentioned=!1),this._store.set(e,t,n);var o=Object.assign(n,{conversationType:e,targetId:t});this._setUpdatedConversation(o),this._notifyConversationChanged()},e.prototype.startPullConversationStatus=function(e){this._statusManager.pull(e)},e.prototype.setDraft=function(e,t,n){var r=e+"_"+t;this._draftMap[r]=n},e.prototype.getDraft=function(e,t){var n=e+"_"+t;return this._draftMap[n]},e.prototype.clearDraft=function(e,t){var n=e+"_"+t;delete this._draftMap[n]},e.prototype.addTagStatus=function(e,t,n){var r=this._store.get(e,t).tags;r=Object.assign(r,n),this._store.set(e,t,{tags:r})},e.prototype.deleteTagStatus=function(e,t,n){var r=this._store.get(e,t).tags;n.forEach((function(e){delete r[e]})),this._store.set(e,t,{tags:r})},e.prototype.getConversationListForTag=function(){return this._store.getValueForTag()},e}(),ni=function(){function e(e,t,n,r){this._pullQueue=[],this._isPulling=!1,this._storageTagKey="tag-"+t+"-"+n,this._storagePullTimeKey="us-s-"+t+"-"+n,this._storage=d(e.runtime),this._engine=e,this._tagWatcherFunc=r}return e.prototype._updateTag=function(e){var t=e.tags,n={};t.forEach((function(e){n[e.tagId]={tagName:e.tagName,createdTime:e.createdTime}})),this._storage.set(this._storageTagKey,n),this._tagWatcherFunc()},e.prototype.addTag=function(e,t){var n=this._storage.get(this._storageTagKey)||{};e.forEach((function(e){var t,r=(null===(t=n[e.tagId])||void 0===t?void 0:t.createdTime)||e.createdTime||0;n[e.tagId]={tagName:e.tagName,createdTime:r}})),this._storage.set(this._storageTagKey,n),this._storage.set(this._storagePullTimeKey,t)},e.prototype.deleteTag=function(e,t){var n=this._storage.get(this._storageTagKey)||{};e.forEach((function(e){delete n[e]})),this._storage.set(this._storageTagKey,n),this._storage.set(this._storagePullTimeKey,t)},e.prototype.getTagsInfo=function(){return this._storage.get(this._storageTagKey)||{}},e.prototype.getTags=function(){var e=this._storage.get(this._storageTagKey)||{},t=[];for(var n in e)t.push({tagId:n,tagName:e[n].tagName,createdTime:e[n].createdTime,conversationCount:0});return t.sort((function(e,t){return(e.createdTime||0)-(t.createdTime||0)}))},e.prototype.getTagById=function(e){var t=this._storage.get(this._storageTagKey)||{};return t[e]?{tagId:e,tagName:t[e].tagName,createdTime:t[e].createdTime,conversationCount:0}:null},e.prototype._startPull=function(){return _(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._isPulling||0===this._pullQueue.length?[2]:(this._isPulling=!0,e=this._pullQueue.splice(0,1)[0],[4,this._engine.pullUserSettings(e)]);case 1:return t=c.sent(),n=t.code,r=t.data,n!==ae.SUCCESS||K(r)?(this._isPulling=!1,this._startPull()):(o=(i=r).settings,s=i.version,a=o.Tag,K(a)||this._updateTag(a),this._storage.set(this._storagePullTimeKey,s),this._isPulling=!1,this._startPull()),[2]}}))}))},e.prototype.pullUserSettings=function(e){var t=this._storage.get(this._storagePullTimeKey)||0;(e>t||0===e)&&(this._pullQueue.push(t),this._startPull())},e.prototype.getVersion=function(){return this._storage.get(this._storagePullTimeKey)||0},e}(),ri=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._miniConnectUrl="",r._connectType=n.connectionType,r}return v(t,e),t.prototype._formatJSONPUrl=function(e,t,n,r){return e+"/"+(this._runtime.isSupportSocket()&&"websocket"===this._connectType?"navi":"cometnavi")+".js?appId="+n+"&token="+encodeURIComponent(t)+"&callBack="+r+"&v="+this._apiVersion+"&r="+Date.now()},t.prototype.getInfo=function(t,n,r){var i;return _(this,void 0,void 0,(function(){var o;return b(this,(function(s){return this._runtime.useNavi||(o=void 0,o=this._runtime.isSupportSocket()&&"websocket"===this._connectType?c.join(","):u.join(","),this._miniConnectUrl=(null===(i=this._options.miniCMPProxy)||void 0===i?void 0:i.length)?this._options.miniCMPProxy.join(","):o||"",n=[]),[2,e.prototype.getInfo.call(this,t,n,r)]}))}))},t.prototype._reqNavi=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l;return b(this,(function(f){switch(f.label){case 0:r="getServerEndpoint",i=0,o=e.length,f.label=1;case 1:return i<o?(s=this._formatJSONPUrl(e[i],n,t,r),ne.debug("req navi => "+s),[4,this._runtime.httpReq({url:s,timeout:1e4})]):[3,4];case 2:if(200!==(a=f.sent()).status)return 403===a.status&&ne.error("request navi error: "+ae.RC_CONN_USER_OR_PASSWD_ERROR),401===a.status&&ne.error("request navi error: "+ae.RC_CONN_APP_BLOCKED_OR_DELETED),[3,3];try{return c=a.data.replace(r+"(","").replace(/\);?$/,""),l=JSON.parse(c),u=/^https/.test(s)?"https":"http",l.protocol=u,this._runtime.useNavi||(l.server="",l.backupServer=this._miniConnectUrl,l.logSwitch=0),[2,l]}catch(e){ne.error("parse navi err =>",e)}f.label=3;case 3:return i+=1,[3,1];case 4:return this._runtime.useNavi?[2,null]:[2,l={code:200,protocol:"https",server:"",voipCallInfo:"",kvStorage:0,openHttpDNS:!1,historyMsg:!1,chatroomMsg:!1,uploadServer:"https://upload.qiniup.com",bosAddr:"https://gz.bcebos.com",location:"",monitor:0,joinMChrm:!1,openMp:0,openUS:0,grpMsgLimit:0,isFormatted:0,gifSize:2048,logSwitch:0,logPolicy:"",compDays:0,msgAck:"",activeServer:"",qnAddr:"",extkitSwitch:0,alone:!1,voipServer:"",offlinelogserver:"",backupServer:this._miniConnectUrl}]}}))}))},t}(jr),ii=function(){function e(e){this._pullQueue=[],this._isPulling=!1,this._pullTime=0,this._engine=e}return e.prototype._startPull=function(){return _(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return b(this,(function(a){switch(a.label){case 0:return this._isPulling||0===this._pullQueue.length?[2]:(this._isPulling=!0,e=this._pullQueue.splice(0,1)[0],t=e.roomId,n=e.timestamp,(r=this._pullTime)>n?(this._isPulling=!1,this._startPull(),[2]):[4,this._engine.pullRTCRoomEntry(t,r)]);case 1:return i=a.sent(),o=i.code,s=i.data,o===ae.SUCCESS?(this._isPulling=!1,this._pullTime=s.syncTime||0,this._startPull()):this._startPull(),[2]}}))}))},e.prototype.pullEntry=function(e,t){this._pullQueue.push({roomId:e,timestamp:t}),this._startPull()},e.prototype.reset=function(){this._pullTime=0,this._isPulling=!1},e}(),oi=function(e,t){return["send_msg",e,t].join("_")},si=function(){function e(e,t){this._runtime=e,this._appkey=t,this._sendMessageMap={},this._userId=""}return e.prototype.init=function(e){this._userId=e;var t=oi(this._appkey,e);this._sendMessageMap=this._getLocalInfo(t)},e.prototype._getLocalInfo=function(e){var t=this._runtime.localStorage.getItem(e);try{return t?JSON.parse(t):{}}catch(e){return{}}},e.prototype.setMessage=function(e,t){this._sendMessageMap[e]=t;var n=oi(this._appkey,this._userId),r=this._getLocalInfo(n);r[e]=t,this._runtime.localStorage.setItem(n,JSON.stringify(r))},e.prototype.getSendMessageMap=function(){return this._sendMessageMap},e.prototype.removeByUID=function(e){delete this._sendMessageMap[e]},e.prototype.removeByTimestamp=function(e){var t=oi(this._appkey,this._userId),n=this._getLocalInfo(t);Object.keys(n).forEach((function(t){n[t]<e&&delete n[t]})),this._runtime.localStorage.setItem(t,JSON.stringify(n))},e}(),ai=function(e){var t="RCDeviceId",n=d(e),r="",i=n.get(t);return i?r=i:(r=L(),n.set(t,r)),r};(Qr={})[U.PRIVATE]=Or.qryPMsg,Qr[U.GROUP]=Or.qryGMsg,Qr[U.CHATROOM]=Or.qryCHMsg,Qr[U.CUSTOMER_SERVICE]=Or.qryCMsg,Qr[U.SYSTEM]=Or.qrySMsg;var ci=[Or[Or.recallMsg],Or[Or.ppMsgS],Or[Or.pgMsgS],Or[Or.ppMsgP],Or[Or.pgMsgP],Or[Or.chatMsg],Or[Or.pcMsgP],Or[Or.prMsgS]],ui=function(e,t,n,r,i,o){return{conversationType:e,targetId:t,senderUserId:o,messageDirection:oe.SEND,isCounted:!!n.isCounted,isMentioned:!!n.isMentioned,content:n.content,messageType:n.messageType,isOffLineMessage:!1,isPersited:!!n.isPersited,messageUId:r,sentTime:i,receivedTime:0,disableNotification:!!n.disableNotification,isStatusMessage:!!n.isStatusMessage,canIncludeExpansion:!!n.canIncludeExpansion,expansion:n.canIncludeExpansion?n.expansion:null,receivedStatus:s.UNREAD,pushConfig:n.pushConfig}},li=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i._customMessageType={},i._reconnectTimer=-1,i._pullOfflineFinished=!1,i._connectedTime=0,i._localConnectedTime=0,i._pullingMsg=!1,i._pullQueue=[],i._chrmsQueue={},i._latestSyncTimestamp=0,i._intervalTimer=-1,i._letterbox=new Vr(t,r.appkey),i._sendMessageStore=new si(t,r.appkey),i._chrmEntryHandler=new $r(i),i}return v(t,e),t.prototype._createNavi=function(){return new ri(this.runtime,this._options)},t.prototype.getConnectedTime=function(){return this._connectedTime},t.prototype.connect=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s=this;return b(this,(function(a){switch(a.label){case 0:return n=[],this._naviInfo=t,t.server?n.push(t.server):ne.warn("navi.server is invalid"),(r=t.backupServer)&&r.split(",").forEach((function(e){n.indexOf(e)<0&&n.push(e)})),0===n.length?(ne.error("navi invaild.",n),[2,ae.UNKNOWN]):[4,(i=this.runtime.createDataChannel({status:function(r){s._connectionStatusHandler(r,e,n,t.protocol)},signal:this._signalHandler.bind(this)},this._options.connectionType)).connect(this._appkey,e,n,t.protocol,this._apiVer)];case 1:return(o=a.sent())===ae.SUCCESS?(this._channel=i,this.currentUserId=i.userId,this._connectedTime=i.connectedTime,this._localConnectedTime=Math.floor((Date.now()+i.sendConnectTime)/2),this._watcher.status(ue.CONNECTED),this._pullOfflineFinished=!1,this._conversationManager=new ti(this,this._appkey,this.currentUserId,this._watcher.conversation),this._conversationManager.startPullConversationStatus(0),this._userSettingManager=new ni(this,this._appkey,this.currentUserId,this._watcher.tag),this._userSettingManager.pullUserSettings(0),this._sendMessageStore.init(this.currentUserId),this._rtcKVManager=new ii(this),this._joinedChrmManager=new qr(this.runtime,this._appkey,this.currentUserId,t.joinMChrm),this._startSyncInterval()):i.close(),[2,o]}}))}))},t.prototype._connectionStatusHandler=function(e,t,n,r){if(ne.warn("connection status changed:",e),e!==ue.CONNECTING&&e!==ue.CONNECTED){if(this._channel&&e!==ue.DISCONNECTED)return e===ue.BLOCKED||e===ue.KICKED_OFFLINE_BY_OTHER_CLIENT||e===ue.DISCONNECT_BY_SERVER?(this.disconnect(),void this._watcher.status(e)):void(e!==ue.REDIRECT?this._try2Reconnect(t,n,r):this._watcher.status(e));this._watcher.status(e)}else this._watcher.status(e)},t.prototype._try2Reconnect=function(e,t,n){return _(this,void 0,void 0,(function(){var r=this;return b(this,(function(i){switch(i.label){case 0:return this._channel?[4,this._channel.connect(this._appkey,e,t,n,this._apiVer)]:[2];case 1:return i.sent()===ae.SUCCESS?(this._pullOfflineFinished=!1,this._startSyncInterval(),this._watcher.status(ue.CONNECTED),this._rejoinChrm(),ne.__insertLogIntoDatabase(),[2]):(this._watcher.status(ue.WEBSOCKET_UNAVAILABLE),this._reconnectTimer=setTimeout((function(){r._reconnectTimer=-1,r._try2Reconnect(e,t,n)}),5e3),[2])}}))}))},t.prototype._signalHandler=function(e,t){var n=e.syncMsg,r=e.topic;if(n)this._receiveSyncMsg(e,t);else{var i=Or[r];if(i)switch(i){case Or.s_ntf:ne.debug("recv s_ntf -> signal.messageId: "+e.messageId),this._pullMsg(e);break;case Or.s_msg:this._receiveMsg(e);break;case Or.s_cmd:this._receiveStateNotify(e);break;case Or.s_us:this._receiveSettingNotify(e);break;case Or.rtc_ntf:this._receiveRtcKv(e)}else ne.error("unknown topic:",r)}},t.prototype._receiveStateNotify=function(e){var t,n=null===(t=this._channel)||void 0===t?void 0:t.codec.decodeByPBName(e.data,ft),r=n.time,i=n.type,o=n.chrmId;switch(i){case 2:this._chrmEntryHandler.pullEntry(o,r);break;case 3:this._conversationManager.startPullConversationStatus(r)}},t.prototype._receiveSettingNotify=function(e){var t,n=(null===(t=this._channel)||void 0===t?void 0:t.codec.decodeByPBName(e.data,nn)).version;this._userSettingManager.pullUserSettings(n)},t.prototype._receiveRtcKv=function(e){var t,n=null===(t=this._channel)||void 0===t?void 0:t.codec.decodeByPBName(e.data,bn),r=n.time,i=n.type,o=n.roomId;switch(i){case 1:this._rtcKVManager.pullEntry(o,r)}},t.prototype._receiveMessageExpansion=function(e){var t=e.content,n=t.put,r=t.del,i=t.mid;n&&this._watcher.expansion({updatedExpansion:{messageUId:i,expansion:n}}),r&&this._watcher.expansion({deletedExpansion:{messageUId:i,deletedKeys:r}})},t.prototype._receiveSyncMsg=function(e,t){var n;if(ci.includes(e.topic)){var r=null===(n=this._channel)||void 0===n?void 0:n.codec.decodeByPBName(e.data,rt,{currentUserId:this.currentUserId,signal:e});(r=this._handleMsgProperties(r)).sentTime=t.timestamp,r.messageUId=t.messageUId,this._pullingMsg?this._pullQueue.push(t.timestamp):(this._sendMessageStore.setMessage(t.messageUId,t.timestamp),r.messageType!==de.EXPANSION_NOTIFY?(r.messageType===de.SYNC_READ_STATUS&&this._conversationManager.clearUnreadCount(r.conversationType,r.targetId),this._watcher.message(r),this._conversationManager.setConversationCacheByMessage(r,!0)):this._receiveMessageExpansion(r))}},t.prototype._pullMsg=function(e){if(this._channel){var t=this._channel.codec.decodeByPBName(e.data,ft),n=t.type,r=t.chrmId,i=t.time;if(ne.debug("s_ntf -> type: "+n+", chrmId: "+r+", time: "+i),2===n){var o=this._chrmsQueue[r];if(!o)return;o.queue.push(i),this._pullChrmMsg(r)}else this._pullQueue.push(i),this._syncMsg()}},t.prototype._startSyncInterval=function(){var e=this;this._stopSyncInterval(),this._intervalTimer=setInterval((function(){Date.now()-e._latestSyncTimestamp>=18e4&&e._syncMsg()}),3e4),this._latestSyncTimestamp=Date.now(),this._syncMsg()},t.prototype._stopSyncInterval=function(){-1!==this._intervalTimer&&(clearInterval(this._intervalTimer),this._intervalTimer=-1)},t.prototype._syncMsg=function(){return _(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,c,u,l,f,d,h=this;return b(this,(function(p){switch(p.label){case 0:return this._pullingMsg?[2]:this._channel?(this._pullingMsg=!0,e=this._letterbox.getOutboxTime(this.currentUserId),t=this._letterbox.getInboxTime(this.currentUserId),ne.debug("pullMsg -> sendboxTime: "+e+", inboxTime: "+t),n=this._channel.codec.encodeSyncMsg({sendboxTime:e,inboxTime:t}),r=new Sr(Or[Or.pullMsg],n,this.currentUserId),[4,this._channel.send(r,st,{connectedTime:this._channel.connectedTime,currentUserId:this.currentUserId})]):(this._pullingMsg=!1,[2]);case 1:return i=p.sent(),o=i.code,s=i.data,this._latestSyncTimestamp=Date.now(),o===ae.SUCCESS&&s?(a=s.list,c=s.finished,u=s.syncTime,ne.debug("pullMsg success -> syncTime: "+u+", finished: "+c),l=0,a.forEach((function(e){if(e.messageDirection===oe.SEND&&(l=Math.max(e.sentTime,l),h._sendMessageStore.getSendMessageMap()[e.messageUId]))h._sendMessageStore.removeByUID(e.messageUId);else if(e.messageType!==de.EXPANSION_NOTIFY){if(e.messageType===de.SYNC_READ_STATUS){if(e.senderUserId!==h.currentUserId)return;h._conversationManager.clearUnreadCount(e.conversationType,e.targetId)}var t=h._handleMsgProperties(e);h._conversationManager.setConversationCacheByMessage(t,!0),h._watcher.message(t)}else h._receiveMessageExpansion(e)})),this._letterbox.setInboxTime(u,this.currentUserId),this._letterbox.setOutboxTime(l,this.currentUserId),this._sendMessageStore.removeByTimestamp(l),this._pullingMsg=!1,f=this._pullQueue.filter((function(e){return e>u})),this._pullQueue.length=0,(d=this._pullQueue).push.apply(d,f),c&&!this._pullOfflineFinished&&(this._pullOfflineFinished=!0,this._watcher.pullFinished()),(!c||f.length>0)&&this._syncMsg(),[2]):(ne.warn("pullMsg failed -> code:",o,", data: ",s),this._pullingMsg=!1,[2])}}))}))},t.prototype._receiveMsg=function(e){if(this._channel&&!this._pullingMsg){var t=this._channel.codec.decodeByPBName(e.data,ot,{currentUserId:this.currentUserId,connectedTime:this._channel.connectedTime});(t=this._handleMsgProperties(t)).senderUserId===this.currentUserId&&this._sendMessageStore.setMessage(t.messageUId,t.sentTime),t.isStatusMessage||t.senderUserId===this.currentUserId||this._letterbox.setInboxTime(t.sentTime,this.currentUserId),t.messageType!==de.EXPANSION_NOTIFY?t.messageType===de.SYNC_READ_STATUS&&t.senderUserId!==this.currentUserId||(this._conversationManager.setConversationCacheByMessage(t,!0),this._watcher.message(t)):this._receiveMessageExpansion(t)}},t.prototype._handleMsgProperties=function(e,t){void 0===t&&(t=!1);var n,r=e.messageType,i=e.isCounted,o=e.isPersited,s=e.isStatusMessage,a=r in l,c=r in this._customMessageType;return n=a?l[r]:c?this._customMessageType[r]:{isCounted:!Y(i)&&i,isPersited:!Y(o)&&o},Object.assign(e,{isCounted:n.isCounted,isPersited:n.isPersited,isStatusMessage:f.includes(r)}),t&&(e.isStatusMessage=s),e},t.prototype.getHistoryMessage=function(e,t,n,r,i){return _(this,void 0,void 0,(function(){var o,s,a,c,u,l,f,d,h;return b(this,(function(p){switch(p.label){case 0:return s=(o=this).currentUserId,a=o._channel,c=tr[e]||Wn,u=1===r&&0===n,a?(l=a.codec.encodeGetHistoryMsg(t,{timestamp:n,count:u?2:r,order:i}),[4,a.send(new Sr(c,l,s),ht,{currentUserId:s,connectedTime:a.connectedTime,conversation:{targetId:t}})]):[3,2];case 1:return f=p.sent(),(d=f.code)!==ae.SUCCESS?[2,{code:d}]:(h=f.data,u&&2===h.list.length&&(h.hasMore=!0,0===i?h.list.shift():h.list.pop()),[2,{code:d,data:{list:h.list,hasMore:h.hasMore}}]);case 2:return[2,{code:ae.RC_NET_CHANNEL_INVALID}]}}))}))},t.prototype.reportSDKInfo=function(e){var t=this.currentUserId,n=this._channel;if(n){ne.debug("reportSDKInfo ->",e);var r=n.codec.encodeReportSDKInfo(JSON.stringify(e)),i=new Sr(Or[Or.reportsdk],r,t);n.send(i).then((function(e){var t=e.code;t!==ae.SUCCESS&&ne.warn("reportSDKInfo failed -> code: "+t)}))}},t.prototype.deleteRemoteMessage=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return i=(r=this).currentUserId,(o=r._channel)?(s=o.codec.encodeDeleteMessages(e,t,n),a=new Sr(Bn,s,i),[4,o.send(a)]):[3,2];case 1:return c=l.sent(),u=c.code,ae.SUCCESS,[2,u];case 2:return[2,ae.RC_NET_CHANNEL_INVALID]}}))}))},t.prototype.deleteRemoteMessageByTimestamp=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l;return b(this,(function(f){switch(f.label){case 0:return i=(r=this).currentUserId,(o=r._channel)?(s=o.codec.encodeClearMessages(t,n),a=nr[e],c=new Sr(a,s,i),[4,o.send(c)]):[3,2];case 1:return u=f.sent(),l=u.code,ae.SUCCESS,[2,l];case 2:return[2,ae.RC_NET_CHANNEL_INVALID]}}))}))},t.prototype.getConversationList=function(e,t,n,r,i){return void 0===e&&(e=300),_(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,f,d=this;return b(this,(function(h){switch(h.label){case 0:return o=(i=this).currentUserId,s=i._channel,t=t||U.PRIVATE,s?(a=s.codec.encodeOldConversationList({count:e,type:t,startTime:n,order:r}),c=new Sr(Gn,a,o),[4,s.send(c,gt,{currentUserId:o,connectedTime:s.connectedTime,afterDecode:function(e){var t=e.conversationType,n=e.targetId,r=d._conversationManager.get(t,n);return Object.assign(e,r),e}})]):[3,2];case 1:return u=h.sent(),l=u.code,f=u.data,l!==ae.SUCCESS?[2,{code:l}]:[2,{code:l,data:f}];case 2:return[2,{code:ae.RC_NET_CHANNEL_INVALID}]}}))}))},t.prototype.removeConversation=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s;return b(this,(function(a){switch(a.label){case 0:return(n=this._channel)?(r=n.codec.encodeOldConversationList({type:e}),i=new Sr(zn,r,t),[4,n.send(i)]):[3,2];case 1:return o=a.sent(),ne.info("RemoveConversation =>",o),s=o.code,ae.SUCCESS,[2,s];case 2:return[2,ae.RC_NET_CHANNEL_INVALID]}}))}))},t.prototype.getConversation=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c;return b(this,(function(u){switch(u.label){case 0:return(r=this._conversationManager.get(e,t))?[4,this.getHistoryMessage(e,t,0,1,0)]:[2,{code:ae.CONVER_GET_ERROR}];case 1:return i=u.sent(),o=i.code,s=i.data,o!==ae.SUCCESS?[2,{code:ae.CONVER_GET_ERROR}]:(a=(null==s?void 0:s.list[0])||null,c={conversationType:e,targetId:t,channelId:n,unreadMessageCount:r.unreadMessageCount||0,latestMessage:a,notificationStatus:r.notificationStatus||pe.CLOSE,isTop:r.isTop||!1,lastUnreadTime:r.lastUnreadTime||0},[2,{code:ae.SUCCESS,data:c}])}}))}))},t.prototype.getAllConversationUnreadCount=function(e,t,n){var r=this._conversationManager.getAllUnreadCount(e,t,n);return Promise.resolve({code:ae.SUCCESS,data:r})},t.prototype.getConversationUnreadCount=function(e,t){var n=this._conversationManager.getUnreadCount(e,t);return Promise.resolve({code:ae.SUCCESS,data:n})},t.prototype.clearConversationUnreadCount=function(e,t){return this._conversationManager.clearUnreadCount(e,t),Promise.resolve(ae.SUCCESS)},t.prototype.getFirstUnreadMessage=function(e,t){throw new Error("Method not implemented.")},t.prototype.saveConversationMessageDraft=function(e,t,n){return this._conversationManager.setDraft(e,t,n),Promise.resolve(ae.SUCCESS)},t.prototype.getConversationMessageDraft=function(e,t){var n=this._conversationManager.getDraft(e,t);return Promise.resolve({code:ae.SUCCESS,data:n})},t.prototype.clearConversationMessageDraft=function(e,t){return this._conversationManager.clearDraft(e,t),Promise.resolve(ae.SUCCESS)},t.prototype.pullConversationStatus=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c;return b(this,(function(u){switch(u.label){case 0:return n=(t=this)._channel,r=t.currentUserId,n?(i=n.codec.encodeGetConversationStatus(e),o=new Sr(Or[Or.pullSeAtts],i,r),[4,n.send(o,on)]):[3,2];case 1:return s=u.sent(),a=s.code,c=s.data,a!==ae.SUCCESS?[2,{code:a}]:[2,{code:a,data:c}];case 2:return[2,{code:ae.RC_NET_CHANNEL_INVALID}]}}))}))},t.prototype.batchSetConversationStatus=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,l=this;return b(this,(function(f){switch(f.label){case 0:return n=(t=this).currentUserId,(r=t._channel)?(i=r.codec.encodeSetConversationStatus(e),o=new Sr(Kn,i,n),[4,r.send(o,un)]):[3,2];case 1:return s=f.sent(),a=s.code,c=s.data,a===ae.SUCCESS?(u=c,e.forEach((function(e){l._conversationManager.addStatus(y(y({},e),{updatedTime:u.version}),!0)})),[2,a]):[2,a];case 2:return[2,ae.RC_NET_CHANNEL_INVALID]}}))}))},t.prototype._joinChrm=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return(r=this._channel)?(i=r.codec.encodeJoinOrQuitChatRoom(),o=new Sr(n?Fn:Vn,i,e),[4,r.send(o,wt)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return s=l.sent(),a=s.code,c=s.data,u=c.joinTime,a===ae.SUCCESS&&(this._chrmsQueue[e]||(this._chrmsQueue[e]={pulling:!1,queue:[],timestamp:0}),this._pullChrmMsg(e,t,u),this._naviInfo.kvStorage&&this._chrmEntryHandler.pullEntry(e,0),this._joinedChrmManager.set(e,t)),[2,a]}}))}))},t.prototype._rejoinChrm=function(){return _(this,void 0,void 0,(function(){var e,t,n,r,i,o;return b(this,(function(s){switch(s.label){case 0:for(n in e=this._joinedChrmManager.get(),t=[],e)t.push(n);r=0,s.label=1;case 1:return r<t.length?(i=t[r],[4,this._joinChrm(i,e[i]||10,!0)]):[3,4];case 2:(o=s.sent())===ae.SUCCESS?this._watcher.chatroom({rejoinedRoom:{chatroomId:i,count:e[i]}}):this._watcher.chatroom({rejoinedRoom:{chatroomId:i,errorCode:o}}),s.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},t.prototype._pullChrmMsg=function(e,t,n){return void 0===t&&(t=10),void 0===n&&(n=0),_(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,f,d,h,p=this;return b(this,(function(g){switch(g.label){case 0:return this._channel?(r=this._chrmsQueue[e],i=r.pulling,o=r.timestamp,i?[2]:(r.pulling=!0,s=this._channel.codec.encodeChrmSyncMsg(o,t),a=new Sr(Or[Or.chrmPull],s,e),[4,this._channel.send(a,st,{connectedTime:this._channel.connectedTime,currentUserId:this.currentUserId})])):[2];case 1:return c=g.sent(),u=c.code,l=c.data,r.pulling=!1,u===ae.SUCCESS&&l?(f=l.list,d=l.syncTime,h=l.finished,r.timestamp=n?Math.max(d,n):d,r.queue=r.queue.filter((function(e){return e>d})),f.forEach((function(e){e.sentTime<o||p._watcher.message(e)})),(!h||r.queue.length>0)&&this._pullChrmMsg(e),[2]):(ne.warn("pull chatroom msg failed, code:",u,", data:",l),[2])}}))}))},t.prototype.joinChatroom=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._joinChrm(e,t,!1)]}))}))},t.prototype.joinExistChatroom=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._joinChrm(e,t,!0)]}))}))},t.prototype.quitChatroom=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o;return b(this,(function(s){switch(s.label){case 0:return(t=this._channel)?(n=t.codec.encodeJoinOrQuitChatRoom(),r=new Sr(Hn,n,e),[4,t.send(r)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return i=s.sent(),(o=i.code)===ae.SUCCESS&&(delete this._chrmsQueue[e],this._chrmEntryHandler.reset(e),this._joinedChrmManager.remove(e)),[2,o]}}))}))},t.prototype.getChatroomInfo=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c;return b(this,(function(u){switch(u.label){case 0:return(r=this._channel)?(i=r.codec.encodeGetChatRoomInfo(t,n),o=new Sr(Or[Or.queryChrmI],i,e),[4,r.send(o,It)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return s=u.sent(),a=s.code,c=s.data,a!==ae.SUCCESS?[2,{code:a}]:[2,{code:a,data:c}]}}))}))},t.prototype.getChatroomHistoryMessages=function(e,t,n,r){return _(this,void 0,void 0,(function(){var i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return(i=this._channel)?(o=i.codec.encodeGetHistoryMsg(e,{timestamp:t,count:n,order:r}),s=new Sr(Qn,o,e),[4,i.send(s,ht,{conversation:{targetId:e}})]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return a=l.sent(),c=a.code,u=a.data,c!==ae.SUCCESS?[2,{code:c}]:[2,{code:c,data:{list:u.list,hasMore:u.hasMore}}]}}))}))},t.prototype._modifyChatroomKV=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return r=(n=this)._channel,i=n.currentUserId,r?(o=r.codec.encodeModifyChatRoomKV(e,t,i),s=t.type===Ee.UPDATE?$n:qn,a=new Sr(s,o,e),[4,r.send(a)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return c=l.sent(),(u=c.code)===ae.SUCCESS?(this._chrmEntryHandler.setLocal(e,{kvEntries:[t],syncTime:(new Date).getTime()},i),[2,u]):[2,u]}}))}))},t.prototype.setChatroomEntry=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return t.type=Ee.UPDATE,[2,this._modifyChatroomKV(e,t)]}))}))},t.prototype.forceSetChatroomEntry=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return t.type=Ee.UPDATE,t.isOverwrite=!0,[2,this._modifyChatroomKV(e,t)]}))}))},t.prototype.removeChatroomEntry=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return t.type=Ee.DELETE,[2,this._modifyChatroomKV(e,t)]}))}))},t.prototype.forceRemoveChatroomEntry=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return t.type=Ee.DELETE,t.isOverwrite=!0,[2,this._modifyChatroomKV(e,t)]}))}))},t.prototype.getChatroomEntry=function(e,t){var n=this._chrmEntryHandler.getValue(e,t);return n?Promise.resolve({code:ae.SUCCESS,data:n}):Promise.resolve({code:ae.CHATROOM_KEY_NOT_EXIST})},t.prototype.getAllChatroomEntry=function(e){var t=this._chrmEntryHandler.getAll(e);return Promise.resolve({code:ae.SUCCESS,data:t})},t.prototype.pullChatroomEntry=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,f;return b(this,(function(d){switch(d.label){case 0:return r=(n=this)._channel,i=n.currentUserId,r?(o=r.codec.encodePullChatRoomKV(t),s=new Sr(Or[Or.pullKV],o,e),[4,r.send(s,Jt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return a=d.sent(),c=a.code,u=a.data,c===ae.SUCCESS?(ne.debug("Pull success ChrmKV, "+JSON.stringify(a)),this._chrmEntryHandler.setLocal(e,u,i),ne.debug("Save into cache success!"),l=u.kvEntries,f=[],l.length>0&&(l.forEach((function(t){var n=t.key,r=t.value,i=t.type,o=t.timestamp;f.push({key:n,value:r,type:i,timestamp:o,chatroomId:e})})),this._watcher.chatroom({updatedEntries:f})),[2,{code:c,data:u}]):[2,{code:c}]}}))}))},t.prototype.sendMessage=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,f,d;return b(this,(function(h){switch(h.label){case 0:return this._channel?(n=function(e,t){return"RC:SRSMsg"===e.messageType&&Object.assign(e,{directionalUserIdList:[t]}),e}(n,this.currentUserId),n=this._handleMsgProperties(n,!0),r=!![U.PRIVATE,U.GROUP].includes(e)&&n.isStatusMessage,i=r?function(e){var t;return(t={},t[U.PRIVATE]=Or.ppMsgS,t[U.GROUP]=Or.pgMsgS,t)[e]}(e):function(e){var t;return(t={},t[U.PRIVATE]=Or.ppMsgP,t[U.GROUP]=Or.pgMsgP,t[U.CHATROOM]=Or.chatMsg,t[U.CUSTOMER_SERVICE]=Or.pcMsgP,t[U.RTC_ROOM]=Or.prMsgS,t)[e]}(e)||Or.ppMsgP,r&&(n.isPersited=!1,n.isCounted=!1),o=this._channel.codec.encodeUpMsg({type:e,targetId:t},n),(s=new br(Or[i],o,t)).setHeaderQos(Oe.AT_LEAST_ONCE),r?(this._channel.sendOnly(s),[2,{code:ae.SUCCESS,data:ui(e,t,y({},n),"",0,this.currentUserId)}]):(a=Date.now()-this._localConnectedTime+this._connectedTime,c=ui(e,t,y({},n),"",a,this.currentUserId),[4,this._channel.send(s)])):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return u=h.sent(),l=u.code,f=u.data,l!==ae.SUCCESS?[2,{code:l,data:c}]:(d=f,this._sendMessageStore.setMessage(d.messageUId,d.timestamp),c.sentTime=d.timestamp,c.messageUId=d.messageUId,this._conversationManager.setConversationCacheByMessage(c,!0),[2,{code:ae.SUCCESS,data:c}])}}))}))},t.prototype.recallMsg=function(e,t,n,r,i){var o;return _(this,void 0,void 0,(function(){var s,a,c,u,l,f,d,h,p;return b(this,(function(g){switch(g.label){case 0:return this._channel?(s=i.user,a={content:{conversationType:e,targetId:t,messageUId:n,sentTime:r,user:s},messageType:"RC:RcCmd",disableNotification:null==i?void 0:i.disableNotification,pushConfig:null==i?void 0:i.pushConfig,pushContent:(null===(o=i.pushConfig)||void 0===o?void 0:o.pushContent)||i.pushContent||""},c=Or[Or.recallMsg],u=this._channel.codec.encodeUpMsg({type:e,targetId:t},a),(l=new br(c,u,this.currentUserId)).setHeaderQos(Oe.AT_LEAST_ONCE),[4,this._channel.send(l)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return f=g.sent(),d=f.code,h=f.data,d!==ae.SUCCESS?[2,{code:d}]:(p=h,this._sendMessageStore.setMessage(p.messageUId,p.timestamp),[2,{code:ae.SUCCESS,data:ui(e,t,y({},a),p.messageUId,p.timestamp,this.currentUserId)}])}}))}))},t.prototype.sendReadReceiptMessage=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return this._channel?(r=this._channel.codec.encodeReadReceipt(t,n),i=new Sr(Or[Or.rrMsg],r,e),[4,this._channel.send(i)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return[2,o.sent()]}}))}))},t.prototype.getMessageReader=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return this._channel?(r=this._channel.codec.encodeMessageReader(t,n),i=new Sr(Or[Or.rrList],r,e),[4,this._channel.send(i,dn)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return[2,o.sent()]}}))}))},t.prototype.pullUserSettings=function(e){return _(this,void 0,void 0,(function(){var t,n;return b(this,(function(r){return this._channel?(t=this._channel.codec.encodePullUserSetting(e),n=new Sr(Or[Or.pullUS],t,this.currentUserId),[2,this._channel.send(n,tn)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}]}))}))},t.prototype.getFileToken=function(e,t,n,r){return _(this,void 0,void 0,(function(){var i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return this._channel?(i=r&&"uploads"!==r?t||"":De(e,t),o=this._channel.codec.encodeGetFileToken(e,i,n||"",r||""),s=new Sr(Or[Or.qnTkn],o,this.currentUserId),[4,this._channel.send(s,qt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return a=l.sent(),c=a.code,u=a.data,u=Object.assign(u,{fileName:i}),c===ae.SUCCESS?[2,{code:c,data:u}]:[2,{code:c}]}}))}))},t.prototype.getFileUrl=function(e,t,n,r){return _(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,f,d;return b(this,(function(h){switch(h.label){case 0:return this._channel?(i="",o="",s="",t===ye.QINIU?(o=Gt,s=Kt):(o=zt,s=Yt),i=t===ye.QINIU?Or[Or.qnUrl]:t===ye.AWS?Or[Or.s3Url]:t===ye.STC?Or[Or.stcUrl]:Or[Or.aliUrl],a=this._channel.codec.encodeGetFileUrl(o,e,n,r),c=new Sr(i,a,this.currentUserId),[4,this._channel.send(c,s)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return u=h.sent(),l=u.code,f=u.data,d=f,l===ae.SUCCESS?[2,{code:l,data:d}]:[2,{code:l}]}}))}))},t.prototype.disconnect=function(){-1!==this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=-1),this._channel&&(this._channel.close(),this._channel=void 0),this._stopSyncInterval()},t.prototype.destroy=function(){throw new Error("JSEngine's method not implemented.")},t.prototype.registerMessageType=function(e,t,n,r){this._customMessageType[e]={isPersited:t,isCounted:n}},t.prototype.getServerTime=function(){return Date.now()-this._localConnectedTime+this._connectedTime},t.prototype.createTag=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(t=this._userSettingManager.getVersion(),n=this._channel.codec.encodeCreateTag([e],t),r=new Sr(Or[Or.addSeTag],n,this.currentUserId),[4,this._channel.send(r,Zt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return i=c.sent(),o=i.code,s=i.data,o!==ae.SUCCESS?[2,{code:o}]:(a=s.version,this._userSettingManager.addTag([y(y({},e),{createdTime:a})],a),[2,{code:ae.SUCCESS,data:s}])}}))}))},t.prototype.removeTag=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(t=this._userSettingManager.getVersion(),n=this._channel.codec.encodeRemoveTag([e],t),r=new Sr(Or[Or.delSeTag],n,this.currentUserId),[4,this._channel.send(r,Zt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return i=c.sent(),o=i.code,s=i.data,o!==ae.SUCCESS?[2,{code:o}]:(a=s.version,this._userSettingManager.deleteTag([e],a),[2,{code:ae.SUCCESS}])}}))}))},t.prototype.updateTag=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(t=this._userSettingManager.getVersion(),n=this._channel.codec.encodeCreateTag([e],t),r=new Sr(Or[Or.addSeTag],n,this.currentUserId),[4,this._channel.send(r,Zt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return i=c.sent(),o=i.code,s=i.data,o!==ae.SUCCESS?[2,{code:o}]:(a=s.version,this._userSettingManager.addTag([e],a),[2,{code:ae.SUCCESS,data:s}])}}))}))},t.prototype.getTagList=function(){return _(this,void 0,void 0,(function(){var e,t;return b(this,(function(n){return e=this._userSettingManager.getTags(),t=this._conversationManager.getConversationListForTag(),e.forEach((function(e){e.conversationCount=t[e.tagId]?t[e.tagId].length:0})),[2,{code:ae.SUCCESS,data:e}]}))}))},t.prototype.addTagForConversations=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s=this;return b(this,(function(a){switch(a.label){case 0:return this._channel?this._userSettingManager.getTagById(e)?(n=this._channel.codec.encodeUpdateConversationTag([{tagId:e}],t),r=new Sr(Or[Or.addTag],n,this.currentUserId),[4,this._channel.send(r)]):[2,{code:ae.TAG_NOT_EXIST}]:[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return(i=a.sent().code)!==ae.SUCCESS?[2,{code:i}]:((o={})[e]={},t.forEach((function(e){s._conversationManager.addTagStatus(e.type,e.targetId,o)})),[2,{code:ae.SUCCESS}])}}))}))},t.prototype.removeTagForConversations=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o=this;return b(this,(function(s){switch(s.label){case 0:return this._channel?(n=this._channel.codec.encodeUpdateConversationTag([{tagId:e}],t),r=new Sr(Or[Or.delTag],n,this.currentUserId),[4,this._channel.send(r)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return(i=s.sent().code)!==ae.SUCCESS?[2,{code:i}]:(t.forEach((function(t){o._conversationManager.deleteTagStatus(t.type,t.targetId,[e])})),[2,{code:ae.SUCCESS}])}}))}))},t.prototype.removeTagsForConversation=function(e,t){return _(this,void 0,void 0,(function(){var n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(n=e.type,r=e.targetId,i=t.map((function(e){return{tagId:e}})),o=this._channel.codec.encodeUpdateConversationTag(i,[e]),s=new Sr(Or[Or.delTag],o,this.currentUserId),[4,this._channel.send(s)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return(a=c.sent().code)!==ae.SUCCESS?[2,{code:a}]:(this._conversationManager.deleteTagStatus(n,r,t),[2,{code:ae.SUCCESS}])}}))}))},t.prototype.getConversationListByTag=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,f;return b(this,(function(d){switch(d.label){case 0:return i=(r=this).currentUserId,(o=r._channel)?(s=o.codec.encodeOldConversationList({count:n,type:U.PRIVATE,startTime:t}),a=new Sr(Gn,s,i),[4,o.send(a,gt,{currentUserId:i,connectedTime:o.connectedTime})]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return c=d.sent(),u=c.code,l=c.data,f=this._conversationHasTagFilter(e,l),ne.info("GetConversationListByTag",f),u!==ae.SUCCESS?[2,{code:u}]:[2,{code:u,data:f}]}}))}))},t.prototype._conversationHasTagFilter=function(e,t){var n=this,r=[],i=[];function o(e,t){return e.latestMessage&&t.latestMessage?e.latestMessage.sentTime-t.latestMessage.sentTime:0}return t.forEach((function(t){var o=t.conversationType,s=t.targetId,a=n._conversationManager.get(o,s),c=a.hasMentioned,u=a.mentionedInfo,l=a.lastUnreadTime,f=a.notificationStatus,d=a.isTop,h=a.tags,p=a.unreadMessageCount,g=h&&h[e];if(g){var m=y(y({},t),{hasMentioned:c,mentionedInfo:u,lastUnreadTime:l,notificationStatus:f,isTop:d,unreadMessageCount:p});g.isTop?r.push(y(y({},m),{isTopInTag:!0})):i.push(y(y({},m),{isTopInTag:!1}))}})),C(C([],r.sort(o)),i.sort(o))},t.prototype.getUnreadCountByTag=function(e,t){return _(this,void 0,void 0,(function(){var n;return b(this,(function(r){return this._channel?(n=this._conversationManager.getUnreadCountByTag(e,t),[2,{code:ae.SUCCESS,data:n}]):[2,{code:ae.RC_NET_CHANNEL_INVALID}]}))}))},t.prototype.setConversationStatusInTag=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,f;return b(this,(function(d){switch(d.label){case 0:return this._channel?(r=t.targetId,i=t.type,o=n.isTop,s=[{tagId:e,isTop:o}],(a=this._conversationManager.get(i,r)).tags&&Object.hasOwnProperty.call(a.tags,e)?(c=this._channel.codec.encodeUpdateConversationTag(s,[t]),u=new Sr(Or[Or.addTag],c,this.currentUserId),[4,this._channel.send(u)]):[2,{code:ae.NO_TAG_IN_CONVER}]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return(l=d.sent().code)!==ae.SUCCESS?[2,{code:l}]:((f={})[e]={},o&&(f[e].isTop=!0),this._conversationManager.addTagStatus(i,r,f),[2,{code:ae.SUCCESS}])}}))}))},t.prototype.getTagsForConversation=function(e){var t;return _(this,void 0,void 0,(function(){var n,r,i,o;return b(this,(function(s){if(!this._channel)return[2,{code:ae.RC_NET_CHANNEL_INVALID}];if(n=this._conversationManager.get(e.type,e.targetId),r=this._userSettingManager.getTagsInfo(),i=[],n.tags)for(o in n.tags)i.push({tagId:o,tagName:null===(t=r[o])||void 0===t?void 0:t.tagName});return[2,{code:ae.SUCCESS,data:i}]}))}))},t.prototype.joinRTCRoom=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){return this._channel?(r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Sr(Or[Or.rtcRJoin_data],r,e),[2,this._channel.send(i,Ot)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}]}))}))},t.prototype.quitRTCRoom=function(e){return _(this,void 0,void 0,(function(){var t,n;return b(this,(function(r){switch(r.label){case 0:return this._channel?(t=this._channel.codec.encodeQuitRTCRoom(),n=new Sr(Or[Or.rtcRExit],t,e),[4,this._channel.send(n)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,r.sent().code]}}))}))},t.prototype.rtcPing=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return this._channel?(r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Sr(Or[Or.rtcPing],r,e),[4,this._channel.send(i)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,o.sent().code]}}))}))},t.prototype.getRTCRoomInfo=function(e){return _(this,void 0,void 0,(function(){var t,n;return b(this,(function(r){return this._channel?(t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Sr(Or[Or.rtcRInfo],t,e),[2,this._channel.send(n,Vt)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}]}))}))},t.prototype.getRTCUserInfoList=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o;return b(this,(function(s){switch(s.label){case 0:return this._channel?(t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Sr(Or[Or.rtcUData],t,e),[4,this._channel.send(n,Ot)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return r=s.sent(),i=r.code,o=r.data,[2,{code:i,data:o?{users:o.users}:o}]}}))}))},t.prototype.setRTCUserInfo=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return this._channel?(r=this._channel.codec.encodeSetRTCUserInfo(t,n),i=new Sr(Or[Or.rtcUPut],r,e),[4,this._channel.send(i)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,o.sent().code]}}))}))},t.prototype.removeRTCUserInfo=function(e,t){return _(this,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:return this._channel?(n=this._channel.codec.encodeRemoveRTCUserInfo(t),r=new br(Or[Or.rtcUDel],n,e),[4,this._channel.send(r)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,i.sent().code]}}))}))},t.prototype.setRTCData=function(e,t,n,r,i,o){return _(this,void 0,void 0,(function(){var s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(s=this._channel.codec.encodeSetRTCData(t,n,r,i,o),a=new br(Or[Or.rtcSetData],s,e),[4,this._channel.send(a)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,c.sent().code]}}))}))},t.prototype.setRTCTotalRes=function(e,t,n,r,i){return _(this,void 0,void 0,(function(){var o,s;return b(this,(function(a){switch(a.label){case 0:return this._channel?(o=this._channel.codec.encodeUserSetRTCData(t,n,r,i),s=new Sr(Or[Or.userSetData],o,e),[4,this._channel.send(s)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,a.sent().code]}}))}))},t.prototype.setRTCCDNUris=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){switch(o.label){case 0:return this._channel?(r=this._channel.codec.encodeUserSetRTCCDNUris(t,n),i=new Sr(Or[Or.userSetData],r,e),[4,this._channel.send(i)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,o.sent().code]}}))}))},t.prototype.getRTCData=function(e,t,n,r){if(!this._channel)return Promise.resolve({code:ae.RC_NET_CHANNEL_INVALID});var i=this._channel.codec.encodeGetRTCData(t,n,r),o=new Sr(Or[Or.rtcQryData],i,e);return this._channel.send(o,kt)},t.prototype.removeRTCData=function(e,t,n,r,i){return _(this,void 0,void 0,(function(){var o,s;return b(this,(function(a){switch(a.label){case 0:return this._channel?(o=this._channel.codec.encodeRemoveRTCData(t,n,r,i),s=new br(Or[Or.rtcDelData],o,e),[4,this._channel.send(s)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,a.sent().code]}}))}))},t.prototype.setRTCOutData=function(e,t,n,r){throw new Error("JSEngine's method not implemented.")},t.prototype.getRTCOutData=function(e,t){throw new Error("JSEngine's method not implemented.")},t.prototype.getRTCToken=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i;return b(this,(function(o){return this._channel?(r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Sr(Or[Or.rtcToken],r,e),[2,this._channel.send(i,Ut)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}]}))}))},t.prototype.setRTCState=function(e,t){return _(this,void 0,void 0,(function(){var n,r;return b(this,(function(i){switch(i.label){case 0:return this._channel?(n=this._channel.codec.encodeSetRTCState(t),r=new Sr(Or[Or.rtcUserState],n,e),[4,this._channel.send(r)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return[2,i.sent().code]}}))}))},t.prototype.getRTCUserInfo=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(e){throw new Error("Method not implemented.")}))}))},t.prototype.getRTCUserList=function(e){if(!this._channel)return Promise.resolve({code:ae.RC_NET_CHANNEL_INVALID});var t=this._channel.codec.encodeGetRTCRoomInfo(),n=new Sr(Or[Or.rtcUList],t,e);return this._channel.send(n,Ot)},t.prototype.joinLivingRoomAsAudience=function(e,t,n){return void 0===t&&(t=_e.LIVE),_(this,void 0,void 0,(function(){var r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(r=this._channel.codec.encodeJoinRTCRoom(t,n),i=new Sr(Or[Or.viewerJoinR],r,e),[4,this._channel.send(i,Ut)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return o=c.sent(),s=o.code,a=o.data,s!==ae.SUCCESS?[2,{code:s}]:(this._rtcKVManager.pullEntry(e,0),[2,{code:s,data:{token:a.rtcToken}}])}}))}))},t.prototype.quitLivingRoomAsAudience=function(e){return _(this,void 0,void 0,(function(){var t,n,r;return b(this,(function(i){switch(i.label){case 0:return this._channel?(t=this._channel.codec.encodeQuitRTCRoom(),n=new Sr(Or[Or.viewerExitR],t,e),[4,this._channel.send(n)]):[2,ae.RC_NET_CHANNEL_INVALID];case 1:return r=i.sent().code,this._rtcKVManager.reset(),[2,r]}}))}))},t.prototype.rtcIdentityChange=function(e,t,n){return _(this,void 0,void 0,(function(){var r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._channel?(r=this._channel.codec.encodeIdentityChangeInfo(t,n),i=new Sr(Or[Or.rtcIdentityChange],r,e),[4,this._channel.send(i,Ot)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return o=c.sent(),s=o.code,a=o.data,s===ae.SUCCESS&&t===we.AnchorToViewer&&(this._rtcKVManager.reset(),this._rtcKVManager.pullEntry(e,0)),s!==ae.SUCCESS?[2,{code:s}]:[2,{code:s,data:a}]}}))}))},t.prototype.pullRTCRoomEntry=function(e,t){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u;return b(this,(function(l){switch(l.label){case 0:return n=(t=this)._channel,r=t.currentUserId,n?(ne.info("audience in room start pull KV"),i=n.codec.encodePullRTCRoomKV(e,0),o=new Sr(Or[Or.rtcPullKv],i,r),[4,n.send(o,En)]):[2,{code:ae.RC_NET_CHANNEL_INVALID}];case 1:return s=l.sent(),a=s.code,c=s.data,ne.info("audience in room end pull KV, code: "+a+", data: "+JSON.stringify(c||{})),a===ae.SUCCESS?(u=c.kvEntries,this._watcher.onRTCDataChange(u,e),[2,{code:a,data:c}]):[2,{code:a}]}}))}))},t.prototype.getDeviceId=function(){return ai(this.runtime)},t.prototype.callExtra=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Promise.resolve({code:ae.EXTRA_METHOD_UNDEFINED})},t.prototype.clearConversations=function(){throw new Error("Method not implemented.")},t.prototype.setUserStatusListener=function(e,t){throw new Error("Method not implemented.")},t.prototype.setUserStatus=function(e){throw new Error("Method not implemented.")},t.prototype.subscribeUserStatus=function(e){throw new Error("Method not implemented.")},t.prototype.getUserStatus=function(e){throw new Error("Method not implemented.")},t.prototype.addToBlacklist=function(e){throw new Error("Method not implemented.")},t.prototype.removeFromBlacklist=function(e){throw new Error("Method not implemented.")},t.prototype.getBlacklist=function(){throw new Error("Method not implemented.")},t.prototype.getBlacklistStatus=function(e){throw new Error("Method not implemented.")},t.prototype.insertMessage=function(e,t,n){throw new Error("Method not implemented.")},t.prototype.deleteMessages=function(e){throw new Error("Method not implemented.")},t.prototype.deleteMessagesByTimestamp=function(e,t,n,r,i){throw new Error("Method not implemented.")},t.prototype.clearMessages=function(e,t,n){throw new Error("Method not implemented.")},t.prototype.getMessage=function(e){throw new Error("Method not implemented.")},t.prototype.setMessageContent=function(e,t,n){throw new Error("Method not implemented.")},t.prototype.setMessageSearchField=function(e,t,n){throw new Error("Method not implemented.")},t.prototype.searchConversationByContent=function(e,t,n,r){throw new Error("Method not implemented.")},t.prototype.searchMessageByContent=function(e,t,n,r,i,o){throw new Error("Method not implemented.")},t.prototype.getUnreadMentionedMessages=function(e,t){throw new Error("Method not implemented.")},t.prototype.setMessageSentStatus=function(e,t){throw new Error("Method not implemented.")},t.prototype.setMessageReceivedStatus=function(e,t){throw new Error("Method not implemented.")},t.prototype.clearUnreadCountByTimestamp=function(e,t,n,r){throw new Error("Method not implemented.")},t.prototype.getConversationNotificationStatus=function(e,t,n){throw new Error("Method not implemented.")},t.prototype.getRemoteHistoryMessages=function(e,t,n,r,i,o){throw new Error("Method not implemented.")},t}(kr),fi=function(){function e(e){this._context=e}return e.prototype.getCoreVersion=function(){return this._context.coreVersion},e.prototype.getAPIVersion=function(){return this._context.apiVersion},e.prototype.getAppkey=function(){return this._context.appkey},e.prototype.getCurrentId=function(){return this._context.getCurrentUserId()},e.prototype.getConnectionStatus=function(){return this._context.getConnectionStatus()},e.prototype.getDeviceId=function(){return this._context.getDeviceId()},e.prototype.sendMessage=function(e,t,n){return this._context.sendMessage(e,t,n)},e.prototype.registerMessageType=function(e,t,n,r){void 0===r&&(r=[]),this._context.registerMessageType(e,t,n,r)},e.prototype.getServerTime=function(){return this._context.getServerTime()},e}(),di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.getNaviInfo=function(){return this._context.getInfoFromCache()},t.prototype.joinRTCRoom=function(e,t,n){return this._context.joinRTCRoom(e,t,n)},t.prototype.quitRTCRoom=function(e){return this._context.quitRTCRoom(e)},t.prototype.rtcPing=function(e,t,n){return this._context.rtcPing(e,t,n)},t.prototype.getRTCRoomInfo=function(e){return this._context.getRTCRoomInfo(e)},t.prototype.getRTCUserInfoList=function(e){return this._context.getRTCUserInfoList(e)},t.prototype.getRTCUserInfo=function(e){return this._context.getRTCUserInfo(e)},t.prototype.setRTCUserInfo=function(e,t,n){return this._context.setRTCUserInfo(e,t,n)},t.prototype.removeRTCUserInfo=function(e,t){return this._context.removeRTCUserInfo(e,t)},t.prototype.setRTCData=function(e,t,n,r,i,o){return this._context.setRTCData(e,t,n,r,i,o)},t.prototype.setRTCTotalRes=function(e,t,n,r,i){return this._context.setRTCTotalRes(e,t,n,r,i)},t.prototype.setRTCCDNUris=function(e,t,n){return this._context.setRTCCDNUris(e,t,n)},t.prototype.getRTCData=function(e,t,n,r){return this._context.getRTCData(e,t,n,r)},t.prototype.removeRTCData=function(e,t,n,r,i){return this._context.removeRTCData(e,t,n,r,i)},t.prototype.setRTCOutData=function(e,t,n,r){return this._context.setRTCOutData(e,t,n,r)},t.prototype.getRTCOutData=function(e,t){return this._context.getRTCOutData(e,t)},t.prototype.getRTCToken=function(e,t,n){return this._context.getRTCToken(e,t,n)},t.prototype.setRTCState=function(e,t){return this._context.setRTCState(e,t)},t.prototype.getRTCUserList=function(e){return this._context.getRTCUserList(e)},t.prototype.joinLivingRoomAsAudience=function(e,t,n){return this._context.joinLivingRoomAsAudience(e,t,n)},t.prototype.quitLivingRoomAsAudience=function(e){return this._context.quitLivingRoomAsAudience(e)},t.prototype.rtcIdentityChange=function(e,t,n){return this._context.rtcIdentityChange(e,t,n)},t.prototype.pullRTCRoomEntry=function(e,t){return this._context.pullRTCRoomEntry(e,t)},t}(fi),hi=function(){function e(){}return e.compress=function(e){for(var t=this,n={},r=0;r<e.length-1;r++){var i=e.charAt(r)+e.charAt(r+1);n.hasOwnProperty(i)?n[i].push(r):n[i]=[r]}for(var o=[],s=[],a=function(){if(s.length>0){var e=s.join("");if(s=[],e.length>26){var n=t.numberEncode(e.length),r=String.fromCharCode(t.dataType.NormalExt|n.length);o.push(r+n)}else{var i=String.fromCharCode(t.dataType.Normal|e.length);o.push(i)}o.push(e)}},c=0;c<e.length;){var u=t.indexOf(n,e,c);if(u.length<2)s.push(e.charAt(c++));else if(u.length<4)s.push(e.substr(c,u.length)),c+=u.length;else{var l=t.numberEncode(c-u.offset),f=t.numberEncode(u.length);if(l.length+f.length>=u.length)s.push(e.substr(c,u.length)),c+=u.length;else{a();var d=String.fromCharCode(t.dataType.Compressed|l.length<<2|f.length);o.push(d+l+f),c+=u.length}}}a();var h=t.numberEncode(e.length),p=String.fromCharCode(t.dataType.Tail|h.length);return o.push(p+h),o.join("")},e.uncompress=function(e){var t=this,n=0,r="";e:do{var i=e.charCodeAt(n++),o=i&t.dataType.Mark,s=15&i,a=void 0;switch(o){case t.dataType.Compressed:var c=s>>2,u=3&s;if(0===c||0===u)throw new Error("Data parsing error,at "+n);var l=t.numberDecode(e.substr(n,c)),f=t.numberDecode(e.substr(n+=c,u));if((l=r.length-l)+f>r.length)throw new Error("Data parsing error,at "+n);n+=u,r+=r.substr(l,f);break;case t.dataType.Tail:if((a=t.numberDecode(e.substr(n,s)))!==r.length)throw console.log(r.length),console.log(a),new Error("Data parsing error,at "+n);n+=s;break e;case t.dataType.NormalExt:a=t.numberDecode(e.substr(n,s)),r+=e.substr(n+=s,a),n+=a;break;case t.dataType.Normal:r+=e.substr(n,s),n+=s;break;case t.dataType.Mark:if(s>10)throw new Error("Data parsing error,at "+n);r+=e.substr(n,16+s),n+=16+s;break;default:throw new Error("Data parsing error,at "+n+" header:"+o)}}while(n<e.length);return r},e.indexOf=function(e,t,n){var r={length:0,offset:-1};if(t.length,n>=t.length-1)return r;var i=e[t.charAt(n)+t.charAt(n+1)];if(i[0]===n)return r;for(var o=t.length-n,s=0,a=i.length;s<a;s++){var c=i[s],u=n-c;if(!(u>this.max)){var l=Math.min(o,u);if(l<=r.length)break;if(!(r.length>2&&t.charAt(c+r.length-1)!==t.charAt(n+r.length-1))){for(var f=2,d=f;d<l&&t.charAt(c+d)===t.charAt(n+d);d++)f++;f>=r.length&&(r.length=f,r.offset=c)}}}return r},e.numberEncode=function(e){var t=this,n=[],r=0;do{r=e%t.scale,n.push(t.chars.charAt(r)),e=(e-r)/t.scale}while(e>0);return n.join("")},e.numberDecode=function(e){for(var t=0,n=0,r=e.length-1;r>=0;r--){if(-1===(n=this.chars.indexOf(e.charAt(r))))throw new Error('decode number error, data is "'+e+'"');t=t*this.scale+n}return t},e.dataType={Tail:48,Compressed:64,NormalExt:80,Normal:96,Mark:112},e.chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",e.scale=e.chars.length,e.max=238327,e}(),pi=1,gi=!1,mi="undefined"!=typeof location&&"https://"===location.protocol?"https://":"http://",vi=function(){function e(e){this.info=e,this.logUrl="logcollection.ronghub.com",this.level=1,this.itv=30,this.times=5,this.deviceId="",this.deviceInfo="",this.logSwitch=0,this.logUrl=e.logPolicy.url||this.logUrl,this.level=e.logPolicy.level||this.level,this.itv=e.logPolicy.itv||this.itv,this.times=e.logPolicy.times||this.times,this.deviceId=ai(e.runtime),this.logSwitch=e.logSwitch;var t=Ye(e.runtime);this.deviceInfo=t.type+"|"+t.version+"|"+te.sessionId,this.startReport()}return e.init=function(t){return gi=!0,e._instance||(e._instance=new e(t)),e._instance},e.getInstance=function(){return e._instance},e.prototype.startReport=function(){var e=this;if(this.logSwitch&&gi){var t=this.itv*Math.pow(2,pi-1);pi<this.times&&pi++,setTimeout((function(){e.reportRealtimeLog()}),1e3*t)}},e.prototype.reportRealtimeLog=function(){var e=this,t=te.realTimeLogList.filter((function(t){return t.level<=e.level}));if(0!==t.length){var n=hi.compress(t.map((function(e){return e.content})).join("")),r=""+mi+this.logUrl+"?version="+this.info.version+"&appkey="+this.info.appkey+"&userId="+this.info.userId+"&deviceId="+this.deviceId+"&deviceInfo="+this.deviceInfo+"&platform=Web";this.info.runtime.httpReq({method:"POST",url:r,body:n}).then((function(t){ne.__clearRealTimeLog(),ne.debug("report real-time log success");var n=t.data;n&&(n=JSON.parse(n),e.itv=n.nextTime,e.level=n.level,e.logSwitch=n.logSwitch,pi=1),e.startReport()})).catch((function(t){ne.debug("report real-time log error -> "+t),e.startReport()}))}else this.startReport()},e.prototype.reportFullLog=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,l,f=this;return b(this,(function(d){switch(d.label){case 0:return t=e.startTime,n=e.endTime,r=e.platform,i=e.logId,o=e.uri,s=M.getInstance(),"web"===r.toLowerCase()&&s?t>n?(ne.warn("report error: The start time("+t+") cannot be greater than the end time("+t+")"),[2]):[4,ne.__insertLogIntoDatabase()]:[2];case 1:return d.sent(),[4,s.getRangeData(O,"time",t,n)];case 2:return a=(a=d.sent()).filter((function(e){return!e.userId||e.userId===f.info.userId})),c=hi.compress(a.map((function(e){return e.content})).join("")||"no data"),u=1,(l=function(){if(!(u>3)&&gi){var e=o||f.logUrl,t=""+mi+e+"?version="+f.info.version+"&appkey="+f.info.appkey+"&userId="+f.info.userId+"&logId="+i+"&deviceId="+f.deviceId+"&deviceInfo="+f.deviceInfo+"&platform=Web",n=5e3*(u-1);u++,setTimeout((function(){gi&&f.info.runtime.httpReq({url:t,method:"POST",body:c}).then((function(){ne.debug("report full log success!")})).catch((function(e){l(),ne.warn("report full log error -> "+e)}))}),n)}})(),[2]}}))}))},e.prototype.distroy=function(){pi=1,gi=!1},e}();function yi(e){return Object.assign({},e)}var _i,bi=function(){function e(e,t){var n;this._runtime=e,this._token="",this._pluginContextQueue=[],this._pluginInstanseMap={},this.coreVersion="4.4.8",this._versionInfo={},this._typingInfo={},this._isInternalConnected=!1,this._connectionStatus=ue.DISCONNECTED,this._canRedirectConnect=!1,this._watcher={message:void 0,conversationState:void 0,chatroomState:void 0,connectionState:void 0,rtcInnerWatcher:void 0,expansion:void 0,tag:void 0,conversationTagChanged:void 0,typingState:void 0,pullFinished:void 0},this._typingInternalTimer=-1,this._typingExpireTime=2e3,this._typingChangedList=[],this._options=Object.assign({},t),this.appkey=this._options.appkey,this.apiVersion=this._options.apiVersion,this._options.typingExpireTime&&(this._options.typingExpireTime<2e3?this._typingExpireTime=2e3:this._options.typingExpireTime>6e3?this._typingExpireTime=6e3:this._typingExpireTime=this._options.typingExpireTime),this._options.navigators=this._options.navigators.filter((function(e){return/^https?:\/\//.test(e)})),this._options.navigators=this._options.navigators.map((function(e){return e.replace(/\/$/g,"")})),0===this._options.navigators.length&&(n=this._options.navigators).push.apply(n,a);var r={status:this._connectionStatusListener.bind(this),message:this._messageReceiver.bind(this),chatroom:this._chatroomInfoListener.bind(this),conversation:this._conversationInfoListener.bind(this),expansion:this._expansionInfoListener.bind(this),tag:this._tagListener.bind(this),conversationTag:this._conversationTagListener.bind(this),onRTCDataChange:this._rtcDataChange.bind(this),pullFinished:this._pullFinishedLister.bind(this)};this._engine=Ke()?new RCCppEngine(e,r,this._options):new li(e,r,this._options)}return e.init=function(t,n){return ne.setLogLevel(n.logLevel),ne.setLogStdout(n.logStdout),(n.indexDBSwitch||K(n.indexDBSwitch))&&M.init(),ne.debug("APIContext.init =>",n.appkey,n.navigators),this._context?(ne.error("Repeat initialize!"),this._context):(ne.warn("RCEngine Commit:","b02698659281b05974a4e2b5b71282e6ffec6d39"),this._context=new e(t,n),ne.__insertLogIntoDatabase(),this._context)},e.destroy=function(){this._context&&(this._context._destroy(),this._context=void 0)},e.prototype.install=function(e,t){if(this._pluginInstanseMap[e.tag])return ne.warn("Repeat install plugin: "+e.tag),this._pluginInstanseMap[e.tag];var n="RCRTC"===e.tag?new di(this):new fi(this),r=null;try{if(!e.verify(this._runtime))return null;r=e.setup(n,this._runtime,t)}catch(e){ne.error("install plugin error!\n",e)}return["RCRTC","RCCall"].includes(e.tag)&&e.version&&e.name&&(this._versionInfo[e.name]=e.version),r&&this._pluginContextQueue.push(n),r&&(this._pluginInstanseMap[e.tag]=r),r},e.prototype._handleRedirect=function(){return _(this,void 0,void 0,(function(){var e=this;return b(this,(function(t){switch(t.label){case 0:return ne.debug("_handleRedirct",this._token),[4,this.connect(this._token,!0)];case 1:return t.sent().code!==ae.SUCCESS&&this._canRedirectConnect&&setTimeout((function(){e._handleRedirect()}),5e3),[2]}}))}))},e.prototype._connectionStatusListener=function(e){var t;return _(this,void 0,void 0,(function(){return b(this,(function(n){return e===ue.REDIRECT&&(this._canRedirectConnect=!0,this._handleRedirect()),e!==ue.BLOCKED&&e!==ue.KICKED_OFFLINE_BY_OTHER_CLIENT&&e!==ue.DISCONNECT_BY_SERVER||(this._canRedirectConnect=!1),this._connectionStatus=e,(null===(t=this._watcher.rtcInnerWatcher)||void 0===t?void 0:t.status)&&this._watcher.rtcInnerWatcher.status(e),this._pluginContextQueue.forEach((function(t){t.onconnectionstatechange&&t.onconnectionstatechange(e)})),this._watcher.connectionState&&this._watcher.connectionState(e),[2]}))}))},e.prototype._messageReceiver=function(e,t,n){var r;if((e.conversationType===U.RTC_ROOM||Object.prototype.hasOwnProperty.call(Re,e.messageType))&&this._watcher.rtcInnerWatcher&&this._watcher.rtcInnerWatcher.message)this._watcher.rtcInnerWatcher.message(yi(e));else if("RC:TypSts"!==e.messageType||(this._addTypingInfo(yi(e)),!this._watcher.typingState))if(e.messageType!==de.LOG_COMMAND||"rongcloudsystem"!==e.senderUserId)this._pluginContextQueue.some((function(t){if(!t.onmessage)return!1;try{return t.onmessage(yi(e))}catch(e){return ne.error("plugin error =>",e),!1}}))||this._watcher.message&&this._watcher.message(yi(e),t,n);else{var i=e.content,o=i.startTime,s=i.endTime,a=i.platform,c=i.logId,u=i.uri,l=i.packageName,f={startTime:parseInt(o),endTime:parseInt(s),platform:a,logId:c,uri:u,packageName:l};null===(r=vi.getInstance())||void 0===r||r.reportFullLog(f)}},e.prototype._chatroomInfoListener=function(e){this._watcher.chatroomState&&this._watcher.chatroomState(e)},e.prototype._conversationInfoListener=function(e){this._watcher.conversationState&&this._watcher.conversationState(e)},e.prototype._expansionInfoListener=function(e){this._watcher.expansion&&this._watcher.expansion(e)},e.prototype._tagListener=function(){this._watcher.tag&&this._watcher.tag()},e.prototype._conversationTagListener=function(){this._watcher.conversationTagChanged&&this._watcher.conversationTagChanged()},e.prototype._typingStatusListener=function(e){this._watcher.typingState&&this._watcher.typingState(e)},e.prototype._pullFinishedLister=function(){this._watcher.pullFinished&&this._watcher.pullFinished()},e.prototype._rtcDataChange=function(e,t){this._pluginContextQueue.forEach((function(n){n.onrtcdatachange&&n.onrtcdatachange(e,t)}))},e.prototype.assignWatcher=function(e){var t=this;Object.keys(this._watcher).forEach((function(n){if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];t._watcher[n]=z(r)||G(r)?r:void 0}}))},e.prototype._addTypingInfo=function(e){var t=e.senderUserId,n=e.conversationType,r=e.targetId,i=e.content,o=e.channelId,s=i.typingContentType,a=n+"#"+r+"#"+(o||"");this._typingInfo[a]||(this._typingInfo[a]=[]);var c=this._typingInfo[a].findIndex((function(e){return e.userId===t}));c>=0&&this._typingInfo[a][c].messageType===s?this._typingInfo[a][c].timestamp=Date.now():(c>=0&&this._typingInfo[a].splice(c,1),this._typingInfo[a].push({userId:t,messageType:s,timestamp:Date.now()}),this._typingChangedList.includes(a)||this._typingChangedList.push(a),this._startCheckTypingInfo())},e.prototype._startCheckTypingInfo=function(){var e=this;-1===this._typingInternalTimer&&0!==Object.keys(this._typingInfo).length&&(this._typingInternalTimer=setInterval((function(){for(var t in e._typingInfo){var n=e._typingInfo[t].length;e._typingInfo[t]=e._typingInfo[t].filter((function(t){return Date.now()-t.timestamp<e._typingExpireTime})),e._typingInfo[t].length===n||e._typingChangedList.includes(t)||e._typingChangedList.push(t),0===e._typingInfo[t].length&&delete e._typingInfo[t]}if(e._typingChangedList.length>0){var r=e._typingChangedList.map((function(t){return{conversationType:Number(t.split("#")[0]),targetId:t.split("#")[1],channelId:t.split("#")[2],list:e._typingInfo[t]||[]}}));e._typingStatusListener(r),e._typingChangedList=[]}0===Object.keys(e._typingInfo).length&&(clearInterval(e._typingInternalTimer),e._typingInternalTimer=-1)}),500))},e.prototype.getConnectedTime=function(){return this._engine.getConnectedTime()},e.prototype.getServerTime=function(){return this._engine.getServerTime()},e.prototype.getDeviceId=function(){return this._engine.getDeviceId()},e.prototype.getCurrentUserId=function(){return this._engine.currentUserId},e.prototype.getConnectionStatus=function(){return this._connectionStatus},e.prototype.connect=function(e,t){return void 0===t&&(t=!1),_(this,void 0,void 0,(function(){var n,r,i,o,s,a;return b(this,(function(c){switch(c.label){case 0:return this._connectionStatus===ue.CONNECTED?[2,{code:ae.SUCCESS,userId:this._engine.currentUserId}]:this._connectionStatus===ue.CONNECTING?[2,{code:ae.BIZ_ERROR_CONNECTING}]:"string"!=typeof e||0===e.length?[2,{code:ae.RC_CONN_USER_OR_PASSWD_ERROR}]:(this._token=e,n=e.split("@"),r=n[1],i=r?r.split(";").map((function(e){return/^https?:/.test(e)?e:"https://"+e})):[],[4,this._engine.navi.getInfo(this._getTokenWithoutNavi(),i,t,this._options.checkCA)]);case 1:return(o=c.sent())?1===(null==o?void 0:o.type)?[2,{code:ae.PACKAGE_ENVIRONMENT_ERROR}]:(s=y({engine:this.coreVersion,imlib:this.apiVersion},this._versionInfo),[4,this._engine.connect(this._getTokenWithoutNavi(),o)]):[2,{code:ae.RC_NAVI_RESOURCE_ERROR}];case 2:return a=c.sent(),ne.__insertLogIntoDatabase(),a!==le.REDIRECT?[3,4]:(this._connectionStatus=ue.REDIRECT,[4,this.connect(e,!0)]);case 3:return[2,c.sent()];case 4:return a===ae.SUCCESS&&(ne.info("connect success, userId: "+this._engine.currentUserId),1!==(null==o?void 0:o.type)&&this._engine.reportSDKInfo&&this._engine.reportSDKInfo(s),vi.init({runtime:this._runtime,logSwitch:(null==o?void 0:o.logSwitch)||0,logPolicy:JSON.parse((null==o?void 0:o.logPolicy)||"{}"),appkey:this.appkey,version:this.apiVersion,userId:this._engine.currentUserId}),te.init(this._engine.currentUserId),this._isInternalConnected=!0),a!==ae.SUCCESS||Ke()||1===o.openUS&&this._pullUserSettings(),a!==ae.SUCCESS&&(this._connectionStatus=ue.CONNECTION_CLOSED),[2,{code:a,userId:this._engine.currentUserId}]}}))}))},e.prototype._pullUserSettings=function(){return _(this,void 0,void 0,(function(){return b(this,(function(e){return[2]}))}))},e.prototype.disconnect=function(){var e;return this._isInternalConnected=!1,clearInterval(this._typingInternalTimer),this._typingInternalTimer=-1,null===(e=vi.getInstance())||void 0===e||e.distroy(),ne.__insertLogIntoDatabase(),te.reset(),this._engine.disconnect(),this._pluginContextQueue.forEach((function(e){if(e.ondisconnect)try{e.ondisconnect()}catch(e){ne.error("plugin error =>",e)}})),Promise.resolve()},e.prototype.reconnect=function(){return this._isInternalConnected?Promise.resolve({code:ae.CAN_NOT_RECONNECT}):this.connect(this._getTokenWithoutNavi())},e.prototype._getTokenWithoutNavi=function(){return this._token.replace(/@.+$/,"@")},e.prototype.getInfoFromCache=function(){return this._engine.navi.getInfoFromCache(this._getTokenWithoutNavi())},e.prototype.registerMessageType=function(e,t,n,r){void 0===r&&(r=[]),this._engine.registerMessageType(e,t,n,r)},e.prototype.sendMessage=function(e,t,n,r){var i=this.getInfoFromCache();if(1===((null==i?void 0:i.grpRRVer)||0)&&n.messageType===de.READ_RECEIPT_RESPONSE)return Promise.resolve({code:ae.READ_RECEIPT_ERROR});var o=JSON.stringify(n.content);return T(o)>131072?Promise.resolve({code:ae.RC_MSG_CONTENT_EXCEED_LIMIT}):this._engine.sendMessage(e,t,n,r)},e.prototype.sendExpansionMessage=function(e){return _(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,l,f,d,h,p,g,m;return b(this,(function(v){switch(v.label){case 0:if(t=e.channelId,n=e.conversationType,r=e.targetId,i=e.messageUId,o=e.keys,s=e.expansion,a=e.originExpansion,c=e.removeAll,!e.canIncludeExpansion)return[2,{code:ae.MESSAGE_KV_NOT_SUPPORT}];if(u=!1,l=!1,G(s))for(p in a=a||{},f=Object.keys(s).length,d=Object.assign(a,s),h=Object.keys(d).length,u=h>300||f>20,s)g=s[p],u=p.length>32||g.length>64,l=!/^[A-Za-z0-9_=+-]+$/.test(p);return u?[2,{code:ae.EXPANSION_LIMIT_EXCEET}]:l?[2,{code:ae.BIZ_ERROR_INVALID_PARAMETER}]:(m={mid:i},s&&(m.put=s),o&&(m.del=o),c&&(m.removeAll=1),[4,this._engine.sendMessage(n,r,{content:m,messageType:de.EXPANSION_NOTIFY,channelId:t})]);case 1:return[2,{code:v.sent().code}]}}))}))},e.prototype.sendReadReceiptMessage=function(e,t,n){return _(this,void 0,void 0,(function(){var r;return b(this,(function(i){return r=this.getInfoFromCache(),0===((null==r?void 0:r.grpRRVer)||0)?[2,{code:ae.READ_RECEIPT_ERROR,data:"The read receipt switch is not on, please call the sendMessage method!"}]:[2,this._engine.sendReadReceiptMessage(e,t,n)]}))}))},e.prototype.getMessageReader=function(e,t,n){return _(this,void 0,void 0,(function(){var r;return b(this,(function(i){return r=this.getInfoFromCache(),0===((null==r?void 0:r.grpRRVer)||0)?[2,{code:ae.READ_RECEIPT_ERROR}]:[2,this._engine.getMessageReader(e,t,n)]}))}))},e.prototype._destroy=function(){var e;this._isInternalConnected=!1,this._watcher={message:void 0,conversationState:void 0,chatroomState:void 0,connectionState:void 0,rtcInnerWatcher:void 0,expansion:void 0,tag:void 0,conversationTagChanged:void 0,typingState:void 0,pullFinished:void 0},this._engine.disconnect(),this._pluginContextQueue.forEach((function(e){if(e.ondestroy)try{e.ondestroy()}catch(e){ne.error("plugin error =>",e)}})),this._pluginContextQueue.length=0,this._pluginInstanseMap={},null===(e=vi.getInstance())||void 0===e||e.distroy(),te.reset()},e.prototype.getHistoryMessage=function(e,t,n,r,i,o,s){return void 0===n&&(n=0),void 0===r&&(r=20),void 0===i&&(i=0),void 0===o&&(o=""),void 0===s&&(s=""),this._engine.getHistoryMessage(e,t,n,r,i,o,s||"")},e.prototype.getConversationList=function(e,t,n,r,i){return void 0===e&&(e=300),void 0===i&&(i=""),this._engine.getConversationList(e,t,n,r,i)},e.prototype.getConversation=function(e,t,n){return this._engine.getConversation(e,t,n)},e.prototype.removeConversation=function(e,t,n){return void 0===n&&(n=""),this._engine.removeConversation(e,t,n)},e.prototype.clearUnreadCount=function(e,t,n){return void 0===n&&(n=""),this._engine.clearConversationUnreadCount(e,t,n)},e.prototype.getUnreadCount=function(e,t,n){return void 0===n&&(n=""),this._engine.getConversationUnreadCount(e,t,n)},e.prototype.getTotalUnreadCount=function(e,t,n){return this._engine.getAllConversationUnreadCount(e,t&&t.length>0?t:[U.PRIVATE,U.GROUP,U.SYSTEM,U.PUBLIC_SERVICE],!!n)},e.prototype.getFirstUnreadMessage=function(e,t,n){return void 0===n&&(n=""),this._engine.getFirstUnreadMessage(e,t,n)},e.prototype.setConversationStatus=function(e,t,n,r,i){void 0===i&&(i="");var o=[{conversationType:e,targetId:t,isTop:n,notificationStatus:r,channelId:i}];return this._engine.batchSetConversationStatus(o)},e.prototype.saveConversationMessageDraft=function(e,t,n){return this._engine.saveConversationMessageDraft(e,t,n)},e.prototype.getConversationMessageDraft=function(e,t){return this._engine.getConversationMessageDraft(e,t)},e.prototype.clearConversationMessageDraft=function(e,t){return this._engine.clearConversationMessageDraft(e,t)},e.prototype.recallMessage=function(e,t,n,r,i){return this._engine.recallMsg(e,t,n,r,i)},e.prototype.deleteRemoteMessage=function(e,t,n,r){return void 0===r&&(r=""),this._engine.deleteRemoteMessage(e,t,n,r)},e.prototype.deleteRemoteMessageByTimestamp=function(e,t,n,r){return void 0===r&&(r=""),this._engine.deleteRemoteMessageByTimestamp(e,t,n,r)},e.prototype.joinChatroom=function(e,t){return void 0===t&&(t=10),this._engine.joinChatroom(e,t)},e.prototype.joinExistChatroom=function(e,t){return void 0===t&&(t=10),this._engine.joinExistChatroom(e,t)},e.prototype.quitChatroom=function(e){return this._engine.quitChatroom(e)},e.prototype.getChatroomInfo=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),this._engine.getChatroomInfo(e,t,n)},e.prototype.setChatroomEntry=function(e,t){var n=t.key,r=t.value;return Ve(n)&&Fe(r)?this._engine.setChatroomEntry(e,t):Promise.resolve(ae.BIZ_ERROR_INVALID_PARAMETER)},e.prototype.forceSetChatroomEntry=function(e,t){var n=t.key,r=t.value;return Ve(n)&&Fe(r)?this._engine.forceSetChatroomEntry(e,t):Promise.resolve(ae.BIZ_ERROR_INVALID_PARAMETER)},e.prototype.removeChatroomEntry=function(e,t){var n=t.key;return Ve(n)?this._engine.removeChatroomEntry(e,t):Promise.resolve(ae.BIZ_ERROR_INVALID_PARAMETER)},e.prototype.forceRemoveChatroomEntry=function(e,t){var n=t.key;return Ve(n)?this._engine.forceRemoveChatroomEntry(e,t):Promise.resolve(ae.BIZ_ERROR_INVALID_PARAMETER)},e.prototype.getChatroomEntry=function(e,t){return this._engine.getChatroomEntry(e,t)},e.prototype.getAllChatroomEntries=function(e){return this._engine.getAllChatroomEntry(e)},e.prototype.getChatRoomHistoryMessages=function(e,t,n,r){return void 0===t&&(t=20),void 0===n&&(n=0),void 0===r&&(r=0),this._engine.getChatroomHistoryMessages(e,r,t,n)},e.prototype.getFileToken=function(e,t,n,r){return _(this,void 0,void 0,(function(){var i,o,s,a,c,u,l;return b(this,(function(f){switch(f.label){case 0:return i=this.getInfoFromCache(),o=(null==i?void 0:i.bosAddr)||"",s=(null==i?void 0:i.uploadServer)||"",a=(null==i?void 0:i.ossConfig)||"",[4,this._engine.getFileToken(e,t,n,r)];case 1:return c=f.sent(),u=c.code,l=c.data,u===ae.SUCCESS?[2,Promise.resolve(Object.assign(l,{bos:o,qiniu:s,ossConfig:a}))]:[2,Promise.reject(u)]}}))}))},e.prototype.getFileUrl=function(e,t,n,r,i){return void 0===i&&(i=ye.QINIU),_(this,void 0,void 0,(function(){var o,s,a;return b(this,(function(c){switch(c.label){case 0:return(null==r?void 0:r.isBosRes)?[2,Promise.resolve(r)]:[4,this._engine.getFileUrl(e,i,t,n)];case 1:return o=c.sent(),s=o.code,a=o.data,s===ae.SUCCESS?[2,Promise.resolve(a)]:[2,Promise.reject(s)]}}))}))},e.prototype.createTag=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.createTag(e)]}))}))},e.prototype.removeTag=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.removeTag(e)]}))}))},e.prototype.updateTag=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.updateTag(e)]}))}))},e.prototype.getTagList=function(){return _(this,void 0,void 0,(function(){return b(this,(function(e){return[2,this._engine.getTagList()]}))}))},e.prototype.addTagForConversations=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return t.length>1e3?[2,Promise.reject(ae.CONVER_OUT_LIMIT_ERROR)]:[2,this._engine.addTagForConversations(e,t)]}))}))},e.prototype.removeTagForConversations=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._engine.removeTagForConversations(e,t)]}))}))},e.prototype.removeTagsForConversation=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._engine.removeTagsForConversation(e,t)]}))}))},e.prototype.getConversationListByTag=function(e,t,n,r){return _(this,void 0,void 0,(function(){return b(this,(function(i){return[2,this._engine.getConversationListByTag(e,t,n,r)]}))}))},e.prototype.getUnreadCountByTag=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._engine.getUnreadCountByTag(e,t)]}))}))},e.prototype.setConversationStatusInTag=function(e,t,n){return _(this,void 0,void 0,(function(){return b(this,(function(r){return[2,this._engine.setConversationStatusInTag(e,t,n)]}))}))},e.prototype.getTagsForConversation=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.getTagsForConversation(e)]}))}))},e.prototype.callExtra=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this._engine).callExtra.apply(t,C([e],n))},e.prototype.clearConversations=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){switch(n.label){case 0:return[4,this._engine.clearConversations(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.setUserStatusListener=function(e,t){return this._engine.setUserStatusListener(e,(function(e){try{t(e)}catch(e){ne.error(e)}}))},e.prototype.addToBlacklist=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.addToBlacklist(e)]}))}))},e.prototype.removeFromBlacklist=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.removeFromBlacklist(e)]}))}))},e.prototype.getBlacklist=function(){return _(this,void 0,void 0,(function(){return b(this,(function(e){return[2,this._engine.getBlacklist()]}))}))},e.prototype.getBlacklistStatus=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.getBlacklistStatus(e)]}))}))},e.prototype.insertMessage=function(e,t,n){return _(this,void 0,void 0,(function(){return b(this,(function(r){return[2,this._engine.insertMessage(e,t,n)]}))}))},e.prototype.deleteMessages=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.deleteMessages(e)]}))}))},e.prototype.deleteMessagesByTimestamp=function(e,t,n,r,i){return void 0===i&&(i=""),_(this,void 0,void 0,(function(){return b(this,(function(o){return[2,this._engine.deleteMessagesByTimestamp(e,t,n,r,i)]}))}))},e.prototype.clearMessages=function(e,t,n){return void 0===n&&(n=""),_(this,void 0,void 0,(function(){return b(this,(function(r){return[2,this._engine.clearMessages(e,t,n)]}))}))},e.prototype.getMessage=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.getMessage(e)]}))}))},e.prototype.setMessageContent=function(e,t,n){return _(this,void 0,void 0,(function(){return b(this,(function(r){return[2,this._engine.setMessageContent(e,t,n)]}))}))},e.prototype.setMessageSearchField=function(e,t,n){return _(this,void 0,void 0,(function(){return b(this,(function(r){return[2,this._engine.setMessageSearchField(e,t,n)]}))}))},e.prototype.setMessageSentStatus=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._engine.setMessageSentStatus(e,t)]}))}))},e.prototype.setMessageReceivedStatus=function(e,t){return _(this,void 0,void 0,(function(){return b(this,(function(n){return[2,this._engine.setMessageReceivedStatus(e,t)]}))}))},e.prototype.setUserStatus=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.setUserStatus(e)]}))}))},e.prototype.subscribeUserStatus=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.subscribeUserStatus(e)]}))}))},e.prototype.getUserStatus=function(e){return _(this,void 0,void 0,(function(){return b(this,(function(t){return[2,this._engine.getUserStatus(e)]}))}))},e.prototype.searchConversationByContent=function(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=""),_(this,void 0,void 0,(function(){return b(this,(function(i){return[2,this._engine.searchConversationByContent(e,t,n,r)]}))}))},e.prototype.searchMessageByContent=function(e,t,n,r,i,o,s){return void 0===s&&(s=""),_(this,void 0,void 0,(function(){return b(this,(function(a){return[2,this._engine.searchMessageByContent(e,t,n,r,i,o,s)]}))}))},e.prototype.getUnreadMentionedMessages=function(e,t,n){return void 0===n&&(n=""),this._engine.getUnreadMentionedMessages(e,t,n)},e.prototype.clearUnreadCountByTimestamp=function(e,t,n,r){return void 0===r&&(r=""),this._engine.clearUnreadCountByTimestamp(e,t,n,r)},e.prototype.getConversationNotificationStatus=function(e,t,n){return void 0===n&&(n=""),this._engine.getConversationNotificationStatus(e,t,n)},e.prototype.getRemoteHistoryMessages=function(e,t,n,r,i,o){return this._engine.getRemoteHistoryMessages(e,t,n,r,i,o)},e.prototype.joinRTCRoom=function(e,t,n){return this._engine.joinRTCRoom(e,t,n)},e.prototype.quitRTCRoom=function(e){return this._engine.quitRTCRoom(e)},e.prototype.rtcPing=function(e,t,n){return this._engine.rtcPing(e,t,n)},e.prototype.getRTCRoomInfo=function(e){return this._engine.getRTCRoomInfo(e)},e.prototype.getRTCUserInfoList=function(e){return this._engine.getRTCUserInfoList(e)},e.prototype.getRTCUserInfo=function(e){return this._engine.getRTCUserInfo(e)},e.prototype.setRTCUserInfo=function(e,t,n){return this._engine.setRTCUserInfo(e,t,n)},e.prototype.removeRTCUserInfo=function(e,t){return this._engine.removeRTCUserInfo(e,t)},e.prototype.setRTCData=function(e,t,n,r,i,o){return this._engine.setRTCData(e,t,n,r,i,o)},e.prototype.setRTCTotalRes=function(e,t,n,r,i){return void 0===i&&(i=""),this._engine.setRTCTotalRes(e,t,n,r,i)},e.prototype.setRTCCDNUris=function(e,t,n){return this._engine.setRTCCDNUris(e,t,n)},e.prototype.getRTCData=function(e,t,n,r){return this._engine.getRTCData(e,t,n,r)},e.prototype.removeRTCData=function(e,t,n,r,i){return this._engine.removeRTCData(e,t,n,r,i)},e.prototype.setRTCOutData=function(e,t,n,r){return this._engine.setRTCOutData(e,t,n,r)},e.prototype.getRTCOutData=function(e,t){return this._engine.getRTCOutData(e,t)},e.prototype.getRTCToken=function(e,t,n){return this._engine.getRTCToken(e,t,n)},e.prototype.setRTCState=function(e,t){return this._engine.setRTCState(e,t)},e.prototype.getRTCUserList=function(e){return this._engine.getRTCUserList(e)},e.prototype.joinLivingRoomAsAudience=function(e,t,n){return this._engine.joinLivingRoomAsAudience(e,t,n)},e.prototype.quitLivingRoomAsAudience=function(e){return this._engine.quitLivingRoomAsAudience(e)},e.prototype.rtcIdentityChange=function(e,t,n){return this._engine.rtcIdentityChange(e,t,n)},e.prototype.pullRTCRoomEntry=function(e,t){return this._engine.pullRTCRoomEntry(e,t)},e}();!function(e){e[e.add=1]="add",e[e.update=2]="update",e[e.delete=3]="delete"}(_i||(_i={}))}).call(this,n("4362"))},"7a0f":function(e,t,n){},"7a77":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"7aac":function(e,t,n){"use strict";var r=n("c532");e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,n){var r=n("da84"),i=n("1d80"),o=r.Object;e.exports=function(e){return o(i(e))}},"7b3e":function(e,t,n){"use strict";var r,i=n("a3de");
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function o(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,o=n in document;if(!o){var s=document.createElement("div");s.setAttribute(n,"return;"),o="function"===typeof s[n]}return!o&&r&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=o},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),f=">",d="<",h="prototype",p="script",g=l("IE_PROTO"),m=function(){},v=function(e){return d+p+f+e+d+"/"+p+f},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&r?y(r):_():y(r);var e=s.length;while(e--)delete b[h][s[e]];return b()};a[g]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[h]=i(e),n=new m,m[h]=null,n[g]=e):n=b(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("c430"),s=n("5e77"),a=n("1626"),c=n("9ed3"),u=n("e163"),l=n("d2bb"),f=n("d44e"),d=n("9112"),h=n("6eeb"),p=n("b622"),g=n("3f8c"),m=n("ae93"),v=s.PROPER,y=s.CONFIGURABLE,_=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,C=p("iterator"),E="keys",S="values",w="entries",T=function(){return this};e.exports=function(e,t,n,s,p,m,I){c(n,t,s);var R,O,x,N=function(e){if(e===p&&U)return U;if(!b&&e in L)return L[e];switch(e){case E:return function(){return new n(this,e)};case S:return function(){return new n(this,e)};case w:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",A=!1,L=e.prototype,P=L[C]||L["@@iterator"]||p&&L[p],U=!b&&P||N(p),k="Array"==t&&L.entries||P;if(k&&(R=u(k.call(new e)),R!==Object.prototype&&R.next&&(o||u(R)===_||(l?l(R,_):a(R[C])||h(R,C,T)),f(R,M,!0,!0),o&&(g[M]=T))),v&&p==S&&P&&P.name!==S&&(!o&&y?d(L,"name",S):(A=!0,U=function(){return i(P,this)})),p)if(O={values:N(S),keys:m?U:N(E),entries:N(w)},I)for(x in O)(b||A||!(x in L))&&h(L,x,O[x]);else r({target:t,proto:!0,forced:b||A},O);return o&&!I||L[C]===U||h(L,C,U,{name:p}),g[t]=U,O}},"7f4d":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(e[i]=o)}}return e}},"7f9a":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("8925"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},"7fc1":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=126)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},126:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[e._t("default")],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[s.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},c=a,u=n(0),l=Object(u["a"])(c,r,i,!1,null,null,null);l.options.__file="packages/checkbox/src/checkbox-group.vue";var f=l.exports;f.install=function(e){e.component(f.name,f)};t["default"]=f},4:function(e,t){e.exports=n("d010")}})},8122:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=u,t.hasOwn=l,t.toObject=d,t.getPropByPath=h,t.rafThrottle=y,t.objToArray=_;var i=n("8bbf"),o=a(i),s=n("a742");function a(e){return e&&e.__esModule?e:{default:e}}var c=Object.prototype.hasOwnProperty;function u(){}function l(e,t){return c.call(e,t)}function f(e,t){for(var n in t)e[n]=t[n];return e}function d(e){for(var t={},n=0;n<e.length;n++)e[n]&&f(t,e[n]);return t}t.getValueByPath=function(e,t){t=t||"";for(var n=t.split("."),r=e,i=null,o=0,s=n.length;o<s;o++){var a=n[o];if(!r)break;if(o===s-1){i=r[a];break}r=r[a]}return i};function h(e,t,n){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split("."),o=0,s=i.length;o<s-1;++o){if(!r&&!n)break;var a=i[o];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:i[o],v:r?r[i[o]]:null}}t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var p=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},g=(t.arrayFind=function(e,t){var n=p(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;var t=["transform","transition","animation"],n=["ms-","webkit-"];return t.forEach((function(t){var r=e[t];t&&r&&n.forEach((function(n){e[n+t]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,s.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,s.isObject)(e),r=(0,s.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),m=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!g(e[n],t[n]))return!1;return!0},v=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?m(e,t):g(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"===typeof e)return!1;if("number"===typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1});function y(e){var t=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,i),t=!1})))}}function _(e){return Array.isArray(e)?e:v(e)?[]:[e]}},"825a":function(e,t,n){var r=n("da84"),i=n("861d"),o=r.String,s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,n){"use strict";var r=n("d925"),i=n("e683");e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},8418:function(e,t,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"848b":function(e,t,n){"use strict";var r=n("4a0c"),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}function c(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),i=r.length;while(i-- >0){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}}i.transitional=function(e,t,n){var i=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:c,validators:i}},"861d":function(e,t,n){var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(h.stack)||s.exec(h.stack),c=a&&a[1]||!1,u=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===c)return f[d];if(c===l&&f[d].innerHTML&&f[d].innerHTML.trim()===i)return f[d]}return null}}return e}))},8925:function(e,t,n){var r=n("e330"),i=n("1626"),o=n("c6cd"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"8bbc":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=130)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},130:function(e,t,n){"use strict";n.r(t);var r,i,o={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,n=this.tagSize,r=this.hit,i=this.effect,o=["el-tag",t?"el-tag--"+t:"",n?"el-tag--"+n:"",i?"el-tag--"+i:"",r&&"is-hit"],s=e("span",{class:o,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?s:e("transition",{attrs:{name:"el-zoom-in-center"}},[s])}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/tag/src/tag.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},"8bbf":function(t,n){t.exports=e},"8df4":function(e,t,n){"use strict";var r=n("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},"8eb7":function(e,t){var n,r,i,o,s,a,c,u,l,f,d,h,p,g,m,v=!1;function y(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),y=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),p=/\b(iP[ao]d)/.exec(e),f=/Android/i.exec(e),g=/FBAN\/\w+;/i.exec(e),m=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(e);a=_?parseFloat(_[1])+4:n,r=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,o=t[4]?parseFloat(t[4]):NaN,o?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),s=t&&t[1]?parseFloat(t[1]):NaN):s=NaN}else n=r=i=s=o=NaN;if(y){if(y[1]){var b=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!b||parseFloat(b[1].replace("_","."))}else c=!1;u=!!y[2],l=!!y[3]}else c=u=l=!1}}var _={ie:function(){return y()||n},ieCompatibilityMode:function(){return y()||a>n},ie64:function(){return _.ie()&&d},firefox:function(){return y()||r},opera:function(){return y()||i},webkit:function(){return y()||o},safari:function(){return _.webkit()},chrome:function(){return y()||s},windows:function(){return y()||u},osx:function(){return y()||c},linux:function(){return y()||l},iphone:function(){return y()||h},mobile:function(){return y()||h||p||f||m},nativeApp:function(){return y()||g},android:function(){return y()||f},ipad:function(){return y()||p}};e.exports=_},"90e3":function(e,t,n){var r=n("e330"),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"920a":function(e,t,n){},"94ca":function(e,t,n){var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},9619:function(e,t,n){var r=n("597f"),i=n("0e15");e.exports={throttle:r,debounce:i}},"9a1f":function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("59ed"),s=n("825a"),a=n("0d51"),c=n("35a1"),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return s(i(n,e));throw u(a(e)+" is not iterable")}},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){i(e,"throw",s)}}},"9bf2":function(e,t,n){var r=n("da84"),i=n("83ab"),o=n("0cfb"),s=n("825a"),a=n("a04b"),c=r.TypeError,u=Object.defineProperty;t.f=i?u:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9d7e":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(o,(function(t,r,o,s){var a=void 0;return"{"===e[s-1]&&"}"===e[s+t.length]?o:(a=(0,i.hasOwn)(n,o)?n[o]:null,null===a||void 0===a?"":a)}))}return t};var i=n("8122"),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=c,e}},a04b:function(e,t,n){var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},a3de:function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("23cb"),s=n("5926"),a=n("07fa"),c=n("7b0b"),u=n("65f0"),l=n("8418"),f=n("1dde"),d=f("splice"),h=i.TypeError,p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,i,f,d,y,_=c(this),b=a(_),C=o(e,b),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=b-C):(n=E-2,r=g(p(s(t),0),b-C)),b+n-r>m)throw h(v);for(i=u(_,r),f=0;f<r;f++)d=C+f,d in _&&l(i,f,_[d]);if(i.length=r,n<r){for(f=C;f<b-r;f++)d=f+r,y=f+n,d in _?_[y]=_[d]:delete _[y];for(f=b;f>b-r+n;f--)delete _[f-1]}else if(n>r)for(f=b-r;f>C;f--)d=f+r-1,y=f+n-1,d in _?_[y]=_[d]:delete _[y];for(f=0;f<n;f++)_[f+C]=arguments[f+2];return _.length=b-r+n,i}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("2ba4"),a=n("c65b"),c=n("e330"),u=n("c430"),l=n("83ab"),f=n("4930"),d=n("d039"),h=n("1a2d"),p=n("e8b5"),g=n("1626"),m=n("861d"),v=n("3a9b"),y=n("d9b5"),_=n("825a"),b=n("7b0b"),C=n("fc6a"),E=n("a04b"),S=n("577e"),w=n("5c6c"),T=n("7c73"),I=n("df75"),R=n("241c"),O=n("057f"),x=n("7418"),N=n("06cf"),M=n("9bf2"),A=n("d1e7"),L=n("f36a"),P=n("6eeb"),U=n("5692"),k=n("f772"),D=n("d012"),j=n("90e3"),B=n("b622"),V=n("e538"),F=n("746f"),H=n("d44e"),$=n("69f3"),q=n("b727").forEach,G=k("hidden"),z="Symbol",K="prototype",Y=B("toPrimitive"),W=$.set,J=$.getterFor(z),Q=Object[K],X=i.Symbol,Z=X&&X[K],ee=i.TypeError,te=i.QObject,ne=o("JSON","stringify"),re=N.f,ie=M.f,oe=O.f,se=A.f,ae=c([].push),ce=U("symbols"),ue=U("op-symbols"),le=U("string-to-symbol-registry"),fe=U("symbol-to-string-registry"),de=U("wks"),he=!te||!te[K]||!te[K].findChild,pe=l&&d((function(){return 7!=T(ie({},"a",{get:function(){return ie(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=re(Q,t);r&&delete Q[t],ie(e,t,n),r&&e!==Q&&ie(Q,t,r)}:ie,ge=function(e,t){var n=ce[e]=T(Z);return W(n,{type:z,tag:e,description:t}),l||(n.description=t),n},me=function(e,t,n){e===Q&&me(ue,t,n),_(e);var r=E(t);return _(n),h(ce,r)?(n.enumerable?(h(e,G)&&e[G][r]&&(e[G][r]=!1),n=T(n,{enumerable:w(0,!1)})):(h(e,G)||ie(e,G,w(1,{})),e[G][r]=!0),pe(e,r,n)):ie(e,r,n)},ve=function(e,t){_(e);var n=C(t),r=I(n).concat(Ee(n));return q(r,(function(t){l&&!a(_e,n,t)||me(e,t,n[t])})),e},ye=function(e,t){return void 0===t?T(e):ve(T(e),t)},_e=function(e){var t=E(e),n=a(se,this,t);return!(this===Q&&h(ce,t)&&!h(ue,t))&&(!(n||!h(this,t)||!h(ce,t)||h(this,G)&&this[G][t])||n)},be=function(e,t){var n=C(e),r=E(t);if(n!==Q||!h(ce,r)||h(ue,r)){var i=re(n,r);return!i||!h(ce,r)||h(n,G)&&n[G][r]||(i.enumerable=!0),i}},Ce=function(e){var t=oe(C(e)),n=[];return q(t,(function(e){h(ce,e)||h(D,e)||ae(n,e)})),n},Ee=function(e){var t=e===Q,n=oe(t?ue:C(e)),r=[];return q(n,(function(e){!h(ce,e)||t&&!h(Q,e)||ae(r,ce[e])})),r};if(f||(X=function(){if(v(Z,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,t=j(e),n=function(e){this===Q&&a(n,ue,e),h(this,G)&&h(this[G],t)&&(this[G][t]=!1),pe(this,t,w(1,e))};return l&&he&&pe(Q,t,{configurable:!0,set:n}),ge(t,e)},Z=X[K],P(Z,"toString",(function(){return J(this).tag})),P(X,"withoutSetter",(function(e){return ge(j(e),e)})),A.f=_e,M.f=me,N.f=be,R.f=O.f=Ce,x.f=Ee,V.f=function(e){return ge(B(e),e)},l&&(ie(Z,"description",{configurable:!0,get:function(){return J(this).description}}),u||P(Q,"propertyIsEnumerable",_e,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:X}),q(I(de),(function(e){F(e)})),r({target:z,stat:!0,forced:!f},{for:function(e){var t=S(e);if(h(le,t))return le[t];var n=X(t);return le[t]=n,fe[n]=t,n},keyFor:function(e){if(!y(e))throw ee(e+" is not a symbol");if(h(fe,e))return fe[e]},useSetter:function(){he=!0},useSimple:function(){he=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!l},{create:ye,defineProperty:me,defineProperties:ve,getOwnPropertyDescriptor:be}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ce,getOwnPropertySymbols:Ee}),r({target:"Object",stat:!0,forced:d((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(b(e))}}),ne){var Se=!f||d((function(){var e=X();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}));r({target:"JSON",stat:!0,forced:Se},{stringify:function(e,t,n){var r=L(arguments),i=t;if((m(t)||void 0!==e)&&!y(e))return p(t)||(t=function(e,t){if(g(i)&&(t=a(i,this,e,t)),!y(t))return t}),r[1]=t,s(ne,null,r)}})}if(!Z[Y]){var we=Z.valueOf;P(Z,Y,(function(e){return a(we,this)}))}H(X,z),D[G]=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a742:function(e,t,n){"use strict";t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=a,t.isObject=c,t.isHtmlElement=u;var i=n("8bbf"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return e&&e.nodeType===Node.ELEMENT_NODE}var l=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!o.default.prototype.$isServer&&"function"===typeof document.childNodes||(t.isFunction=l=function(e){return"function"===typeof e||!1}),t.isFunction=l;t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},a78e:function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(o){var s;if(r=o,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i),s=!0,e.exports=o(),s=!0,!s){var a=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=a,c}}})((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(r){function i(){}function o(t,n,o){if("undefined"!==typeof document){o=e({path:"/"},i.defaults,o),"number"===typeof o.expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(u){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in o)o[c]&&(a+="; "+c,!0!==o[c]&&(a+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(a[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(l){}if(i[u]=c,e===u)break}catch(l){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))}))},a7cc:function(e,t,n){},a9e3:function(e,t,n){"use strict";var r=n("83ab"),i=n("da84"),o=n("e330"),s=n("94ca"),a=n("6eeb"),c=n("1a2d"),u=n("7156"),l=n("3a9b"),f=n("d9b5"),d=n("c04e"),h=n("d039"),p=n("241c").f,g=n("06cf").f,m=n("9bf2").f,v=n("408a"),y=n("58a8").trim,_="Number",b=i[_],C=b.prototype,E=i.TypeError,S=o("".slice),w=o("".charCodeAt),T=function(e){var t=d(e,"number");return"bigint"==typeof t?t:I(t)},I=function(e){var t,n,r,i,o,s,a,c,u=d(e,"number");if(f(u))throw E("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),t=w(u,0),43===t||45===t){if(n=w(u,2),88===n||120===n)return NaN}else if(48===t){switch(w(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=S(u,2),s=o.length,a=0;a<s;a++)if(c=w(o,a),c<48||c>i)return NaN;return parseInt(o,r)}return+u};if(s(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var R,O=function(e){var t=arguments.length<1?0:b(T(e)),n=this;return l(C,n)&&h((function(){v(n)}))?u(Object(t),n,O):t},x=r?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),N=0;x.length>N;N++)c(b,R=x[N])&&!c(O,R)&&m(O,R,g(b,R));O.prototype=C,C.constructor=O,a(i,_,O)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},acb6:function(e,t,n){},ad41:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=57)}([function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},,function(e,t){e.exports=n("5924")},function(e,t){e.exports=n("8122")},,function(e,t){e.exports=n("e974")},function(e,t){e.exports=n("6b7c")},function(e,t){e.exports=n("8bbf")},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return b}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){var t=e.target;while(t&&"HTML"!==t.tagName.toUpperCase()){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},s=function(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":i(e))},a=function(e,t,n,i,o){if(!t&&!i&&(!o||Array.isArray(o)&&!o.length))return e;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var a=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(t){return"string"===typeof t?Object(r["getValueByPath"])(n,t):t(n,i,e)}))):("$key"!==t&&s(n)&&"$value"in n&&(n=n.$value),[s(n)?Object(r["getValueByPath"])(n,t):n])},c=function(e,t){if(i)return i(e.value,t.value);for(var n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0};return e.map((function(e,t){return{value:e,index:t,key:a?a(e,t):null}})).sort((function(e,t){var r=c(e,t);return r||(r=e.index-t.index),r*n})).map((function(e){return e.value}))},c=function(e,t){var n=null;return e.columns.forEach((function(e){e.id===t&&(n=e)})),n},u=function(e,t){for(var n=null,r=0;r<e.columns.length;r++){var i=e.columns[r];if(i.columnKey===t){n=i;break}}return n},l=function(e,t){var n=(t.className||"").match(/el-table_[^\s]+/gm);return n?c(e,n[0]):null},f=function(e,t){if(!e)throw new Error("row is required when get row identity");if("string"===typeof t){if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),r=e,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof t)return t.call(null,e)},d=function(e,t){var n={};return(e||[]).forEach((function(e,r){n[f(e,t)]={row:e,index:r}})),n};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){var n={},r=void 0;for(r in e)n[r]=e[r];for(r in t)if(h(t,r)){var i=t[r];"undefined"!==typeof i&&(n[r]=i)}return n}function g(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),e}function m(e){return"undefined"!==typeof e&&(e=g(e),isNaN(e)&&(e=80)),e}function v(e){return"number"===typeof e?e:"string"===typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function y(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(e,t,n){var r=!1,i=e.indexOf(t),o=-1!==i,s=function(){e.push(t),r=!0},a=function(){e.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?s():!n&&o&&a():o?a():s(),r}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(e){return!(Array.isArray(e)&&e.length)};function o(e,s,a){t(e,s,a),s.forEach((function(e){if(e[r])t(e,null,a+1);else{var s=e[n];i(s)||o(e,s,a+1)}}))}e.forEach((function(e){if(e[r])t(e,null,0);else{var s=e[n];i(s)||o(e,s,0)}}))}},function(e,t){e.exports=n("7f4d")},,function(e,t){e.exports=n("2bb5")},function(e,t){e.exports=n("417f")},function(e,t){e.exports=n("5128")},,function(e,t){e.exports=n("14e9")},function(e,t){e.exports=n("4010")},,function(e,t){e.exports=n("0e15")},function(e,t){e.exports=n("dcdc")},,,,,,,,,,function(e,t){e.exports=n("299c")},,,,,,,,,function(e,t){e.exports=n("e62d")},function(e,t){e.exports=n("7fc1")},,,,function(e,t){e.exports=n("9619")},,,function(e,t){e.exports=n("c098")},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-table",class:[{"el-table--fit":e.fit,"el-table--striped":e.stripe,"el-table--border":e.border||e.isGroup,"el-table--hidden":e.isHidden,"el-table--group":e.isGroup,"el-table--fluid-height":e.maxHeight,"el-table--scrollable-x":e.layout.scrollX,"el-table--scrollable-y":e.layout.scrollY,"el-table--enable-row-hover":!e.store.states.isComplex,"el-table--enable-row-transition":0!==(e.store.states.data||[]).length&&(e.store.states.data||[]).length<100},e.tableSize?"el-table--"+e.tableSize:""],on:{mouseleave:function(t){e.handleMouseLeave(t)}}},[n("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[e._t("default")],2),e.showHeader?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[n("table-header",{ref:"tableHeader",style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"default-sort":e.defaultSort}})],1):e._e(),n("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[e.layout.scrollX?"is-scrolling-"+e.scrollPosition:"is-scrolling-none"],style:[e.bodyHeight]},[n("table-body",{style:{width:e.bodyWidth},attrs:{context:e.context,store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.data&&0!==e.data.length?e._e():n("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:e.emptyBlockStyle},[n("span",{staticClass:"el-table__empty-text"},[e._t("empty",[e._v(e._s(e.emptyText||e.t("el.table.emptyText")))])],2)]),e.$slots.append?n("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[e._t("append")],2):e._e()],1),e.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[n("table-footer",{style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,"default-sort":e.defaultSort}})],1):e._e(),e.fixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:e.layout.fixedWidth?e.layout.fixedWidth+"px":""},e.fixedHeight]},[e.showHeader?n("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"fixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,store:e.store}})],1):e._e(),n("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[n("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"left",store:e.store,stripe:e.stripe,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"row-style":e.rowStyle}}),e.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),e.rightFixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:e.layout.rightFixedWidth?e.layout.rightFixedWidth+"px":"",right:e.layout.scrollY?(e.border?e.layout.gutterWidth:e.layout.gutterWidth||0)+"px":""},e.fixedHeight]},[e.showHeader?n("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"rightFixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,store:e.store}})],1):e._e(),n("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[n("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"right",store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),e.rightFixedColumns.length>0?n("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:e.layout.scrollY?e.layout.gutterWidth+"px":"0",height:e.layout.headerHeight+"px"}}):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])},i=[];r._withStripped=!0;var o=n(19),s=n.n(o),a=n(43),c=n(16),u=n(46),l=n.n(u),f="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,d=function(e,t){e&&e.addEventListener&&e.addEventListener(f?"DOMMouseScroll":"mousewheel",(function(e){var n=l()(e);t&&t.apply(this,[e,n])}))},h={bind:function(e,t){d(e,t.value)}},p=n(6),g=n.n(p),m=n(11),v=n.n(m),y=n(7),_=n.n(y),b=n(9),C=n.n(b),E=n(8),S={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var e=this.states,t=e.data,n=void 0===t?[]:t,r=e.rowKey,i=e.defaultExpandAll,o=e.expandRows;if(i)this.states.expandRows=n.slice();else if(r){var s=Object(E["f"])(o,r);this.states.expandRows=n.reduce((function(e,t){var n=Object(E["g"])(t,r),i=s[n];return i&&e.push(t),e}),[])}else this.states.expandRows=[]},toggleRowExpansion:function(e,t){var n=Object(E["m"])(this.states.expandRows,e,t);n&&(this.table.$emit("expand-change",e,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(e){this.assertRowKey();var t=this.states,n=t.data,r=t.rowKey,i=Object(E["f"])(n,r);this.states.expandRows=e.reduce((function(e,t){var n=i[t];return n&&e.push(n.row),e}),[])},isRowExpanded:function(e){var t=this.states,n=t.expandRows,r=void 0===n?[]:n,i=t.rowKey;if(i){var o=Object(E["f"])(r,i);return!!o[Object(E["g"])(e,i)]}return-1!==r.indexOf(e)}}},w=n(3),T={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(e){this.assertRowKey(),this.states._currentRowKey=e,this.setCurrentRowByKey(e)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(e){var t=this.states,n=t.data,r=void 0===n?[]:n,i=t.rowKey,o=null;i&&(o=Object(w["arrayFind"])(r,(function(t){return Object(E["g"])(t,i)===e}))),t.currentRow=o},updateCurrentRow:function(e){var t=this.states,n=this.table,r=t.currentRow;if(e&&e!==r)return t.currentRow=e,void n.$emit("current-change",e,r);!e&&r&&(t.currentRow=null,n.$emit("current-change",null,r))},updateCurrentRowData:function(){var e=this.states,t=this.table,n=e.rowKey,r=e._currentRowKey,i=e.data||[],o=e.currentRow;if(-1===i.indexOf(o)&&o){if(n){var s=Object(E["g"])(o,n);this.setCurrentRowByKey(s)}else e.currentRow=null;null===e.currentRow&&t.$emit("current-change",null,o)}else r&&(this.setCurrentRowByKey(r),this.restoreCurrentRowKey())}}},I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var e=this.states.data||[];return this.normalize(e)},normalizedLazyNode:function(){var e=this.states,t=e.rowKey,n=e.lazyTreeNodeMap,r=e.lazyColumnIdentifier,i=Object.keys(n),o={};return i.length?(i.forEach((function(e){if(n[e].length){var i={children:[]};n[e].forEach((function(e){var n=Object(E["g"])(e,t);i.children.push(n),e[r]&&!o[n]&&(o[n]={children:[]})})),o[e]=i}})),o):o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(e){var t=this.states,n=t.childrenColumnName,r=t.lazyColumnIdentifier,i=t.rowKey,o=t.lazy,s={};return Object(E["n"])(e,(function(e,t,n){var r=Object(E["g"])(e,i);Array.isArray(t)?s[r]={children:t.map((function(e){return Object(E["g"])(e,i)})),level:n}:o&&(s[r]={children:[],lazy:!0,level:n})}),n,r),s},updateTreeData:function(){var e=this.normalizedData,t=this.normalizedLazyNode,n=Object.keys(e),r={};if(n.length){var i=this.states,o=i.treeData,s=i.defaultExpandAll,a=i.expandRowKeys,c=i.lazy,u=[],l=function(e,t){var n=s||a&&-1!==a.indexOf(t);return!!(e&&e.expanded||n)};n.forEach((function(t){var n=o[t],i=I({},e[t]);if(i.expanded=l(n,t),i.lazy){var s=n||{},a=s.loaded,c=void 0!==a&&a,f=s.loading,d=void 0!==f&&f;i.loaded=!!c,i.loading=!!d,u.push(t)}r[t]=i}));var f=Object.keys(t);c&&f.length&&u.length&&f.forEach((function(e){var n=o[e],i=t[e].children;if(-1!==u.indexOf(e)){if(0!==r[e].children.length)throw new Error("[ElTable]children must be an empty array.");r[e].children=i}else{var s=n||{},a=s.loaded,c=void 0!==a&&a,f=s.loading,d=void 0!==f&&f;r[e]={lazy:!0,loaded:!!c,loading:!!d,expanded:l(n,e),children:i,level:""}}}))}this.states.treeData=r,this.updateTableScrollY()},updateTreeExpandKeys:function(e){this.states.expandRowKeys=e,this.updateTreeData()},toggleTreeExpansion:function(e,t){this.assertRowKey();var n=this.states,r=n.rowKey,i=n.treeData,o=Object(E["g"])(e,r),s=o&&i[o];if(o&&s&&"expanded"in s){var a=s.expanded;t="undefined"===typeof t?!s.expanded:t,i[o].expanded=t,a!==t&&this.table.$emit("expand-change",e,t),this.updateTableScrollY()}},loadOrToggle:function(e){this.assertRowKey();var t=this.states,n=t.lazy,r=t.treeData,i=t.rowKey,o=Object(E["g"])(e,i),s=r[o];n&&s&&"loaded"in s&&!s.loaded?this.loadData(e,o,s):this.toggleTreeExpansion(e)},loadData:function(e,t,n){var r=this,i=this.table.load,o=this.states.treeData;i&&!o[t].loaded&&(o[t].loading=!0,i(e,n,(function(n){if(!Array.isArray(n))throw new Error("[ElTable] data must be an array");var i=r.states,o=i.lazyTreeNodeMap,s=i.treeData;s[t].loading=!1,s[t].loaded=!0,s[t].expanded=!0,n.length&&r.$set(o,t,n),r.table.$emit("expand-change",e,!0)})))}}},O=function(e,t){var n=t.sortingColumn;return n&&"string"!==typeof n.sortable?Object(E["i"])(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy):e},x=function e(t){var n=[];return t.forEach((function(t){t.children?n.push.apply(n,e(t.children)):n.push(t)})),n},N=_.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[S,T,R],methods:{assertRowKey:function(){var e=this.states.rowKey;if(!e)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var e=this.states,t=e._columns||[];e.fixedColumns=t.filter((function(e){return!0===e.fixed||"left"===e.fixed})),e.rightFixedColumns=t.filter((function(e){return"right"===e.fixed})),e.fixedColumns.length>0&&t[0]&&"selection"===t[0].type&&!t[0].fixed&&(t[0].fixed=!0,e.fixedColumns.unshift(t[0]));var n=t.filter((function(e){return!e.fixed}));e.originColumns=[].concat(e.fixedColumns).concat(n).concat(e.rightFixedColumns);var r=x(n),i=x(e.fixedColumns),o=x(e.rightFixedColumns);e.leafColumnsLength=r.length,e.fixedLeafColumnsLength=i.length,e.rightFixedLeafColumnsLength=o.length,e.columns=[].concat(i).concat(r).concat(o),e.isComplex=e.fixedColumns.length>0||e.rightFixedColumns.length>0},scheduleLayout:function(e){e&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(e){var t=this.states.selection,n=void 0===t?[]:t;return n.indexOf(e)>-1},clearSelection:function(){var e=this.states;e.isAllSelected=!1;var t=e.selection;t.length&&(e.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var e=this.states,t=e.data,n=e.rowKey,r=e.selection,i=void 0;if(n){i=[];var o=Object(E["f"])(r,n),s=Object(E["f"])(t,n);for(var a in o)o.hasOwnProperty(a)&&!s[a]&&i.push(o[a].row)}else i=r.filter((function(e){return-1===t.indexOf(e)}));if(i.length){var c=r.filter((function(e){return-1===i.indexOf(e)}));e.selection=c,this.table.$emit("selection-change",c.slice())}},toggleRowSelection:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(E["m"])(this.states.selection,e,t);if(r){var i=(this.states.selection||[]).slice();n&&this.table.$emit("select",i,e),this.table.$emit("selection-change",i)}},_toggleAllSelection:function(){var e=this.states,t=e.data,n=void 0===t?[]:t,r=e.selection,i=e.selectOnIndeterminate?!e.isAllSelected:!(e.isAllSelected||r.length);e.isAllSelected=i;var o=!1;n.forEach((function(t,n){e.selectable?e.selectable.call(null,t,n)&&Object(E["m"])(r,t,i)&&(o=!0):Object(E["m"])(r,t,i)&&(o=!0)})),o&&this.table.$emit("selection-change",r?r.slice():[]),this.table.$emit("select-all",r)},updateSelectionByRowKey:function(){var e=this.states,t=e.selection,n=e.rowKey,r=e.data,i=Object(E["f"])(t,n);r.forEach((function(e){var r=Object(E["g"])(e,n),o=i[r];o&&(t[o.index]=e)}))},updateAllSelected:function(){var e=this.states,t=e.selection,n=e.rowKey,r=e.selectable,i=e.data||[];if(0!==i.length){var o=void 0;n&&(o=Object(E["f"])(t,n));for(var s=function(e){return o?!!o[Object(E["g"])(e,n)]:-1!==t.indexOf(e)},a=!0,c=0,u=0,l=i.length;u<l;u++){var f=i[u],d=r&&r.call(null,f,u);if(s(f))c++;else if(!r||d){a=!1;break}}0===c&&(a=!1),e.isAllSelected=a}else e.isAllSelected=!1},updateFilters:function(e,t){Array.isArray(e)||(e=[e]);var n=this.states,r={};return e.forEach((function(e){n.filters[e.id]=t,r[e.columnKey||e.id]=t})),r},updateSort:function(e,t,n){this.states.sortingColumn&&this.states.sortingColumn!==e&&(this.states.sortingColumn.order=null),this.states.sortingColumn=e,this.states.sortProp=t,this.states.sortOrder=n},execFilter:function(){var e=this,t=this.states,n=t._data,r=t.filters,i=n;Object.keys(r).forEach((function(n){var r=t.filters[n];if(r&&0!==r.length){var o=Object(E["d"])(e.states,n);o&&o.filterMethod&&(i=i.filter((function(e){return r.some((function(t){return o.filterMethod.call(null,t,e,o)}))})))}})),t.filteredData=i},execSort:function(){var e=this.states;e.data=O(e.filteredData,e)},execQuery:function(e){e&&e.filter||this.execFilter(),this.execSort()},clearFilter:function(e){var t=this.states,n=this.table.$refs,r=n.tableHeader,i=n.fixedTableHeader,o=n.rightFixedTableHeader,s={};r&&(s=C()(s,r.filterPanels)),i&&(s=C()(s,i.filterPanels)),o&&(s=C()(s,o.filterPanels));var a=Object.keys(s);if(a.length)if("string"===typeof e&&(e=[e]),Array.isArray(e)){var c=e.map((function(e){return Object(E["e"])(t,e)}));a.forEach((function(e){var t=c.find((function(t){return t.id===e}));t&&(s[e].filteredValue=[])})),this.commit("filterChange",{column:c,values:[],silent:!0,multi:!0})}else a.forEach((function(e){s[e].filteredValue=[]})),t.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){var e=this.states;e.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(e){this.setExpandRowKeys(e),this.updateTreeExpandKeys(e)},toggleRowExpansionAdapter:function(e,t){var n=this.states.columns.some((function(e){var t=e.type;return"expand"===t}));n?this.toggleRowExpansion(e,t):this.toggleTreeExpansion(e,t)}}});N.prototype.mutations={setData:function(e,t){var n=e._data!==t;e._data=t,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),e.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):n?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(e,t,n,r){var i=e._columns;r&&(i=r.children,i||(i=r.children=[])),"undefined"!==typeof n?i.splice(n,0,t):i.push(t),"selection"===t.type&&(e.selectable=t.selectable,e.reserveSelection=t.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(e,t,n){var r=e._columns;n&&(r=n.children,r||(r=n.children=[])),r&&r.splice(r.indexOf(t),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(e,t){var n=t.prop,r=t.order,i=t.init;if(n){var o=Object(w["arrayFind"])(e.columns,(function(e){return e.property===n}));o&&(o.order=r,this.updateSort(o,n,r),this.commit("changeSortCondition",{init:i}))}},changeSortCondition:function(e,t){var n=e.sortingColumn,r=e.sortProp,i=e.sortOrder;null===i&&(e.sortingColumn=null,e.sortProp=null);var o={filter:!0};this.execQuery(o),t&&(t.silent||t.init)||this.table.$emit("sort-change",{column:n,prop:r,order:i}),this.updateTableScrollY()},filterChange:function(e,t){var n=t.column,r=t.values,i=t.silent,o=this.updateFilters(n,r);this.execQuery(),i||this.table.$emit("filter-change",o),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(e,t){this.toggleRowSelection(t),this.updateAllSelected()},setHoverRow:function(e,t){e.hoverRow=t},setCurrentRow:function(e,t){this.updateCurrentRow(t)}},N.prototype.commit=function(e){var t=this.mutations;if(!t[e])throw new Error("Action not found: "+e);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t[e].apply(this,[this.states].concat(r))},N.prototype.updateTableScrollY=function(){_.a.nextTick(this.table.updateScrollY)};var M=N,A=n(18),L=n.n(A);function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Table is required.");var n=new M;return n.table=e,n.toggleAllSelection=L()(10,n._toggleAllSelection),Object.keys(t).forEach((function(e){n.states[e]=t[e]})),n}function U(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=void 0;"string"===typeof r?i=function(){return this.store.states[r]}:"function"===typeof r?i=function(){return r.call(this,this.store.states)}:console.error("invalid value type"),i&&(t[n]=i)})),t}var k=n(38),D=n.n(k);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var B=function(){function e(t){for(var n in j(this,e),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=D()(),t)t.hasOwnProperty(n)&&(this[n]=t[n]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return e.prototype.updateScrollY=function(){var e=this.height;if(null===e)return!1;var t=this.table.bodyWrapper;if(this.table.$el&&t){var n=t.querySelector(".el-table__body"),r=this.scrollY,i=n.offsetHeight>this.bodyHeight;return this.scrollY=i,r!==i}return!1},e.prototype.setHeight=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!_.a.prototype.$isServer){var r=this.table.$el;if(e=Object(E["j"])(e),this.height=e,!r&&(e||0===e))return _.a.nextTick((function(){return t.setHeight(e,n)}));"number"===typeof e?(r.style[n]=e+"px",this.updateElsHeight()):"string"===typeof e&&(r.style[n]=e,this.updateElsHeight())}},e.prototype.setMaxHeight=function(e){this.setHeight(e,"max-height")},e.prototype.getFlattenColumns=function(){var e=[],t=this.table.columns;return t.forEach((function(t){t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e},e.prototype.updateElsHeight=function(){var e=this;if(!this.table.$ready)return _.a.nextTick((function(){return e.updateElsHeight()}));var t=this.table.$refs,n=t.headerWrapper,r=t.appendWrapper,i=t.footerWrapper;if(this.appendHeight=r?r.offsetHeight:0,!this.showHeader||n){var o=n?n.querySelector(".el-table__header tr"):null,s=this.headerDisplayNone(o),a=this.headerHeight=this.showHeader?n.offsetHeight:0;if(this.showHeader&&!s&&n.offsetWidth>0&&(this.table.columns||[]).length>0&&a<2)return _.a.nextTick((function(){return e.updateElsHeight()}));var c=this.tableHeight=this.table.$el.clientHeight,u=this.footerHeight=i?i.offsetHeight:0;null!==this.height&&(this.bodyHeight=c-a-u+(i?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var l=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?c-(l?0:this.gutterWidth):c,this.updateScrollY(),this.notifyObservers("scrollable")}},e.prototype.headerDisplayNone=function(e){if(!e)return!0;var t=e;while("DIV"!==t.tagName){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},e.prototype.updateColumnsWidth=function(){if(!_.a.prototype.$isServer){var e=this.fit,t=this.table.$el.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter((function(e){return"number"!==typeof e.width}));if(r.forEach((function(e){"number"===typeof e.width&&e.realWidth&&(e.realWidth=null)})),i.length>0&&e){r.forEach((function(e){n+=e.width||e.minWidth||80}));var o=this.scrollY?this.gutterWidth:0;if(n<=t-o){this.scrollX=!1;var s=t-o-n;if(1===i.length)i[0].realWidth=(i[0].minWidth||80)+s;else{var a=i.reduce((function(e,t){return e+(t.minWidth||80)}),0),c=s/a,u=0;i.forEach((function(e,t){if(0!==t){var n=Math.floor((e.minWidth||80)*c);u+=n,e.realWidth=(e.minWidth||80)+n}})),i[0].realWidth=(i[0].minWidth||80)+s-u}}else this.scrollX=!0,i.forEach((function(e){e.realWidth=e.minWidth}));this.bodyWidth=Math.max(n,t),this.table.resizeState.width=this.bodyWidth}else r.forEach((function(e){e.width||e.minWidth?e.realWidth=e.width||e.minWidth:e.realWidth=80,n+=e.realWidth})),this.scrollX=n>t,this.bodyWidth=n;var l=this.store.states.fixedColumns;if(l.length>0){var f=0;l.forEach((function(e){f+=e.realWidth||e.width})),this.fixedWidth=f}var d=this.store.states.rightFixedColumns;if(d.length>0){var h=0;d.forEach((function(e){h+=e.realWidth||e.width})),this.rightFixedWidth=h}this.notifyObservers("columns")}},e.prototype.addObserver=function(e){this.observers.push(e)},e.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)},e.prototype.notifyObservers=function(e){var t=this,n=this.observers;n.forEach((function(n){switch(e){case"columns":n.onColumnsChange(t);break;case"scrollable":n.onScrollableChange(t);break;default:throw new Error("Table Layout don't have event "+e+".")}}))},e}(),V=B,F=n(2),H=n(29),$=n.n(H),q={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var e=this.layout;if(!e&&this.table&&(e=this.table.layout),!e)throw new Error("Can not find table layout.");return e}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(e){var t=this.$el.querySelectorAll("colgroup > col");if(t.length){var n=e.getFlattenColumns(),r={};n.forEach((function(e){r[e.id]=e}));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=s.getAttribute("name"),c=r[a];c&&s.setAttribute("width",c.realWidth||c.width)}}},onScrollableChange:function(e){for(var t=this.$el.querySelectorAll("colgroup > col[name=gutter]"),n=0,r=t.length;n<r;n++){var i=t[n];i.setAttribute("width",e.scrollY?e.gutterWidth:"0")}for(var o=this.$el.querySelectorAll("th.gutter"),s=0,a=o.length;s<a;s++){var c=o[s];c.style.width=e.scrollY?e.gutterWidth+"px":"0",c.style.display=e.scrollY?"":"none"}}}},G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K={name:"ElTableBody",mixins:[q],components:{ElCheckbox:s.a,ElTooltip:$.a},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(e){var t=this,n=this.data||[];return e("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})}))]),e("tbody",[n.reduce((function(e,n){return e.concat(t.wrappedRowRender(n,e.length))}),[]),e("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:z({table:function(){return this.$parent}},U({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length},hasExpandColumn:function(e){return e.columns.some((function(e){var t=e.type;return"expand"===t}))}}),{firstDefaultColumnIndex:function(){return Object(w["arrayFindIndex"])(this.columns,(function(e){var t=e.type;return"default"===t}))}}),watch:{"store.states.hoverRow":function(e,t){var n=this;if(this.store.states.isComplex&&!this.$isServer){var r=window.requestAnimationFrame;r||(r=function(e){return setTimeout(e,16)}),r((function(){var r=n.$el.querySelectorAll(".el-table__row"),i=r[t],o=r[e];i&&Object(F["removeClass"])(i,"hover-row"),o&&Object(F["addClass"])(o,"hover-row")}))}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=L()(50,(function(e){return e.handleShowPopper()}))},methods:{getKeyOfRow:function(e,t){var n=this.table.rowKey;return n?Object(E["g"])(e,n):t},isColumnHidden:function(e){return!0===this.fixed||"left"===this.fixed?e>=this.leftFixedLeafCount:"right"===this.fixed?e<this.columnsCount-this.rightFixedLeafCount:e<this.leftFixedLeafCount||e>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(e,t,n,r){var i=1,o=1,s=this.table.spanMethod;if("function"===typeof s){var a=s({row:e,column:t,rowIndex:n,columnIndex:r});Array.isArray(a)?(i=a[0],o=a[1]):"object"===("undefined"===typeof a?"undefined":G(a))&&(i=a.rowspan,o=a.colspan)}return{rowspan:i,colspan:o}},getRowStyle:function(e,t){var n=this.table.rowStyle;return"function"===typeof n?n.call(null,{row:e,rowIndex:t}):n||null},getRowClass:function(e,t){var n=["el-table__row"];this.table.highlightCurrentRow&&e===this.store.states.currentRow&&n.push("current-row"),this.stripe&&t%2===1&&n.push("el-table__row--striped");var r=this.table.rowClassName;return"string"===typeof r?n.push(r):"function"===typeof r&&n.push(r.call(null,{row:e,rowIndex:t})),this.store.states.expandRows.indexOf(e)>-1&&n.push("expanded"),n},getCellStyle:function(e,t,n,r){var i=this.table.cellStyle;return"function"===typeof i?i.call(null,{rowIndex:e,columnIndex:t,row:n,column:r}):i},getCellClass:function(e,t,n,r){var i=[r.id,r.align,r.className];this.isColumnHidden(t)&&i.push("is-hidden");var o=this.table.cellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:e,columnIndex:t,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},getColspanRealWidth:function(e,t,n){if(t<1)return e[n].realWidth;var r=e.map((function(e){var t=e.realWidth;return t})).slice(n,n+t);return r.reduce((function(e,t){return e+t}),-1)},handleCellMouseEnter:function(e,t){var n=this.table,r=Object(E["b"])(e);if(r){var i=Object(E["c"])(n,r),o=n.hoverState={cell:r,column:i,row:t};n.$emit("cell-mouse-enter",o.row,o.column,o.cell,e)}var s=e.target.querySelector(".cell");if(Object(F["hasClass"])(s,"el-tooltip")&&s.childNodes.length){var a=document.createRange();a.setStart(s,0),a.setEnd(s,s.childNodes.length);var c=a.getBoundingClientRect().width,u=(parseInt(Object(F["getStyle"])(s,"paddingLeft"),10)||0)+(parseInt(Object(F["getStyle"])(s,"paddingRight"),10)||0);if((c+u>s.offsetWidth||s.scrollWidth>s.offsetWidth)&&this.$refs.tooltip){var l=this.$refs.tooltip;this.tooltipContent=r.innerText||r.textContent,l.referenceElm=r,l.$refs.popper&&(l.$refs.popper.style.display="none"),l.doDestroy(),l.setExpectedState(!0),this.activateTooltip(l)}}},handleCellMouseLeave:function(e){var t=this.$refs.tooltip;t&&(t.setExpectedState(!1),t.handleClosePopper());var n=Object(E["b"])(e);if(n){var r=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",r.row,r.column,r.cell,e)}},handleMouseEnter:L()(30,(function(e){this.store.commit("setHoverRow",e)})),handleMouseLeave:L()(30,(function(){this.store.commit("setHoverRow",null)})),handleContextMenu:function(e,t){this.handleEvent(e,t,"contextmenu")},handleDoubleClick:function(e,t){this.handleEvent(e,t,"dblclick")},handleClick:function(e,t){this.store.commit("setCurrentRow",t),this.handleEvent(e,t,"click")},handleEvent:function(e,t,n){var r=this.table,i=Object(E["b"])(e),o=void 0;i&&(o=Object(E["c"])(r,i),o&&r.$emit("cell-"+n,t,o,i,e)),r.$emit("row-"+n,t,o,e)},rowRender:function(e,t,n){var r=this,i=this.$createElement,o=this.treeIndent,s=this.columns,a=this.firstDefaultColumnIndex,c=s.map((function(e,t){return r.isColumnHidden(t)})),u=this.getRowClass(e,t),l=!0;n&&(u.push("el-table__row--level-"+n.level),l=n.display);var f=l?null:{display:"none"};return i("tr",{style:[f,this.getRowStyle(e,t)],class:u,key:this.getKeyOfRow(e,t),on:{dblclick:function(t){return r.handleDoubleClick(t,e)},click:function(t){return r.handleClick(t,e)},contextmenu:function(t){return r.handleContextMenu(t,e)},mouseenter:function(e){return r.handleMouseEnter(t)},mouseleave:this.handleMouseLeave}},[s.map((function(u,l){var f=r.getSpan(e,u,t,l),d=f.rowspan,h=f.colspan;if(!d||!h)return null;var p=z({},u);p.realWidth=r.getColspanRealWidth(s,h,l);var g={store:r.store,_self:r.context||r.table.$vnode.context,column:p,row:e,$index:t};return l===a&&n&&(g.treeNode={indent:n.level*o,level:n.level},"boolean"===typeof n.expanded&&(g.treeNode.expanded=n.expanded,"loading"in n&&(g.treeNode.loading=n.loading),"noLazyChildren"in n&&(g.treeNode.noLazyChildren=n.noLazyChildren))),i("td",{style:r.getCellStyle(t,l,e,u),class:r.getCellClass(t,l,e,u),attrs:{rowspan:d,colspan:h},on:{mouseenter:function(t){return r.handleCellMouseEnter(t,e)},mouseleave:r.handleCellMouseLeave}},[u.renderCell.call(r._renderProxy,r.$createElement,g,c[l])])}))])},wrappedRowRender:function(e,t){var n=this,r=this.$createElement,i=this.store,o=i.isRowExpanded,s=i.assertRowKey,a=i.states,c=a.treeData,u=a.lazyTreeNodeMap,l=a.childrenColumnName,f=a.rowKey;if(this.hasExpandColumn&&o(e)){var d=this.table.renderExpanded,h=this.rowRender(e,t);return d?[[h,r("tr",{key:"expanded-row__"+h.key},[r("td",{attrs:{colspan:this.columnsCount},class:"el-table__cell el-table__expanded-cell"},[d(this.$createElement,{row:e,$index:t,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),h)}if(Object.keys(c).length){s();var p=Object(E["g"])(e,f),g=c[p],m=null;g&&(m={expanded:g.expanded,level:g.level,display:!0},"boolean"===typeof g.lazy&&("boolean"===typeof g.loaded&&g.loaded&&(m.noLazyChildren=!(g.children&&g.children.length)),m.loading=g.loading));var v=[this.rowRender(e,t,m)];if(g){var y=0,_=function e(r,i){r&&r.length&&i&&r.forEach((function(r){var o={display:i.display&&i.expanded,level:i.level+1},s=Object(E["g"])(r,f);if(void 0===s||null===s)throw new Error("for nested data item, row-key is required.");if(g=z({},c[s]),g&&(o.expanded=g.expanded,g.level=g.level||o.level,g.display=!(!g.expanded||!o.display),"boolean"===typeof g.lazy&&("boolean"===typeof g.loaded&&g.loaded&&(o.noLazyChildren=!(g.children&&g.children.length)),o.loading=g.loading)),y++,v.push(n.rowRender(r,t+y,o)),g){var a=u[s]||r[l];e(a,g)}}))};g.display=!0;var b=u[p]||e[l];_(b,g)}return v}return this.rowRender(e,t)}}},Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"}},[e.multiple?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("div",{staticClass:"el-table-filter__content"},[n("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[n("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:e.filteredValue,callback:function(t){e.filteredValue=t},expression:"filteredValue"}},e._l(e.filters,(function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1)],1),n("div",{staticClass:"el-table-filter__bottom"},[n("button",{class:{"is-disabled":0===e.filteredValue.length},attrs:{disabled:0===e.filteredValue.length},on:{click:e.handleConfirm}},[e._v(e._s(e.t("el.table.confirmFilter")))]),n("button",{on:{click:e.handleReset}},[e._v(e._s(e.t("el.table.resetFilter")))])])]):n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("ul",{staticClass:"el-table-filter__list"},[n("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===e.filterValue||null===e.filterValue},on:{click:function(t){e.handleSelect(null)}}},[e._v(e._s(e.t("el.table.clearFilter")))]),e._l(e.filters,(function(t){return n("li",{key:t.value,staticClass:"el-table-filter__list-item",class:{"is-active":e.isActive(t)},attrs:{label:t.value},on:{click:function(n){e.handleSelect(t.value)}}},[e._v(e._s(t.text))])}))],2)])])},W=[];Y._withStripped=!0;var J=n(5),Q=n.n(J),X=n(13),Z=n(12),ee=n.n(Z),te=[];!_.a.prototype.$isServer&&document.addEventListener("click",(function(e){te.forEach((function(t){var n=e.target;t&&t.$el&&(n===t.$el||t.$el.contains(n)||t.handleOutsideClick&&t.handleOutsideClick(e))}))}));var ne={open:function(e){e&&te.push(e)},close:function(e){var t=te.indexOf(e);-1!==t&&te.splice(e,1)}},re=n(39),ie=n.n(re),oe=n(15),se=n.n(oe),ae={name:"ElTableFilterPanel",mixins:[Q.a,g.a],directives:{Clickoutside:ee.a},components:{ElCheckbox:s.a,ElCheckboxGroup:ie.a,ElScrollbar:se.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(e){return e.value===this.filterValue},handleOutsideClick:function(){var e=this;setTimeout((function(){e.showPopper=!1}),16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(e){this.filterValue=e,"undefined"!==typeof e&&null!==e?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(e){this.table.store.commit("filterChange",{column:this.column,values:e}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(e){this.filteredValue&&("undefined"!==typeof e&&null!==e?this.filteredValue.splice(0,1,e):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(e){this.column&&(this.column.filteredValue=e)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var e=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",(function(){e.updatePopper()})),this.$watch("showPopper",(function(t){e.column&&(e.column.filterOpened=t),t?ne.open(e):ne.close(e)}))},watch:{showPopper:function(e){!0===e&&parseInt(this.popperJS._popper.style.zIndex,10)<X["PopupManager"].zIndex&&(this.popperJS._popper.style.zIndex=X["PopupManager"].nextZIndex())}}},ce=ae,ue=n(0),le=Object(ue["a"])(ce,Y,W,!1,null,null,null);le.options.__file="packages/table/src/filter-panel.vue";var fe=le.exports,de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he=function e(t){var n=[];return t.forEach((function(t){t.children?(n.push(t),n.push.apply(n,e(t.children))):n.push(t)})),n},pe=function(e){var t=1,n=function e(n,r){if(r&&(n.level=r.level+1,t<n.level&&(t=n.level)),n.children){var i=0;n.children.forEach((function(t){e(t,n),i+=t.colSpan})),n.colSpan=i}else n.colSpan=1};e.forEach((function(e){e.level=1,n(e)}));for(var r=[],i=0;i<t;i++)r.push([]);var o=he(e);return o.forEach((function(e){e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,r[e.level-1].push(e)})),r},ge={name:"ElTableHeader",mixins:[q],render:function(e){var t=this,n=this.store.states.originColumns,r=pe(n,this.columns),i=r.length>1;return i&&(this.$parent.isGroup=!0),e("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})})),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("thead",{class:[{"is-group":i,"has-gutter":this.hasGutter}]},[this._l(r,(function(n,r){return e("tr",{style:t.getHeaderRowStyle(r),class:t.getHeaderRowClass(r)},[n.map((function(i,o){return e("th",{attrs:{colspan:i.colSpan,rowspan:i.rowSpan},on:{mousemove:function(e){return t.handleMouseMove(e,i)},mouseout:t.handleMouseOut,mousedown:function(e){return t.handleMouseDown(e,i)},click:function(e){return t.handleHeaderClick(e,i)},contextmenu:function(e){return t.handleHeaderContextMenu(e,i)}},style:t.getHeaderCellStyle(r,o,n,i),class:t.getHeaderCellClass(r,o,n,i),key:i.id},[e("div",{class:["cell",i.filteredValue&&i.filteredValue.length>0?"highlight":"",i.labelClassName]},[i.renderHeader?i.renderHeader.call(t._renderProxy,e,{column:i,$index:o,store:t.store,_self:t.$parent.$vnode.context}):i.label,i.sortable?e("span",{class:"caret-wrapper",on:{click:function(e){return t.handleSortClick(e,i)}}},[e("i",{class:"sort-caret ascending",on:{click:function(e){return t.handleSortClick(e,i,"ascending")}}}),e("i",{class:"sort-caret descending",on:{click:function(e){return t.handleSortClick(e,i,"descending")}}})]):"",i.filterable?e("span",{class:"el-table__column-filter-trigger",on:{click:function(e){return t.handleFilterClick(e,i)}}},[e("i",{class:["el-icon-arrow-down",i.filterOpened?"el-icon-arrow-up":""]})]):""])])})),t.hasGutter?e("th",{class:"el-table__cell gutter"}):""])}))])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:s.a},computed:de({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},U({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.defaultSort,n=t.prop,r=t.order,i=!0;e.store.commit("sort",{prop:n,order:r,init:i})}))},beforeDestroy:function(){var e=this.filterPanels;for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].$destroy(!0)},methods:{isCellHidden:function(e,t){for(var n=0,r=0;r<e;r++)n+=t[r].colSpan;var i=n+t[e].colSpan-1;return!0===this.fixed||"left"===this.fixed?i>=this.leftFixedLeafCount:"right"===this.fixed?n<this.columnsCount-this.rightFixedLeafCount:i<this.leftFixedLeafCount||n>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(e){var t=this.table.headerRowStyle;return"function"===typeof t?t.call(null,{rowIndex:e}):t},getHeaderRowClass:function(e){var t=[],n=this.table.headerRowClassName;return"string"===typeof n?t.push(n):"function"===typeof n&&t.push(n.call(null,{rowIndex:e})),t.join(" ")},getHeaderCellStyle:function(e,t,n,r){var i=this.table.headerCellStyle;return"function"===typeof i?i.call(null,{rowIndex:e,columnIndex:t,row:n,column:r}):i},getHeaderCellClass:function(e,t,n,r){var i=[r.id,r.order,r.headerAlign,r.className,r.labelClassName];0===e&&this.isCellHidden(t,n)&&i.push("is-hidden"),r.children||i.push("is-leaf"),r.sortable&&i.push("is-sortable");var o=this.table.headerCellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:e,columnIndex:t,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},toggleAllSelection:function(e){e.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(e,t){e.stopPropagation();var n=e.target,r="TH"===n.tagName?n:n.parentNode;if(!Object(F["hasClass"])(r,"noclick")){r=r.querySelector(".el-table__column-filter-trigger")||r;var i=this.$parent,o=this.filterPanels[t.id];o&&t.filterOpened?o.showPopper=!1:(o||(o=new _.a(fe),this.filterPanels[t.id]=o,t.filterPlacement&&(o.placement=t.filterPlacement),o.table=i,o.cell=r,o.column=t,!this.$isServer&&o.$mount(document.createElement("div"))),setTimeout((function(){o.showPopper=!0}),16))}},handleHeaderClick:function(e,t){!t.filters&&t.sortable?this.handleSortClick(e,t):t.filterable&&!t.sortable&&this.handleFilterClick(e,t),this.$parent.$emit("header-click",t,e)},handleHeaderContextMenu:function(e,t){this.$parent.$emit("header-contextmenu",t,e)},handleMouseDown:function(e,t){var n=this;if(!this.$isServer&&!(t.children&&t.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var r=this.$parent,i=r.$el,o=i.getBoundingClientRect().left,s=this.$el.querySelector("th."+t.id),a=s.getBoundingClientRect(),c=a.left-o+30;Object(F["addClass"])(s,"noclick"),this.dragState={startMouseLeft:e.clientX,startLeft:a.right-o,startColumnLeft:a.left-o,tableLeft:o};var u=r.$refs.resizeProxy;u.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var l=function(e){var t=e.clientX-n.dragState.startMouseLeft,r=n.dragState.startLeft+t;u.style.left=Math.max(c,r)+"px"},f=function i(){if(n.dragging){var o=n.dragState,a=o.startColumnLeft,c=o.startLeft,f=parseInt(u.style.left,10),d=f-a;t.width=t.realWidth=d,r.$emit("header-dragend",t.width,c-a,t,e),n.store.scheduleLayout(),document.body.style.cursor="",n.dragging=!1,n.draggingColumn=null,n.dragState={},r.resizeProxyVisible=!1}document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){Object(F["removeClass"])(s,"noclick")}),0)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",f)}},handleMouseMove:function(e,t){if(!(t.children&&t.children.length>0)){var n=e.target;while(n&&"TH"!==n.tagName)n=n.parentNode;if(t&&t.resizable&&!this.dragging&&this.border){var r=n.getBoundingClientRect(),i=document.body.style;r.width>12&&r.right-e.pageX<8?(i.cursor="col-resize",Object(F["hasClass"])(n,"is-sortable")&&(n.style.cursor="col-resize"),this.draggingColumn=t):this.dragging||(i.cursor="",Object(F["hasClass"])(n,"is-sortable")&&(n.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(e){var t=e.order,n=e.sortOrders;if(""===t)return n[0];var r=n.indexOf(t||null);return n[r>n.length-2?0:r+1]},handleSortClick:function(e,t,n){e.stopPropagation();var r=t.order===n?null:n||this.toggleOrder(t),i=e.target;while(i&&"TH"!==i.tagName)i=i.parentNode;if(i&&"TH"===i.tagName&&Object(F["hasClass"])(i,"noclick"))Object(F["removeClass"])(i,"noclick");else if(t.sortable){var o=this.store.states,s=o.sortProp,a=void 0,c=o.sortingColumn;(c!==t||c===t&&null===c.order)&&(c&&(c.order=null),o.sortingColumn=t,s=t.property),a=t.order=r||null,o.sortProp=s,o.sortOrder=a,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve={name:"ElTableFooter",mixins:[q],render:function(e){var t=this,n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach((function(e,r){if(0!==r){var i=t.store.states.data.map((function(t){return Number(t[e.property])})),o=[],s=!0;i.forEach((function(e){if(!isNaN(e)){s=!1;var t=(""+e).split(".")[1];o.push(t?t.length:0)}}));var a=Math.max.apply(null,o);n[r]=s?"":i.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:parseFloat((e+t).toFixed(Math.min(a,20)))}),0)}else n[r]=t.sumText})),e("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})})),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("tbody",{class:[{"has-gutter":this.hasGutter}]},[e("tr",[this.columns.map((function(r,i){return e("td",{key:i,attrs:{colspan:r.colSpan,rowspan:r.rowSpan},class:[].concat(t.getRowClasses(r,i),["el-table__cell"])},[e("div",{class:["cell",r.labelClassName]},[n[i]])])})),this.hasGutter?e("th",{class:"el-table__cell gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:me({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},U({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),methods:{isCellHidden:function(e,t,n){if(!0===this.fixed||"left"===this.fixed)return e>=this.leftFixedLeafCount;if("right"===this.fixed){for(var r=0,i=0;i<e;i++)r+=t[i].colSpan;return r<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!n.fixed)||(e<this.leftFixedCount||e>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(e,t){var n=[e.id,e.align,e.labelClassName];return e.className&&n.push(e.className),this.isCellHidden(t,this.columns,e)&&n.push("is-hidden"),e.children||n.push("is-leaf"),n}}},ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e=1,be={name:"ElTable",mixins:[g.a,v.a],directives:{Mousewheel:h},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:ge,TableFooter:ve,TableBody:K,ElCheckbox:s.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(e){this.store.commit("setCurrentRow",e)},toggleRowSelection:function(e,t){this.store.toggleRowSelection(e,t,!1),this.store.updateAllSelected()},toggleRowExpansion:function(e,t){this.store.toggleRowExpansionAdapter(e,t)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(e){this.store.clearFilter(e)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){var e=this.layout.updateScrollY();e&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(e,t){var n=this.bodyWrapper;if(Math.abs(t.spinY)>0){var r=n.scrollTop;t.pixelY<0&&0!==r&&e.preventDefault(),t.pixelY>0&&n.scrollHeight-n.clientHeight>r&&e.preventDefault(),n.scrollTop+=Math.ceil(t.pixelY/5)}else n.scrollLeft+=Math.ceil(t.pixelX/5)},handleHeaderFooterMousewheel:function(e,t){var n=t.pixelX,r=t.pixelY;Math.abs(n)>=Math.abs(r)&&(this.bodyWrapper.scrollLeft+=t.pixelX/5)},syncPostion:Object(a["throttle"])(20,(function(){var e=this.bodyWrapper,t=e.scrollLeft,n=e.scrollTop,r=e.offsetWidth,i=e.scrollWidth,o=this.$refs,s=o.headerWrapper,a=o.footerWrapper,c=o.fixedBodyWrapper,u=o.rightFixedBodyWrapper;s&&(s.scrollLeft=t),a&&(a.scrollLeft=t),c&&(c.scrollTop=n),u&&(u.scrollTop=n);var l=i-r-1;this.scrollPosition=t>=l?"right":0===t?"left":"middle"})),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(c["addResizeListener"])(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(c["removeResizeListener"])(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var e=!1,t=this.$el,n=this.resizeState,r=n.width,i=n.height,o=t.offsetWidth;r!==o&&(e=!0);var s=t.offsetHeight;(this.height||this.shouldUpdateHeight)&&i!==s&&(e=!0),e&&(this.resizeState.width=o,this.resizeState.height=s,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(e,t){this.store.commit("sort",{prop:e,order:t})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:ye({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var e=this.layout,t=e.bodyWidth,n=e.scrollY,r=e.gutterWidth;return t?t-(n?r:0)+"px":""},bodyHeight:function(){var e=this.layout,t=e.headerHeight,n=void 0===t?0:t,r=e.bodyHeight,i=e.footerHeight,o=void 0===i?0:i;if(this.height)return{height:r?r+"px":""};if(this.maxHeight){var s=Object(E["j"])(this.maxHeight);if("number"===typeof s)return{"max-height":s-o-(this.showHeader?n:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var e=Object(E["j"])(this.maxHeight);if("number"===typeof e)return e=this.layout.scrollX?e-this.layout.gutterWidth:e,this.showHeader&&(e-=this.layout.headerHeight),e-=this.layout.footerHeight,{"max-height":e+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var e="100%";return this.layout.appendHeight&&(e="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:e}}},U({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(e){this.layout.setHeight(e)}},maxHeight:{immediate:!0,handler:function(e){this.layout.setMaxHeight(e)}},currentRowKey:{immediate:!0,handler:function(e){this.rowKey&&this.store.setCurrentRowKey(e)}},data:{immediate:!0,handler:function(e){this.store.commit("setData",e)}},expandRowKeys:{immediate:!0,handler:function(e){e&&this.store.setExpandRowKeysAdapter(e)}}},created:function(){var e=this;this.tableId="el-table_"+_e++,this.debouncedUpdateLayout=Object(a["debounce"])(50,(function(){return e.doLayout()}))},mounted:function(){var e=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach((function(t){t.filteredValue&&t.filteredValue.length&&e.store.commit("filterChange",{column:t,values:t.filteredValue,silent:!0})})),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var e=this.treeProps,t=e.hasChildren,n=void 0===t?"hasChildren":t,r=e.children,i=void 0===r?"children":r;this.store=P(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:n,childrenColumnName:i});var o=new V({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader});return{layout:o,isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},Ce=be,Ee=Object(ue["a"])(Ce,r,i,!1,null,null,null);Ee.options.__file="packages/table/src/table.vue";var Se=Ee.exports;Se.install=function(e){e.component(Se.name,Se)};t["default"]=Se}])},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("1626"),c=n("7c73"),u=n("e163"),l=n("6eeb"),f=n("b622"),d=n("c430"),h=f("iterator"),p=!1;[].keys&&(o=[].keys(),"next"in o?(i=u(u(o)),i!==Object.prototype&&(r=i)):p=!0);var g=void 0==r||s((function(){var e={};return r[h].call(e)!==e}));g?r={}:d&&(r=c(r)),a(r[h])||l(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("5e77").EXISTS,o=n("e330"),s=n("9bf2").f,a=Function.prototype,c=o(a.toString),u=/^\s*function ([^ (]*)/,l=o(u.exec),f="name";r&&!i&&s(a,f,{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},b50d:function(e,t,n){"use strict";var r=n("c532"),i=n("467f"),o=n("7aac"),s=n("30b5"),a=n("83b9"),c=n("c345"),u=n("3934"),l=n("2d83");e.exports=function(e){return new Promise((function(t,n){var f=e.data,d=e.headers,h=e.responseType;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(g+":"+m)}var v=a(e.baseURL,e.url);function y(){if(p){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o=h&&"text"!==h&&"json"!==h?p.response:p.responseText,s={data:o,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,s),p=null}}if(p.open(e.method.toUpperCase(),s(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||u(v))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;_&&(d[e.xsrfHeaderName]=_)}"setRequestHeader"in p&&r.forEach(d,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),f||(f=null),p.send(f)}))}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,f=l&&l["for"],d=c?l:l&&l.withoutSetter||s;e.exports=function(e){if(!o(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&o(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):d(t)}return u[e]}},b727:function(e,t,n){var r=n("0366"),i=n("e330"),o=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),u=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,f=6==e,d=7==e,h=5==e||f;return function(p,g,m,v){for(var y,_,b=s(p),C=o(b),E=r(g,m),S=a(C),w=0,T=v||c,I=t?T(p,S):n||d?T(p,0):void 0;S>w;w++)if((h||w in C)&&(y=C[w],_=E(y,w,b),e))if(t)I[w]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:u(I,y)}else switch(e){case 4:return!1;case 7:u(I,y)}return f?-1:i||l?l:I}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},bc3a:function(e,t,n){e.exports=n("cee4")},c04e:function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("861d"),s=n("d9b5"),a=n("dc4a"),c=n("485a"),u=n("b622"),l=r.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,f);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},c098:function(e,t,n){e.exports=n("d4af")},c2cc:function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=137)}({137:function(e,t,n){"use strict";n.r(t);var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){var e=this.$parent;while(e&&"ElRow"!==e.$options.componentName)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],i={};return this.gutter&&(i.paddingLeft=this.gutter/2+"px",i.paddingRight=i.paddingLeft),["span","offset","pull","push"].forEach((function(e){(t[e]||0===t[e])&&n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){if("number"===typeof t[e])n.push("el-col-"+e+"-"+t[e]);else if("object"===r(t[e])){var i=t[e];Object.keys(i).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+i[t]:"el-col-"+e+"-"+i[t])}))}})),e(this.tag,{class:["el-col",n],style:i},this.$slots.default)},install:function(e){e.component(i.name,i)}};t["default"]=i}})},c345:function(e,t,n){"use strict";var r=n("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},c401:function(e,t,n){"use strict";var r=n("c532"),i=n("2444");e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,n){"use strict";var r=n("1d2b"),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return"undefined"!==typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function f(e){return"string"===typeof e}function d(e){return"number"===typeof e}function h(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e){return"[object Date]"===i.call(e)}function m(e){return"[object File]"===i.call(e)}function v(e){return"[object Blob]"===i.call(e)}function y(e){return"[object Function]"===i.call(e)}function _(e){return h(e)&&y(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function C(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function w(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=w(e[n],t):p(t)?e[n]=w({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)S(arguments[n],t);return e}function T(e,t,n){return S(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function I(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:c,isBuffer:a,isFormData:u,isArrayBufferView:l,isString:f,isNumber:d,isObject:h,isPlainObject:p,isUndefined:s,isDate:g,isFile:m,isBlob:v,isFunction:y,isStream:_,isURLSearchParams:b,isStandardBrowserEnv:E,forEach:S,merge:w,extend:T,trim:C,stripBOM:I}},c65b:function(e,t){var n=Function.prototype.call;e.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},c673:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=64)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},13:function(e,t){e.exports=n("5128")},17:function(e,t){e.exports=n("a742")},2:function(e,t){e.exports=n("5924")},25:function(e,t){e.exports=n("597f")},3:function(e,t){e.exports=n("8122")},6:function(e,t){e.exports=n("6b7c")},64:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-image"},[e.loading?e._t("placeholder",[n("div",{staticClass:"el-image__placeholder"})]):e.error?e._t("error",[n("div",{staticClass:"el-image__error"},[e._v(e._s(e.t("el.image.error")))])]):n("img",e._g(e._b({staticClass:"el-image__inner",class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.src},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)),e.preview?[e.showViewer?n("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,"url-list":e.previewSrcList}}):e._e()]:e._e()],2)},i=[];r._withStripped=!0;var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"viewer-fade"}},[n("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.viewerZIndex},attrs:{tabindex:"-1"}},[n("div",{staticClass:"el-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[n("i",{staticClass:"el-icon-close"})]),e.isSingle?e._e():[n("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[n("i",{staticClass:"el-icon-arrow-left"})]),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[n("i",{staticClass:"el-icon-arrow-right"})])],n("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[n("div",{staticClass:"el-image-viewer__actions__inner"},[n("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){e.handleActions("zoomOut")}}}),n("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleActions("zoomIn")}}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{class:e.mode.icon,on:{click:e.toggleMode}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){e.handleActions("anticlocelise")}}}),n("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){e.handleActions("clocelise")}}})])]),n("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,(function(t,r){return r===e.index?n("img",{key:t,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()})),0)],2)])},s=[];o._withStripped=!0;var a=n(2),c=n(3),u=n(13),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},d=Object(c["isFirefox"])()?"DOMMouseScroll":"mousewheel",h={name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:f.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,n=e.deg,r=e.offsetX,i=e.offsetY,o=e.enableTransition,s={transform:"scale("+t+") rotate("+n+"deg)",transition:o?"transform .3s":"","margin-left":r+"px","margin-top":i+"px"};return this.mode===f.CONTAIN&&(s.maxWidth=s.maxHeight="100%"),s},viewerZIndex:function(){var e=u["PopupManager"].nextZIndex();return this.zIndex>e?this.zIndex:e}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(e){var t=this;this.$nextTick((function(e){var n=t.$refs.img[0];n.complete||(t.loading=!0)}))}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var e=this;this._keyDownHandler=function(t){t.stopPropagation();var n=t.keyCode;switch(n){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut");break}},this._mouseWheelHandler=Object(c["rafThrottle"])((function(t){var n=t.wheelDelta?t.wheelDelta:-t.detail;n>0?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})})),Object(a["on"])(document,"keydown",this._keyDownHandler),Object(a["on"])(document,d,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(a["off"])(document,"keydown",this._keyDownHandler),Object(a["off"])(document,d,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(e){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var n=this.transform,r=n.offsetX,i=n.offsetY,o=e.pageX,s=e.pageY;this._dragHandler=Object(c["rafThrottle"])((function(e){t.transform.offsetX=r+e.pageX-o,t.transform.offsetY=i+e.pageY-s})),Object(a["on"])(document,"mousemove",this._dragHandler),Object(a["on"])(document,"mouseup",(function(e){Object(a["off"])(document,"mousemove",t._dragHandler)})),e.preventDefault()}},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=Object.keys(f),t=Object.values(f),n=t.indexOf(this.mode),r=(n+1)%e.length;this.mode=f[e[r]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var n=l({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),r=n.zoomRate,i=n.rotateDeg,o=n.enableTransition,s=this.transform;switch(e){case"zoomOut":s.scale>.2&&(s.scale=parseFloat((s.scale-r).toFixed(3)));break;case"zoomIn":s.scale=parseFloat((s.scale+r).toFixed(3));break;case"clocelise":s.deg+=i;break;case"anticlocelise":s.deg-=i;break}s.enableTransition=o}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},p=h,g=n(0),m=Object(g["a"])(p,o,s,!1,null,null,null);m.options.__file="packages/image/src/image-viewer.vue";var v=m.exports,y=n(6),_=n.n(y),b=n(17),C=n(25),E=n.n(C),S=function(){return void 0!==document.documentElement.style.objectFit},w={NONE:"none",CONTAIN:"contain",COVER:"cover",FILL:"fill",SCALE_DOWN:"scale-down"},T="",I={name:"ElImage",mixins:[_.a],inheritAttrs:!1,components:{ImageViewer:v},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var e=this.fit;return!this.$isServer&&e?S()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return!this.$isServer&&!S()&&this.fit!==w.FILL},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&e.length>0},imageIndex:function(){var e=0,t=this.previewSrcList.indexOf(this.src);return t>=0&&(e=t),e}},watch:{src:function(e){this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var e=this;if(!this.$isServer){this.loading=!0,this.error=!1;var t=new Image;t.onload=function(n){return e.handleLoad(n,t)},t.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach((function(n){var r=e.$attrs[n];t.setAttribute(n,r)})),t.src=this.src}},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},handleLazyLoad:function(){Object(a["isInContainer"])(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var e=this.scrollContainer,t=null;t=Object(b["isHtmlElement"])(e)?e:Object(b["isString"])(e)?document.querySelector(e):Object(a["getScrollContainer"])(this.$el),t&&(this._scrollContainer=t,this._lazyLoadHandler=E()(200,this.handleLazyLoad),Object(a["on"])(t,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(Object(a["off"])(e,"scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(e){var t=this.imageWidth,n=this.imageHeight,r=this.$el,i=r.clientWidth,o=r.clientHeight;if(!t||!n||!i||!o)return{};var s=t/n,a=i/o;if(e===w.SCALE_DOWN){var c=t<i&&n<o;e=c?w.NONE:w.CONTAIN}switch(e){case w.NONE:return{width:"auto",height:"auto"};case w.CONTAIN:return s<a?{width:"auto"}:{height:"auto"};case w.COVER:return s<a?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(T=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=T,this.showViewer=!1}}},R=I,O=Object(g["a"])(R,r,i,!1,null,null,null);O.options.__file="packages/image/src/main.vue";var x=O.exports;x.install=function(e){e.component(x.name,x)};t["default"]=x}})},c6b6:function(e,t,n){var r=n("e330"),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8af:function(e,t,n){"use strict";var r=n("c532");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("e330"),i=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&c(l,n);while(t.length>u)i(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cbb5:function(e,t,n){},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},cee4:function(e,t,n){"use strict";var r=n("c532"),i=n("1d2b"),o=n("0a06"),s=n("4a7b"),a=n("2444");function c(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=c(a);u.Axios=o,u.create=function(e){return c(s(u.defaults,e))},u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.all=function(e){return Promise.all(e)},u.spread=n("0df6"),u.isAxiosError=n("5f02"),e.exports=u,e.exports.default=u},d010:function(e,t,n){"use strict";function r(e,t,n){this.$children.forEach((function(i){var o=i.$options.componentName;o===e?i.$emit.apply(i,[t].concat(n)):r.apply(i,[e,t].concat([n]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,i=r.$options.componentName;while(r&&(!i||i!==e))r=r.$parent,r&&(i=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),i=n("1626"),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},d1da:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACa5JREFUeF7tmrGOJNUZRv/q1ewELH4AUiQH3TUtiwFLBgcmwYIMJAid2Ab8AI69jv0AtrGdOATJZCBIcGCwBIxl9dzpwBIpDwBLMDvaLmtWa8laCbbr+2ruX1N1Jq5z/7rnztFVjaYJfjCAgW810OAGAxj4dgMEwm8HBr7DAIHw64EBAuF3AAOaAW4QzRvUTAwQyEwOmm1qBghE8wY1EwMEMpODZpuaAQLRvEHNxACBzOSg2aZmgEA0b1AzMUAgMzlotqkZIBDNG9RMDBDITA6abWoGCETzBjUTAwQyk4Nmm5oBAtG8Qc3EAIHM5KDZpmaAQDRvUDMxQCAzOWi2qRkgEM0b1EwMEMhMDpptagYIRPMGNRMDBDKTg2abmgEC0bxBzcQAgczkoNmmZoBANG9QMzFAIDM5aLapGSAQzRvUTAwQyEwOmm1qBghE8wY1EwMEMpODZpuaAQLRvEHNxACBzOSg2aZmgEA0b1AzMUAgMzlotqkZIBDN26DUer1+7N69e8umadaXC3ddt7lx48Z2s9l8M+ggFuttgEB6KxsWaNv2dtM0v+y67on/X7lpmi+7rvtTKeX2sBNZrY8BAulja+Bn27Z9OyJefcSy75RSXht4NMvtaYBA9hQ19GNt274QER/sue5PSykf7vksjw1ogEAGlNlnqbZtP4mIH+3J/LOU8uyez/LYgAYIZECZ+y61XC5vLhaLryPi5p7M3d1u9/h2u7275/M8NpABAhlIZJ9l2rZ9OiI+68NExDOllM97MjxuGiAQU6CCt237k4j4qCf7fCnl7z0ZHjcNEIgpUMEJRLGWwxBIgncCSZAujiQQUZyDEYhjry5LIHV9359GIAnSxZEEIopzMAJx7NVlCaSub26QBN/OSAJx7IksN4goLgEjkATpBJIgXRxJIKI4ByMQx15dlkDq+uYbJMG3M5JAHHsiyw0iikvACCRBOoEkSBdHEogozsEIxLFXlyWQur75Bknw7YwkEMeeyHKDiOISMAJJkE4gCdLFkQQiinMwAnHs1WUJpK5vvkESfDsjCcSxJ7LcIKK4BIxAEqQTSIJ0cSSBiOIcjEAce3VZAqnrm2+QBN/OSAJx7IksN4goLgEjkATpBJIgXRxJIKI4ByMQx15dlkDq+uYbJMG3M5JAHHsiyw0iikvACCRBOoEkSBdHEogozsEIxLFXlyWQur75Bknw7YwkEMeeyHKDiOISMAJJkE4gCdLFkQQiinMwAnHs1WUJpK5vvkESfDsjCcSxJ7LcIKK4BIxAEqQTSIJ0cSSBiOIcjEAce3VZAqnrm2+QBN/OSAJx7IksN4goLgEjkATpBJIgXRxJIKI4ByMQx15dlkDq+uYbJMG3M5JAHHsiyw0iikvACCRBOoEkSBdHEogozsEIxLFXlyWQur75Bknw7YwkEMeeyHKDiOISMAJJkE4gCdLFkdcmkOPj44OLi4uj3W73PXGvY8M+6vlCz/d8fpSPLxaLrw4ODk5PTk4uRvmCD73U6AM5Ojp6veu6n0XE0xFxeB2k8o6PNHAeEZ83TfPX09PTtx75dOIDow5ktVq91zTNi4l+GH3FBrque//s7OylKx4jLz/aQNq2fTki/ibvDPA6GXillPLuGF94lIEsl8tbi8Xi3xHx5Bil8U6DG/hit9v9YLvd3hl8ZXPBUQbStu2zEfGxuTfw62XguVLKJ2N75bEG8mZE/H5ssnifKzXwq1LKH650grD4WAP5eUT8WdgPyPU18ItSyl/G9vqjDGS1Wj3TNM2nY5PF+1ydga7rfnh2dvbZ1U3QVh5lIOv1+rGu6/7Tdd0T2ragrpOBpmm+bJrm+5vN5puxvfcoA7mU1LbtbyLi9tiE8T5XYuC3pZRRnvVoA3kQydsR8eqVHAmLjsXAO6WU18byMg+/x6gDeRDJCw9ukuOIuDlWkbxXLwN3I+Lk8lxLKR/2Iis/PPpA/udjuVzeXCwW64i4VdnRVY2b5T8rRsSd3W632W63l5GM/ufaBDJ6kz1ekH937yEr+VECSTgAAkmQLo4kEFGcgxGIY68uSyB1fd+fRiAJ0sWRBCKKczACcezVZQmkrm9ukATfzkgCceyJLDeIKC4BI5AE6QSSIF0cSSCiOAcjEMdeXZZA6vrmGyTBtzOSQBx7IssNIopLwAgkQTqBJEgXRxKIKM7BCMSxV5clkLq++QZJ8O2MJBDHnshyg4jiEjACSZBOIAnSxZEEIopzMAJx7NVlCaSub75BEnw7IwnEsSey3CCiuASMQBKkE0iCdHEkgYjiHIxAHHt1WQKp65tvkATfzkgCceyJLDeIKC4BI5AE6QSSIF0cSSCiOAcjEMdeXZZA6vrmGyTBtzOSQBx7IssNIopLwAgkQTqBJEgXRxKIKM7BCMSxV5clkLq++QZJ8O2MJBDHnshyg4jiEjACSZBOIAnSxZEEIopzMAJx7NVlCaSub75BEnw7IwnEsSey3CCiuASMQBKkE0iCdHEkgYjiHIxAHHt1WQKp65tvkATfzkgCceyJLDeIKC4BI5AE6QSSIF0cSSCiOAcjEMdeXZZA6vrmGyTBtzOSQBx7IssNIopLwAgkQTqBJEgXRxKIKM7BCMSxV5clkLq++QZJ8O2MJBDHnshyg4jiEjACSZBOIAnSxZEEIopzMAJx7NVlCaSu7/vT1uv1U7vd7qTP6MVicbzZbP7Vh+FZ3wCB+A57r3B8fHxwfn7+dUQc7gmfHx4ePn5ycnKx5/M8NpABAhlIZN9l2rb9R0Q8tyf3cSnlx3s+y2MDGiCQAWX2Wero6Oj1ruv+uA/TNM0bp6enb+3zLM8Ma4BAhvXZa7XVavVe0zQvfhfUdd37Z2dnL/VamIcHM0Agg6nUFmrb9uWI+F1EPPnQCl9ExK9LKe9qK0MNYYBAhrBorrFcLm8tFov15R+4Hiy12e12m+12e8dcGtw0QCCmQPBpGyCQaZ8vuzMNEIgpEHzaBghk2ufL7kwDBGIKBJ+2AQKZ9vmyO9MAgZgCwadtgECmfb7szjRAIKZA8GkbIJBpny+7Mw0QiCkQfNoGCGTa58vuTAMEYgoEn7YBApn2+bI70wCBmALBp22AQKZ9vuzONEAgpkDwaRsgkGmfL7szDRCIKRB82gYIZNrny+5MAwRiCgSftgECmfb5sjvTAIGYAsGnbYBApn2+7M40QCCmQPBpGyCQaZ8vuzMNEIgpEHzaBghk2ufL7kwDBGIKBJ+2AQKZ9vmyO9MAgZgCwadtgECmfb7szjRAIKZA8GkbIJBpny+7Mw0QiCkQfNoGCGTa58vuTAMEYgoEn7aB/wLbS7/nDJfi4AAAAABJRU5ErkJggg=="},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("e330"),i=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d397:function(e,t,n){"use strict";function r(e){return void 0!==e&&null!==e}function i(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}t.__esModule=!0,t.isDef=r,t.isKorean=i},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d422:function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),s=n("32e9"),a=n("84f2"),c=n("41a0"),u=n("7f20"),l=n("38fd"),f=n("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",g="values",m=function(){return this};e.exports=function(e,t,n,v,y,_,b){c(n,t,v);var C,E,S,w=function(e){if(!d&&e in O)return O[e];switch(e){case p:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",I=y==g,R=!1,O=e.prototype,x=O[f]||O[h]||y&&O[y],N=x||w(y),M=y?I?w("entries"):N:void 0,A="Array"==t&&O.entries||x;if(A&&(S=l(A.call(new e)),S!==Object.prototype&&S.next&&(u(S,T,!0),r||"function"==typeof S[f]||s(S,f,m))),I&&x&&x.name!==g&&(R=!0,N=function(){return x.call(this)}),r&&!b||!d&&!R&&O[f]||s(O,f,N),a[t]=N,a[T]=m,y)if(C={values:I?N:w(g),keys:_?N:w(p),entries:M},b)for(E in C)E in O||o(O,E,C[E]);else i(i.P+i.F*(d||R),t,C);return C}},"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"04f4":function(e,t,n){"use strict";var r=n("26f7"),i=n.n(r);i.a},"07e3":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"0a49":function(e,t,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),s=n("9def"),a=n("cd1c");e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,h=t||a;return function(t,a,p){for(var g,m,v=o(t),y=i(v),_=r(a,p,3),b=s(y.length),C=0,E=n?h(t,b):c?h(t,0):void 0;b>C;C++)if((d||C in y)&&(g=y[C],m=_(g,C,v),e))if(n)E[C]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:E.push(g)}else if(l)return!1;return f?-1:u||l?l:E}}},"0af2":function(e,t,n){},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,n){var r=n("ce10"),i=n("e11e");e.exports=Object.keys||function(e){return r(e,i)}},"0e15":function(e,t,n){"use strict";var r=n("9768"),i=n.n(r);i.a},"0fc9":function(e,t,n){var r=n("3a38"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},1021:function(e,t,n){},"107a":function(e,t,n){},1169:function(e,t,n){var r=n("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},1173:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},"11e9":function(e,t,n){var r=n("52a7"),i=n("4630"),o=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(n){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},1495:function(e,t,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},"15cf":function(e,t,n){},1654:function(e,t,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},1663:function(e,t,n){"use strict";var r=n("e86c"),i=n.n(r);i.a},1691:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(e,t,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(e,t,n){var r=n("f772");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"1c4c":function(e,t,n){"use strict";var r=n("9b43"),i=n("5ca1"),o=n("4bf8"),s=n("1fa8"),a=n("33a4"),c=n("9def"),u=n("f1ae"),l=n("27ee");i(i.S+i.F*!n("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=l(d);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&a(y))for(t=c(d.length),n=new h(t);t>v;v++)u(n,v,m?g(d[v],v):d[v]);else for(f=y.call(d),n=new h;!(i=f.next()).done;v++)u(n,v,m?s(f,g,[i.value,v],!0):i.value);return n.length=v,n}})},"1e45":function(e,t,n){"use strict";var r=n("83d7"),i=n.n(r);i.a},"1ec9":function(e,t,n){var r=n("f772"),i=n("e53d").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"1fa8":function(e,t,n){var r=n("cb7c");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},"20d6":function(e,t,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"20fd":function(e,t,n){"use strict";var r=n("d9f6"),i=n("aebd");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),s=n("be13"),a=n("2b4c"),c=n("520a"),u=a("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=a(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!t})):void 0;if(!h||!p||"replace"===e&&!l||"split"===e&&!f){var g=/./[d],m=n(s,d,""[e],(function(e,t,n,r,i){return t.exec===c?h&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,e,v),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},"241e":function(e,t,n){var r=n("25eb");e.exports=function(e){return Object(r(e))}},"24c5":function(e,t,n){"use strict";var r,i,o,s,a=n("b8e3"),c=n("e53d"),u=n("d864"),l=n("40c3"),f=n("63b6"),d=n("f772"),h=n("79aa"),p=n("1173"),g=n("a22a"),m=n("f201"),v=n("4178").set,y=n("aba2")(),_=n("656e"),b=n("4439"),C=n("bc13"),E=n("cd78"),S="Promise",w=c.TypeError,T=c.process,I=T&&T.versions,R=I&&I.v8||"",O=c[S],x="process"==l(T),N=function(){},M=i=_.f,A=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n("5168")("species")]=function(e){e(N,N)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(N)instanceof t&&0!==R.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(r){}}(),L=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&D(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?u(w("Promise-chain cycle")):(o=L(n))?o.call(n,c,u):c(n)):u(r)}catch(f){l&&!s&&l.exit(),u(f)}};while(n.length>o)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&U(e)}))}},U=function(e){v.call(c,(function(){var t,n,r,i=e._v,o=k(e);if(o&&(t=b((function(){x?T.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=x||k(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){v.call(c,(function(){var t;x?T.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=L(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,u(B,r,1),u(j,r,1))}catch(i){j.call(r,i)}})):(n._v=e,n._s=1,P(n,!1))}catch(r){j.call({_w:n,_d:!1},r)}}};A||(O=function(e){p(this,O,S,"_h"),h(e),r.call(this);try{e(u(B,this,1),u(j,this,1))}catch(t){j.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("5c95")(O.prototype,{then:function(e,t){var n=M(m(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(B,e,1),this.reject=u(j,e,1)},_.f=M=function(e){return e===O||e===s?new o(e):i(e)}),f(f.G+f.W+f.F*!A,{Promise:O}),n("45f2")(O,S),n("4c95")(S),s=n("584a")[S],f(f.S+f.F*!A,S,{reject:function(e){var t=M(this),n=t.reject;return n(e),t.promise}}),f(f.S+f.F*(a||!A),S,{resolve:function(e){return E(a&&this===s?O:this,e)}}),f(f.S+f.F*!(A&&n("4ee1")((function(e){O.all(e)["catch"](N)}))),S,{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,s=1;g(e,!1,(function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=b((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},"25eb":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},2638:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)}var i=["attrs","props","domProps"],o=["class","style","directives"],s=["on","nativeOn"],a=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==i.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==o.indexOf(n)){var a=e[n]instanceof Array?e[n]:[e[n]],u=t[n]instanceof Array?t[n]:[t[n]];e[n]=a.concat(u)}else if(-1!==s.indexOf(n))for(var l in t[n])if(e[n][l]){var f=e[n][l]instanceof Array?e[n][l]:[e[n][l]],d=t[n][l]instanceof Array?t[n][l]:[t[n][l]];e[n][l]=f.concat(d)}else e[n][l]=t[n][l];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?c(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})},c=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=a},"26f7":function(e,t,n){},"27ee":function(e,t,n){var r=n("23c6"),i=n("2b4c")("iterator"),o=n("84f2");e.exports=n("8378").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"294c":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"2aba":function(e,t,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),c="toString",u=(""+a).split(c);n("8378").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||i(n,s,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n("230e")("iframe"),r=o.length,i="<",s=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2f21":function(e,t,n){"use strict";var r=n("79e5");e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},3024:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"30f1":function(e,t,n){"use strict";var r=n("b8e3"),i=n("63b6"),o=n("9138"),s=n("35e8"),a=n("481b"),c=n("8f60"),u=n("45f2"),l=n("53e2"),f=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",g="values",m=function(){return this};e.exports=function(e,t,n,v,y,_,b){c(n,t,v);var C,E,S,w=function(e){if(!d&&e in O)return O[e];switch(e){case p:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",I=y==g,R=!1,O=e.prototype,x=O[f]||O[h]||y&&O[y],N=x||w(y),M=y?I?w("entries"):N:void 0,A="Array"==t&&O.entries||x;if(A&&(S=l(A.call(new e)),S!==Object.prototype&&S.next&&(u(S,T,!0),r||"function"==typeof S[f]||s(S,f,m))),I&&x&&x.name!==g&&(R=!0,N=function(){return x.call(this)}),r&&!b||!d&&!R&&O[f]||s(O,f,N),a[t]=N,a[T]=m,y)if(C={values:I?N:w(g),keys:_?N:w(p),entries:M},b)for(E in C)E in O||o(O,E,C[E]);else i(i.P+i.F*(d||R),t,C);return C}},"32e9":function(e,t,n){var r=n("86cc"),i=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"32fc":function(e,t,n){var r=n("e53d").document;e.exports=r&&r.documentElement},"335c":function(e,t,n){var r=n("6b4c");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"33a4":function(e,t,n){var r=n("84f2"),i=n("2b4c")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},3423:function(e,t,n){"use strict";var r=n("107a"),i=n.n(r);i.a},"35e8":function(e,t,n){var r=n("d9f6"),i=n("aebd");e.exports=n("8e60")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"36c3":function(e,t,n){var r=n("335c"),i=n("25eb");e.exports=function(e){return r(i(e))}},3702:function(e,t,n){var r=n("481b"),i=n("5168")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"38fd":function(e,t,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"3a38":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"3b2b":function(e,t,n){var r=n("7726"),i=n("5dbc"),o=n("86cc").f,s=n("9093").f,a=n("aae3"),c=n("0bfb"),u=r.RegExp,l=u,f=u.prototype,d=/a/g,h=/a/g,p=new u(d)!==d;if(n("9e1e")&&(!p||n("79e5")((function(){return h[n("2b4c")("match")]=!1,u(d)!=d||u(h)==h||"/a/i"!=u(d,"i")})))){u=function(e,t){var n=this instanceof u,r=a(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(p?new l(r&&!o?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&o?c.call(e):t),n?this:f,u)};for(var g=function(e){e in u||o(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=s(l),v=0;m.length>v;)g(m[v++]);f.constructor=u,u.prototype=f,n("2aba")(r,"RegExp",u)}n("7a56")("RegExp")},"3c11":function(e,t,n){"use strict";var r=n("63b6"),i=n("584a"),o=n("e53d"),s=n("f201"),a=n("cd78");r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},"40c3":function(e,t,n){var r=n("6b4c"),i=n("5168")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},4178:function(e,t,n){var r,i,o,s=n("d864"),a=n("3024"),c=n("32fc"),u=n("1ec9"),l=n("e53d"),f=l.process,d=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,m=0,v={},y="onreadystatechange",_=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){_.call(e.data)};d&&h||(d=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return v[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete v[e]},"process"==n("6b4c")(f)?r=function(e){f.nextTick(s(_,e,1))}:g&&g.now?r=function(e){g.now(s(_,e,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),_.call(e)}}:function(e){setTimeout(s(_,e,1),0)}),e.exports={set:d,clear:h}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},"436f":function(e,t,n){"use strict";var r=n("0af2"),i=n.n(r);i.a},"43fc":function(e,t,n){"use strict";var r=n("63b6"),i=n("656e"),o=n("4439");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},4439:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},"454f":function(e,t,n){n("46a7");var r=n("584a").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},"456d":function(e,t,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(r(e))}}))},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"45f2":function(e,t,n){var r=n("d9f6").f,i=n("07e3"),o=n("5168")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"46a7":function(e,t,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"481b":function(e,t){e.exports={}},"49c2":function(e,t,n){"use strict";var r=n("acce"),i=n.n(r);i.a},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},"4c95":function(e,t,n){"use strict";var r=n("e53d"),i=n("584a"),o=n("d9f6"),s=n("8e60"),a=n("5168")("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},"4d21":function(e,t,n){"use strict";var r=n("917b"),i=n.n(r);i.a},"4ee1":function(e,t,n){var r=n("5168")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},"504c":function(e,t,n){var r=n("9e1e"),i=n("0d58"),o=n("6821"),s=n("52a7").f;e.exports=function(e){return function(t){var n,a=o(t),c=i(a),u=c.length,l=0,f=[];while(u>l)n=c[l++],r&&!s.call(a,n)||f.push(e?[n,a[n]]:a[n]);return f}}},"50ed":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},5168:function(e,t,n){var r=n("dbdb")("wks"),i=n("62a0"),o=n("e53d").Symbol,s="function"==typeof o,a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},"520a":function(e,t,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",c=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[a]||0!==t[a]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(e){var t,n,s,l,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),c&&(t=f[a]),s=i.call(f,e),c&&s&&(f[a]=f.global?s.index+s[0].length:t),u&&s&&s.length>1&&o.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),e.exports=s},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"53e2":function(e,t,n){var r=n("07e3"),i=n("241e"),o=n("5559")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"549b":function(e,t,n){"use strict";var r=n("d864"),i=n("63b6"),o=n("241e"),s=n("b0dc"),a=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");i(i.S+i.F*!n("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=l(d);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&a(y))for(t=c(d.length),n=new h(t);t>v;v++)u(n,v,m?g(d[v],v):d[v]);else for(f=y.call(d),n=new h;!(i=f.next()).done;v++)u(n,v,m?s(f,g,[i.value,v],!0):i.value);return n.length=v,n}})},"54a1":function(e,t,n){n("6c1c"),n("1654"),e.exports=n("95d5")},5537:function(e,t,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(e,t,n){var r=n("dbdb")("keys"),i=n("62a0");e.exports=function(e){return r[e]||(r[e]=i(e))}},"55dd":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),s=n("79e5"),a=[].sort,c=[1,2,3];r(r.P+r.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!n("2f21")(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),i(e))}})},"584a":function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"5b4e":function(e,t,n){var r=n("36c3"),i=n("b447"),o=n("0fc9");e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},"5c95":function(e,t,n){var r=n("35e8");e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},"5ca1":function(e,t,n){var r=n("7726"),i=n("8378"),o=n("32e9"),s=n("2aba"),a=n("9b43"),c="prototype",u=function(e,t,n){var l,f,d,h,p=e&u.F,g=e&u.G,m=e&u.S,v=e&u.P,y=e&u.B,_=g?r:m?r[t]||(r[t]={}):(r[t]||{})[c],b=g?i:i[t]||(i[t]={}),C=b[c]||(b[c]={});for(l in g&&(n=t),n)f=!p&&_&&void 0!==_[l],d=(f?_:n)[l],h=y&&f?a(d,r):v&&"function"==typeof d?a(Function.call,d):d,_&&s(_,l,d,e&u.U),b[l]!=d&&o(b,l,h),v&&C[l]!=d&&(C[l]=d)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5cc5":function(e,t,n){var r=n("2b4c")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},"5dbc":function(e,t,n){var r=n("d3f4"),i=n("8b97").set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},"5df3":function(e,t,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},"5eda":function(e,t,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"613b":function(e,t,n){var r=n("5537")("keys"),i=n("ca5a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"62a0":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"63b6":function(e,t,n){var r=n("e53d"),i=n("584a"),o=n("d864"),s=n("35e8"),a=n("07e3"),c="prototype",u=function(e,t,n){var l,f,d,h=e&u.F,p=e&u.G,g=e&u.S,m=e&u.P,v=e&u.B,y=e&u.W,_=p?i:i[t]||(i[t]={}),b=_[c],C=p?r:g?r[t]:(r[t]||{})[c];for(l in p&&(n=t),n)f=!h&&C&&void 0!==C[l],f&&a(_,l)||(d=f?C[l]:n[l],_[l]=p&&"function"!=typeof C[l]?n[l]:v&&f?o(d,r):y&&C[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((_.virtual||(_.virtual={}))[l]=d,e&u.R&&b&&!b[l]&&s(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"656e":function(e,t,n){"use strict";var r=n("79aa");function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},6762:function(e,t,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),i=n("be13");e.exports=function(e){return r(i(e))}},"696e":function(e,t,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),e.exports=n("584a").Promise},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a2b":function(e,t,n){},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"6b54":function(e,t,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),s="toString",a=/./[s],c=function(e){n("2aba")(RegExp.prototype,s,e,!0)};n("79e5")((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):a.name!=s&&c((function(){return a.call(this)}))},"6c1c":function(e,t,n){n("c367");for(var r=n("e53d"),i=n("35e8"),o=n("481b"),s=n("5168")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],f=l&&l.prototype;f&&!f[s]&&i(f,s,u),o[u]=o.Array}},"6da9":function(e,t,n){},"71c1":function(e,t,n){var r=n("3a38"),i=n("25eb");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},7514:function(e,t,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"774e":function(e,t,n){e.exports=n("d2d5")},"77f1":function(e,t,n){var r=n("4588"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},7802:function(e,t,n){},"794b":function(e,t,n){e.exports=!n("8e60")&&!n("294c")((function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"795b":function(e,t,n){e.exports=n("696e")},"79aa":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7a56":function(e,t,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),s=n("2b4c")("species");e.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},"7cd6":function(e,t,n){var r=n("40c3"),i=n("5168")("iterator"),o=n("481b");e.exports=n("584a").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"7e90":function(e,t,n){var r=n("d9f6"),i=n("e4ae"),o=n("c3a1");e.exports=n("8e60")?Object.defineProperties:function(e,t){i(e);var n,s=o(t),a=s.length,c=0;while(a>c)r.f(e,n=s[c++],t[n]);return e}},"7f20":function(e,t,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"7f7f":function(e,t,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n("9e1e")&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"820e":function(e,t,n){},8378:function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"83d7":function(e,t,n){},8436:function(e,t){e.exports=function(){}},"84f2":function(e,t){e.exports={}},"85f2":function(e,t,n){e.exports=n("454f")},8615:function(e,t,n){var r=n("5ca1"),i=n("504c")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},"86cc":function(e,t,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),s=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"8b97":function(e,t,n){var r=n("d3f4"),i=n("cb7c"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},"8e60":function(e,t,n){e.exports=!n("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8e6e":function(e,t,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),s=n("11e9"),a=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),c=s.f,u=i(r),l={},f=0;while(u.length>f)n=c(r,t=u[f++]),void 0!==n&&a(l,t,n);return l}})},"8f60":function(e,t,n){"use strict";var r=n("a159"),i=n("aebd"),o=n("45f2"),s={};n("35e8")(s,n("5168")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},9003:function(e,t,n){var r=n("6b4c");e.exports=Array.isArray||function(e){return"Array"==r(e)}},9093:function(e,t,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"909e":function(e,t,n){"use strict";var r=n("1021"),i=n.n(r);i.a},9138:function(e,t,n){e.exports=n("35e8")},"917b":function(e,t,n){},"95d5":function(e,t,n){var r=n("40c3"),i=n("5168")("iterator"),o=n("481b");e.exports=n("584a").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},"96cf":function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new O(r||[]);return o._invoke=w(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",p={};function g(){}function m(){}function v(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(x([])));b&&b!==n&&r.call(b,o)&&(y=b);var C=v.prototype=g.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e){function t(n,i,o,s){var a=u(e[n],e,i);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,s)}))}s(a.arg)}var n;function i(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=i}function w(e,t,n){var r=l;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return N()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=T(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=C.constructor=v,v.constructor=m,v[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(C),e},e.awrap=function(e){return{__await:e}},E(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i){var o=new S(c(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(C),C[a]="Generator",C[o]=function(){return this},C.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},9768:function(e,t,n){},"990b":function(e,t,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),s=n("7726").Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},"9b01":function(e,t,n){"use strict";var r=n("6da9"),i=n.n(r);i.a},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),e.exports=function(e){i[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a159:function(e,t,n){var r=n("e4ae"),i=n("7e90"),o=n("1691"),s=n("5559")("IE_PROTO"),a=function(){},c="prototype",u=function(){var e,t=n("1ec9")("iframe"),r=o.length,i="<",s=">";t.style.display="none",n("32fc").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+s+"document.F=Object"+i+"/script"+s),e.close(),u=e.F;while(r--)delete u[c][o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[c]=r(e),n=new a,a[c]=null,n[s]=e):n=u(),void 0===t?n:i(n,t)}},a215:function(e,t,n){},a22a:function(e,t,n){var r=n("d864"),i=n("b0dc"),o=n("3702"),s=n("e4ae"),a=n("b447"),c=n("7cd6"),u={},l={};t=e.exports=function(e,t,n,f,d){var h,p,g,m,v=d?function(){return e}:c(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(h=a(e.length);h>_;_++)if(m=t?y(s(p=e[_])[0],p[1]):y(e[_]),m===u||m===l)return m}else for(g=v.call(e);!(p=g.next()).done;)if(m=i(g,y,p.value,t),m===u||m===l)return m},t.BREAK=u,t.RETURN=l},a481:function(e,t,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),s=n("4588"),a=n("0390"),c=n("5f1b"),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,g){return[function(r,i){var o=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=g(n,e,this,t);if(i.done)return i.value;var f=r(e),d=String(this),h="function"===typeof t;h||(t=String(t));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}var _=[];while(1){var b=c(f,d);if(null===b)break;if(_.push(b),!v)break;var C=String(b[0]);""===C&&(f.lastIndex=a(d,o(f.lastIndex),y))}for(var E="",S=0,w=0;w<_.length;w++){b=_[w];for(var T=String(b[0]),I=u(l(s(b.index),d.length),0),R=[],O=1;O<b.length;O++)R.push(p(b[O]));var x=b.groups;if(h){var N=[T].concat(R,I,d);void 0!==x&&N.push(x);var M=String(t.apply(void 0,N))}else M=m(T,d,I,R,x,t);I>=S&&(E+=d.slice(S,I)+M,S=I+T.length)}return E+d.slice(S)}];function m(e,t,r,o,s,a){var c=r+e.length,u=o.length,l=h;return void 0!==s&&(s=i(s),l=d),n.call(a,l,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":a=s[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>u){var d=f(l/10);return 0===d?n:d<=u?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}a=o[l-1]}return void 0===a?"":a}))}}))},a745:function(e,t,n){e.exports=n("f410")},aa77:function(e,t,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),s=n("fdef"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(e,t,n){var i={},a=o((function(){return!!s[e]()||c[e]()!=c})),u=i[e]=a?t(d):s[e];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=f},aae3:function(e,t,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},aba2:function(e,t,n){var r=n("e53d"),i=n("4178").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n("6b4c")(s);e.exports=function(){var e,t,n,u=function(){var r,i;c&&(r=s.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},ac6a:function(e,t,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),s=n("7726"),a=n("32e9"),c=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),g=0;g<p.length;g++){var m,v=p[g],y=h[v],_=s[v],b=_&&_.prototype;if(b&&(b[l]||a(b,l,d),b[f]||a(b,f,v),c[v]=d,y))for(m in r)b[m]||o(b,m,r[m],!0)}},acce:function(e,t,n){},aebd:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b0dc:function(e,t,n){var r=n("e4ae");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},b447:function(e,t,n){var r=n("3a38"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},b8e3:function(e,t){e.exports=!0},bc13:function(e,t,n){var r=n("e53d"),i=r.navigator;e.exports=i&&i.userAgent||""},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c207:function(e,t){},c366:function(e,t,n){var r=n("6821"),i=n("9def"),o=n("77f1");e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},c367:function(e,t,n){"use strict";var r=n("8436"),i=n("50ed"),o=n("481b"),s=n("36c3");e.exports=n("30f1")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},c3a1:function(e,t,n){var r=n("e6f3"),i=n("1691");e.exports=Object.keys||function(e){return r(e,i)}},c5f6:function(e,t,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,h="Number",p=r[h],g=p,m=p.prototype,v=o(n("2aeb")(m))==h,y="trim"in String.prototype,_=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var s,c=t.slice(2),u=0,l=c.length;u<l;u++)if(s=c.charCodeAt(u),s<48||s>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?c((function(){m.valueOf.call(n)})):o(n)!=h)?s(new g(_(t)),n,p):_(t)};for(var b,C=n("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;C.length>E;E++)i(g,b=C[E])&&!i(p,b)&&f(p,b,l(g,b));p.prototype=m,m.constructor=p,n("2aba")(r,h,p)}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8bb:function(e,t,n){e.exports=n("54a1")},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),s=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},cd78:function(e,t,n){var r=n("e4ae"),i=n("f772"),o=n("656e");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},ce10:function(e,t,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),s=n("613b")("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},cfab:function(e,t,n){"use strict";var r=n("15cf"),i=n.n(r);i.a},d2c8:function(e,t,n){var r=n("aae3"),i=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},d2d5:function(e,t,n){n("1654"),n("549b"),e.exports=n("584a").Array.from},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d864:function(e,t,n){var r=n("79aa");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d9f6:function(e,t,n){var r=n("e4ae"),i=n("794b"),o=n("1bc3"),s=Object.defineProperty;t.f=n("8e60")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},dbdb:function(e,t,n){var r=n("584a"),i=n("e53d"),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dbdc:function(e,t,n){"use strict";var r=n("7802"),i=n.n(r);i.a},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e4ae:function(e,t,n){var r=n("f772");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},e53d:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(e,t,n){var r=n("07e3"),i=n("36c3"),o=n("5b4e")(!1),s=n("5559")("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);while(t.length>c)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},e853:function(e,t,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},e86c:function(e,t,n){},ed4b:function(e,t,n){"use strict";var r=n("a215"),i=n.n(r);i.a},f1ae:function(e,t,n){"use strict";var r=n("86cc"),i=n("4630");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},f201:function(e,t,n){var r=n("e4ae"),i=n("79aa"),o=n("5168")("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},f410:function(e,t,n){n("1af6"),e.exports=n("584a").Array.isArray},f559:function(e,t,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),s="startsWith",a=""[s];r(r.P+r.F*n("5147")(s),"String",{startsWith:function(e){var t=o(this,e,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},f772:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"string"==typeof e}function s(e){return(new Date).getTime()-e<864e5}function a(e){return!e||!(!Array.isArray(e)||0!=e.length)||!(!i(e)||0!=Object.values(e).length)}function c(e){return e&&"function"===typeof e}n.r(t),"undefined"!==typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("7f7f"),n("ac6a"),n("3b2b"),n("cadf"),n("8615"),n("6b54"),n("96cf");var u=n("795b"),l=n.n(u);function f(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):l.a.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new l.a((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))}}n("456d"),n("6762"),n("2fdb");var h,p,g=[],m={hover:function(e){},focus:function(e){var t=this;e.addEventListener("focus",(function(e){t.changeVisible()})),e.addEventListener("blur",(function(e){t.changeVisible()}))},click:function(e){var t=this;e.addEventListener("click",(function(e){e.stopPropagation(),L.hide(),t.changeVisible()}))},contextmenu:function(e){var t=this;e.addEventListener("contextmenu",(function(e){e.preventDefault(),t.changeVisible()}))}},v={name:"LemonPopover",props:{trigger:{type:String,default:"click",validator:function(e){return Object.keys(m).includes(e)}}},data:function(){return{popoverStyle:{},visible:!1}},created:function(){document.addEventListener("click",this._documentClickEvent),g.push(this.close)},mounted:function(){m[this.trigger].call(this,this.$slots.default[0].elm)},render:function(){var e=arguments[0];return e("span",{style:"position:relative"},[e("transition",{attrs:{name:"lemon-slide-top"}},[this.visible&&e("div",{class:"lemon-popover",ref:"popover",style:this.popoverStyle,on:{click:function(e){return e.stopPropagation()}}},[e("div",{class:"lemon-popover__content"},[this.$slots.content]),e("div",{class:"lemon-popover__arrow"})])]),this.$slots.default])},destroyed:function(){document.removeEventListener("click",this._documentClickEvent)},computed:{},watch:{visible:function(){var e=d(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.$nextTick();case 3:n=this.$slots.default[0].elm,r=this.$refs.popover,this.popoverStyle={top:"-".concat(r.offsetHeight+10,"px"),left:"".concat(n.offsetWidth/2-r.offsetWidth/2,"px")};case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:{_documentClickEvent:function(e){e.stopPropagation(),this.visible&&this.close()},changeVisible:function(){this.visible?this.close():this.open()},open:function(){this.closeAll(),this.visible=!0},closeAll:function(){g.forEach((function(e){return e()}))},close:function(){this.visible=!1}}},y=v;function _(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n("0e15");var b,C=_(y,h,p,!1,null,null,null),E=C.exports,S=function(){b&&(b.style.display="none")},w=function(){b&&(b.style.display="block")};document.addEventListener("click",(function(e){S()}));var T,I,R,O,x,N,M,A,L={hide:S,bind:function(e,t,n){e.addEventListener(t.modifiers.click?"click":"contextmenu",(function(e){if(!a(t.value)&&Array.isArray(t.value)){var r;t.modifiers.click&&e.stopPropagation(),e.preventDefault(),E.methods.closeAll();var i=[];t.modifiers.message?r=n.context:t.modifiers.contact&&(r=n.child),b||(b=document.createElement("div"),b.className="lemon-contextmenu",document.body.appendChild(b)),b.innerHTML=t.value.map((function(e){var t;if(t=c(e.visible)?e.visible(r):void 0===e.visible||e.visible,t){i.push(e);var n=e.icon?'<i class="lemon-contextmenu__icon '.concat(e.icon,'"></i>'):"";return'<div style="color:'.concat(e.color,'" title="').concat(e.text,'" class="lemon-contextmenu__item">').concat(n,"<span>").concat(e.text,"</span></div>")}return""})).join(""),b.style.top="".concat(e.pageY,"px"),b.style.left="".concat(e.pageX,"px"),b.childNodes.forEach((function(e,t){var n=i[t],o=n.click;n.render,e.addEventListener("click",(function(e){e.stopPropagation(),c(o)&&o(e,r,S)}))})),w()}}))}},P={name:"LemonTabs",props:{activeIndex:String},data:function(){return{active:this.activeIndex}},mounted:function(){this.active||(this.active=this.$slots["tab-pane"][0].data.attrs.index)},render:function(){var e=this,t=arguments[0],n=[],r=[];return this.$slots["tab-pane"].map((function(i){var o=i.data.attrs,s=o.tab,a=o.index;n.push(t("div",{class:"lemon-tabs-content__pane",directives:[{name:"show",value:e.active==a}]},[i])),r.push(t("div",{class:["lemon-tabs-nav__item",e.active==a&&"lemon-tabs-nav__item--active"],on:{click:function(){return e._handleNavClick(a)}}},[s]))})),t("div",{class:"lemon-tabs"},[t("div",{class:"lemon-tabs-content"},[n]),t("div",{class:"lemon-tabs-nav"},[r])])},methods:{_handleNavClick:function(e){this.active=e}}},U=P,k=(n("3423"),_(U,T,I,!1,null,null,null)),D=k.exports,j={name:"LemonButton",props:{color:{type:String,default:"default"},disabled:Boolean},render:function(){var e=arguments[0];return e("button",{class:["lemon-button","lemon-button--color-".concat(this.color)],attrs:{disabled:this.disabled,type:"button"},on:{click:this._handleClick}},[this.$slots.default])},methods:{_handleClick:function(e){this.$emit("click",e)}}},B=j,V=(n("1e45"),_(B,R,O,!1,null,null,null)),F=V.exports,H=(n("c5f6"),{name:"LemonBadge",props:{count:[Number,Boolean],overflowCount:{type:Number,default:99}},render:function(){var e=arguments[0];return e("span",{class:"lemon-badge"},[this.$slots.default,0!==this.count&&void 0!==this.count&&e("span",{class:["lemon-badge__label",this.isDot&&"lemon-badge__label--dot"]},[this.label])])},computed:{isDot:function(){return!0===this.count},label:function(){return this.isDot?"":this.count>this.overflowCount?"".concat(this.overflowCount,"+"):this.count}},methods:{}}),$=H,q=(n("dbdc"),_($,x,N,!1,null,null,null)),G=q.exports,z={name:"LemonAvatar",inject:["IMUI"],props:{src:String,icon:{type:String,default:"lemon-icon-people"},circle:{type:Boolean,default:function(){return!!this.IMUI&&this.IMUI.avatarCricle}},size:{type:Number,default:32}},data:function(){return{imageFinishLoad:!0}},render:function(){var e=this,t=arguments[0];return t("span",{style:this.style,class:["lemon-avatar",{"lemon-avatar--circle":this.circle}],on:{click:function(t){return e.$emit("click",t)}}},[(this.imageFinishLoad||!this.src)&&t("i",{class:this.icon}),t("img",{attrs:{src:this.src},on:{load:this._handleLoad}})])},computed:{style:function(){var e="".concat(this.size,"px");return{width:e,height:e,lineHeight:e,fontSize:"".concat(this.size/2,"px")}}},methods:{_handleLoad:function(){this.imageFinishLoad=!1}}},K=z,Y=(n("04f4"),_(K,M,A,!1,null,null,null)),W=Y.exports,J=n("2638"),Q=n.n(J),X=(n("8e6e"),n("85f2")),Z=n.n(X);function ee(e,t,n){return t in e?Z()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t,n){return e?e(n):t}function ne(e){return e<10?"0".concat(e):e}function re(e){var t,n=new Date(e),r=new Date,i=function(e){return e.getFullYear()},o=function(e){return"".concat(e.getMonth()+1,"-").concat(e.getDate())},s=i(n),a=i(r);return t=s!==a?"y年m月d日 h:i":"".concat(s,"-").concat(o(n))==="".concat(a,"-").concat(o(r))?"h:i":"m月d日 h:i",ie(e,t)}function ie(e,t){t||(t="y-m-d h:i:s"),e=e?new Date(e):new Date;for(var n=[e.getFullYear().toString(),ne((e.getMonth()+1).toString()),ne(e.getDate().toString()),ne(e.getHours().toString()),ne(e.getMinutes().toString()),ne(e.getSeconds().toString())],r="ymdhis",i=0;i<n.length;i++)t=t.replace(r.charAt(i),n[i]);return t}function oe(e,t){c(e)?e((function(){t()})):t()}function se(e){return e.replace(/<.*?>/gi,"")}function ae(e){return e.replace(/<(?!img).*?>/gi,"")}function ce(e){if(null==e||""==e)return"0 Bytes";var t=["B","K","M","G","T","P","E","Z","Y"],n=0,r=parseFloat(e);n=Math.floor(Math.log(r)/Math.log(1024));var i=r/Math.pow(1024,n);return i=parseFloat(i.toFixed(2)),i+t[n]}function ue(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}));return t}n("a481");var le,fe,de={name:"LemonContact",components:{},inject:{IMUI:{from:"IMUI",default:function(){return this}}},data:function(){return{}},props:{contact:Object,simple:Boolean,timeFormat:{type:Function,default:function(e){return ie(e,s(e)?"h:i":"y/m/d")}}},render:function(){var e=this,t=arguments[0];return t("div",{class:["lemon-contact",{"lemon-contact--name-center":this.simple}],attrs:{title:this.contact.displayName},on:{click:function(t){return e._handleClick(t,e.contact)}}},[te(this.$scopedSlots.default,this._renderInner(),this.contact)])},created:function(){},mounted:function(){},computed:{},watch:{},methods:{_renderInner:function(){var e=this.$createElement,t=this.contact;return[e("lemon-badge",{attrs:{count:this.simple?0:t.unread},class:"lemon-contact__avatar"},[e("lemon-avatar",{attrs:{size:40,src:t.avatar}})]),e("div",{class:"lemon-contact__inner"},[e("p",{class:"lemon-contact__label"},[e("span",{class:"lemon-contact__name"},[t.displayName]),!this.simple&&e("span",{class:"lemon-contact__time"},[this.timeFormat(t.lastSendTime)])]),!this.simple&&e("p",{class:"lemon-contact__content"},[o(t.lastContent)?e("span",Q()([{},{domProps:{innerHTML:t.lastContent}}])):t.lastContent])])]},_handleClick:function(e,t){this.$emit("click",t)}}},he=de,pe=(n("909e"),_(he,le,fe,!1,null,null,null)),ge=pe.exports;function me(e){throw new Error('"'+e+'" is read-only')}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("5df3"),n("1c4c");var _e,be,Ce,Ee,Se,we,Te,Ie=function(e,t){document.execCommand(e,!1,t)},Re=window.getSelection(),Oe=[],xe={name:"LemonEditor",inject:{IMUI:{from:"IMUI",default:function(){return this}}},components:{},props:{tools:{type:Array,default:function(){return[]}},sendText:{type:String,default:"发 送"},wrapKey:{type:Function,default:function(e){return 13==e.keyCode&&0==e.ctrlKey&&0==e.shiftKey}},sendKey:{type:Function,default:function(e){return 13==e.keyCode&&!0===e.ctrlKey}}},data:function(){return this.clipboardBlob=null,{clipboardUrl:"",submitDisabled:!0,accept:""}},created:function(){var e=this;this.IMUI.$on("change-contact",(function(){e.closeClipboardImage()}))},render:function(){var e=this,t=arguments[0],n=[],r=[];return this.proxyTools.forEach((function(i){var o=i.name,s=i.title,a=i.render,c=i.click,u=i.isRight;c=c||new Function;var l,f=["lemon-editor__tool-item",{"lemon-editor__tool-item--right":u}];l="emoji"==o?0==Oe.length?"":t("lemon-popover",{class:"lemon-editor__emoji"},[t("template",{slot:"content"},[e._renderEmojiTabs()]),t("div",{class:f,attrs:{title:s}},[a()])]):t("div",{class:f,on:{click:c},attrs:{title:s}},[a()]),u?r.push(l):n.push(l)})),t("div",{class:"lemon-editor"},[this.clipboardUrl&&t("div",{class:"lemon-editor__clipboard-image"},[t("img",{attrs:{src:this.clipboardUrl}}),t("div",[t("lemon-button",{style:{marginRight:"10px"},on:{click:this.closeClipboardImage},attrs:{color:"grey"}},["取消"]),t("lemon-button",{on:{click:this.sendClipboardImage}},["发送图片"])])]),t("input",{style:"display:none",attrs:{type:"file",multiple:"multiple",accept:this.accept},ref:"fileInput",on:{change:this._handleChangeFile}}),t("div",{class:"lemon-editor__tool"},[t("div",{class:"lemon-editor__tool-left"},[n]),t("div",{class:"lemon-editor__tool-right"},[r])]),t("div",{class:"lemon-editor__inner"},[t("div",{class:"lemon-editor__input",ref:"textarea",attrs:{contenteditable:"true",spellcheck:"false"},on:{keyup:this._handleKeyup,keydown:this._handleKeydown,paste:this._handlePaste,click:this._handleClick}})]),t("div",{class:"lemon-editor__footer"},[t("div",{class:"lemon-editor__tip"},[te(this.IMUI.$scopedSlots["editor-footer"],"使用 ctrl + enter 快捷发送消息")]),t("div",{class:"lemon-editor__submit"},[t("lemon-button",{attrs:{disabled:this.submitDisabled},on:{click:this._handleSend}},[this.sendText])])])])},computed:{proxyTools:function(){var e=this,t=this.$createElement;if(console.log("this.tools",this.tools),!this.tools)return[];var n=[{name:"emoji",title:"表情",click:null,render:function(e){return t("i",{class:"lemon-icon-emoji"})}},{name:"uploadFile",title:"文件上传",click:function(){return e.selectFile("*")},render:function(e){return t("i",{class:"lemon-icon-folder"})}},{name:"uploadImage",title:"图片上传",click:function(){return e.selectFile("image/*")},render:function(e){return t("i",{class:"lemon-icon-image"})}}],r=[];if(Array.isArray(this.tools)){var i={emoji:0,uploadFile:1,uploadImage:2},o=Object.keys(i);r=this.tools.map((function(e){return o.includes(e.name)?ye({},n[i[e.name]],{},e):e}))}else r=n;return r}},methods:{closeClipboardImage:function(){this.clipboardUrl="",this.clipboardBlob=null},sendClipboardImage:function(){this.clipboardBlob&&(this.$emit("upload",this.clipboardBlob),this.closeClipboardImage())},saveRangeToLast:function(){_e||(_e=document.createRange()),_e.selectNodeContents(textarea.value),_e.collapse(!1),Re.removeAllRanges(),Re.addRange(_e)},inertContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&saveRangeToLast(),this.focusRange(),Ie("insertHTML",e),this.saveRange()},saveRange:function(){_e=Re.getRangeAt(0)},focusRange:function(){this.$refs.textarea.focus(),_e&&(Re.removeAllRanges(),Re.addRange(_e))},_handleClick:function(){this.saveRange()},_renderEmojiTabs:function(){var e=this,t=this.$createElement,n=function(n){return n.map((function(n){return t("img",{attrs:{src:n.src,title:n.title},class:"lemon-editor__emoji-item",on:{click:function(){return e._handleSelectEmoji(n)}}})}))};if(Oe[0].label){var r=Oe.map((function(e,r){return t("div",{slot:"tab-pane",attrs:{index:r,tab:e.label}},[n(e.children)])}));return t("lemon-tabs",{style:"width: 412px"},[r])}return t("div",{class:"lemon-tabs-content",style:"width:406px"},[n(Oe)])},_handleSelectEmoji:function(e){this.inertContent('<img emoji-name="'.concat(e.name,'" src="').concat(e.src,'"></img>')),this._checkSubmitDisabled()},selectFile:function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.accept=t,e.next=3,this.$nextTick();case 3:this.$refs.fileInput.click();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),_handlePaste:function(e){e.preventDefault();var t=e.clipboardData||window.clipboardData,n=t.getData("Text");if(n)window.clipboardData?this.$refs.textarea.innerHTML=n:Ie("insertText",n);else{var r=this._getClipboardBlob(t),i=r.blob,o=r.blobUrl;this.clipboardBlob=i,this.clipboardUrl=o}},_getClipboardBlob:function(e){for(var t,n,r=0;r<e.items.length;++r)"file"==e.items[r].kind&&-1!==e.items[r].type.indexOf("image/")&&(t=e.items[r].getAsFile(),n=(window.URL||window.webkitURL).createObjectURL(t));return{blob:t,blobUrl:n}},_handleKeyup:function(e){this.saveRange(),this._checkSubmitDisabled()},_handleKeydown:function(e){var t=!1;if(t){if(38==e.keyCode||40==e.keyCode)return e.preventDefault(),38==e.keyCode&&ATSelectedPrev(),void(40==e.keyCode&&ATSelectedNext());if(13==e.keyCode)return e.preventDefault(),void ATSelected();37!=e.keyCode&&39!=e.keyCode||ATPopupClose()}(13==e.keyCode||13==e.keyCode&&e.shiftKey)&&e.preventDefault(),this.wrapKey(e)&&(e.preventDefault(),Ie("insertLineBreak")),this.at&&("@"==e.key||e.shiftKey&&229==e.keyCode)&&setTimeout((function(){return me("ATing"),t=!0}),300),0==this.submitDisabled&&this.sendKey(e)&&this._handleSend()},getFormatValue:function(){return this.IMUI.emojiImageToName(this.$refs.textarea.innerHTML)},_checkSubmitDisabled:function(){this.submitDisabled=!ae(this.$refs.textarea.innerHTML.trim())},_handleSend:function(e){var t=this.getFormatValue();this.$emit("send",t),this.clear(),this._checkSubmitDisabled()},_handleChangeFile:function(e){var t=this,n=this.$refs.fileInput;Array.from(n.files).forEach((function(e){t.$emit("upload",e)})),n.value=""},clear:function(){this.$refs.textarea.innerHTML=""},initEmoji:function(e){Oe=e,this.$forceUpdate()},setValue:function(e){this.$refs.textarea.innerHTML=this.IMUI.emojiNameToImage(e),this._checkSubmitDisabled()}}},Ne=xe,Me=(n("49c2"),_(Ne,be,Ce,!1,null,null,null)),Ae=Me.exports,Le={name:"LemonMessages",components:{},props:{hideName:Boolean,hideTime:Boolean,reverseUserId:[String,Number],timeRange:{type:Number,default:1},timeFormat:{type:Function,default:function(e){return re(e)}},loadingText:{type:[String,Function]},loadendText:{type:[String,Function],default:"暂无更多消息"},messages:{type:Array,default:function(){return[]}}},data:function(){return this._lockScroll=!1,{_loading:!1,_loadend:!1}},render:function(){var e=this,t=arguments[0];return t("div",{class:"lemon-messages",ref:"wrap",on:{scroll:this._handleScroll}},[t("div",{class:["lemon-messages__load","lemon-messages__load--".concat(this._loadend?"end":"ing")]},[t("span",{class:"lemon-messages__loadend"},[o(this.loadendText)?this.loadendText:this.loadendText()]),t("span",{class:"lemon-messages__loading"},[this.loadingText?o(this.loadingText)?this.loadingText:this.loadingText():t("i",{class:"lemon-icon-loading lemonani-spin"})])]),this.messages.map((function(n,r){var i,o=[],s="lemon-message-".concat(n.type),a=e.messages[r-1];return a&&e.msecRange&&n.sendTime-a.sendTime>e.msecRange&&o.push(t("lemon-message-event",Q()([{},{attrs:{message:{id:"__time__",type:"event",content:re(n.sendTime)}}}]))),i="event"==n.type?{message:n}:{timeFormat:e.timeFormat,message:n,reverse:e.reverseUserId==n.fromUser.id,hideTime:e.hideTime,hideName:e.hideName},o.push(t(s,Q()([{ref:"message",refInFor:!0},{attrs:i}]))),o}))])},computed:{msecRange:function(){return 1e3*this.timeRange*60}},watch:{},methods:{loaded:function(){this._loadend=!0,this.$forceUpdate()},resetLoadState:function(){var e=this;this._lockScroll=!0,this._loading=!1,this._loadend=!1,setTimeout((function(){e._lockScroll=!1}),200)},_handleScroll:function(){var e=d(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._lockScroll){e.next=2;break}return e.abrupt("return");case 2:if(n=t.target,L.hide(),0!=n.scrollTop||0!=this._loading||0!=this._loadend){e.next=10;break}return this._loading=!0,e.next=8,this.$nextTick();case 8:r=n.scrollHeight,this.$emit("reach-top",function(){var e=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.$nextTick();case 2:n.scrollTop=n.scrollHeight-r,i._loading=!1,i._loadend=!!t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),scrollToBottom:function(){var e=d(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:t=this.$refs.wrap,t&&(t.scrollTop=t.scrollHeight);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){},mounted:function(){}},Pe=Le,Ue=(n("436f"),_(Pe,Ee,Se,!1,null,null,null)),ke=Ue.exports,De={name:"lemonMessageBasic",inject:{IMUI:{from:"IMUI",default:function(){return this}}},props:{contextmenu:Array,message:{type:Object,default:function(){return{}}},timeFormat:{type:Function,default:function(){return""}},reverse:Boolean,hideName:Boolean,hideTime:Boolean},data:function(){return{}},render:function(){var e=this,t=arguments[0],n=this.message,r=n.fromUser,i=n.status,o=n.sendTime,s=1==this.hideName&&1==this.hideTime;return t("div",{class:["lemon-message","lemon-message--status-".concat(i),{"lemon-message--reverse":this.reverse,"lemon-message--hide-title":s}]},[t("div",{class:"lemon-message__avatar"},[t("lemon-avatar",{attrs:{size:36,shape:"square",src:r.avatar},on:{click:function(t){e._emitClick(t,"avatar")}}})]),t("div",{class:"lemon-message__inner"},[t("div",{class:"lemon-message__title"},[0==this.hideName&&t("span",{on:{click:function(t){e._emitClick(t,"displayName")}}},[r.displayName]),0==this.hideTime&&t("span",{class:"lemon-message__time",on:{click:function(t){e._emitClick(t,"sendTime")}}},[this.timeFormat(o)])]),t("div",{class:"lemon-message__content-flex"},[t("div",{directives:[{name:"lemon-contextmenu",value:this.IMUI.contextmenu,modifiers:{message:!0}}],class:"lemon-message__content",on:{click:function(t){e._emitClick(t,"content")}}},[te(this.$scopedSlots["content"],null,this.message)]),t("div",{class:"lemon-message__content-after"},[te(this.IMUI.$scopedSlots["message-after"],null,this.message)]),t("div",{class:"lemon-message__status",on:{click:function(t){e._emitClick(t,"status")}}},[t("i",{class:"lemon-icon-loading lemonani-spin"}),t("i",{class:"lemon-icon-prompt",attrs:{title:"重发消息"},style:{color:"#ff2525",cursor:"pointer"}})])])])])},created:function(){},mounted:function(){},computed:{},watch:{},methods:{_emitClick:function(e,t){this.IMUI.$emit("message-click",e,t,this.message,this.IMUI)}}},je=De,Be=(n("fbd1"),_(je,we,Te,!1,null,null,null)),Ve=Be.exports;function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(n,!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e,qe,Ge={name:"lemonMessageText",inheritAttrs:!1,inject:["IMUI"],render:function(){var e=this,t=arguments[0];return t("lemon-message-basic",Q()([{class:"lemon-message-text"},{props:He({},this.$attrs)},{scopedSlots:{content:function(n){var r=e.IMUI.emojiNameToImage(n.content);return t("span",Q()([{},{domProps:{innerHTML:r}}]))}}}]))}},ze=Ge,Ke=(n("1663"),_(ze,$e,qe,!1,null,null,null)),Ye=Ke.exports;function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(n,!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe,Xe,Ze={name:"lemonMessageImage",inheritAttrs:!1,render:function(){var e=arguments[0];return e("lemon-message-basic",Q()([{class:"lemon-message-image"},{props:Je({},this.$attrs)},{scopedSlots:{content:function(t){return e("img",{attrs:{src:t.content}})}}}]))}},et=Ze,tt=(n("4d21"),_(et,Qe,Xe,!1,null,null,null)),nt=tt.exports;function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot,st,at,ct,ut={name:"lemonMessageFile",inheritAttrs:!1,render:function(){var e=arguments[0];return e("lemon-message-basic",Q()([{class:"lemon-message-file"},{props:it({},this.$attrs)},{scopedSlots:{content:function(t){return[e("div",{class:"lemon-message-file__inner"},[e("p",{class:"lemon-message-file__name"},[t.fileName]),e("p",{class:"lemon-message-file__byte"},[ce(t.fileSize)])]),e("div",{class:"lemon-message-file__sfx"},[e("i",{class:"lemon-icon-attah"})])]}}}]))}},lt=ut,ft=(n("cfab"),_(lt,ot,st,!1,null,null,null)),dt=ft.exports,ht={name:"lemonMessageEvent",inheritAttrs:!1,inject:["IMUI"],render:function(){var e=this,t=arguments[0],n=this.$attrs.message.content;return t("div",{class:"lemon-message lemon-message-event"},[t("span",{class:"lemon-message-event__content",on:{click:function(t){return e._emitClick(t,"content")}}},[n])])},methods:{_emitClick:function(e,t){this.IMUI.$emit("message-click",e,t,this.$attrs.message,this.IMUI)}}},pt=ht,gt=(n("ed4b"),_(pt,at,ct,!1,null,null,null)),mt=gt.exports,vt=(n("20d6"),n("a745")),yt=n.n(vt);function _t(e){if(yt()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var bt=n("774e"),Ct=n.n(bt),Et=n("c8bb"),St=n.n(Et);function wt(e){if(St()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return Ct()(e)}function Tt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function It(e){return _t(e)||wt(e)||Tt()}n("f559"),n("55dd"),n("7514");var Rt="messages",Ot="contacts",xt=[Rt,Ot],Nt={file:function(e){return"[文件]"},image:function(e){return"[图片]"},text:function(e){return this.emojiNameToImage(se(e.content))},event:function(e){return"[通知]"}};function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Z()(e,r.key,r)}}function Lt(e,t,n){return t&&At(e.prototype,t),n&&At(e,n),e}var Pt=function(){function e(){Mt(this,e),this.table={}}return Lt(e,[{key:"get",value:function(e){return e?this.table[e]:this.table}},{key:"set",value:function(e,t){this.table[e]=t}},{key:"remove",value:function(e){e?delete this.table[e]:this.table={}}},{key:"has",value:function(e){return!!this.table[e]}}]),e}();function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt,jt,Bt={},Vt={},Ft=function(e){return o(e)?e:"".concat(e,"px")},Ht=function(e){return e.replace("%","")/100},$t=function(){},qt={name:"LemonImui",provide:function(){return{IMUI:this}},props:{width:{type:[String,Number],default:850},height:{type:[String,Number],default:580},theme:{type:String,default:"default"},simple:{type:Boolean,default:!1},loadingText:[String,Function],loadendText:[String,Function],messageTimeFormat:Function,contactTimeFormat:Function,hideDrawer:{type:Boolean,default:!0},hideMenuAvatar:Boolean,hideMenu:Boolean,hideMessageName:Boolean,hideMessageTime:Boolean,sendKey:Function,sendText:String,contextmenu:Array,contactContextmenu:Array,avatarCricle:Boolean,user:{type:Object,default:function(){return{}}}},data:function(){return this.CacheContactContainer=new Pt,this.CacheMenuContainer=new Pt,this.CacheMessageLoaded=new Pt,this.CacheDraft=new Pt,{drawerVisible:!this.hideDrawer,currentContactId:null,currentMessages:[],activeSidebar:Rt,contacts:[],menus:[],editorTools:[{name:"emoji"},{name:"uploadFile"},{name:"uploadImage"}]}},render:function(){return this._renderWrapper([this._renderMenu(),this._renderSidebarMessage(),this._renderSidebarContact(),this._renderContainer(),this._renderDrawer()])},created:function(){this.initMenus()},mounted:function(){var e=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{currentContact:function(){var e=this;return this.contacts.find((function(t){return t.id==e.currentContactId}))||{}},currentMenu:function(){var e=this;return this.menus.find((function(t){return t.name==e.activeSidebar}))||{}},currentIsDefSidebar:function(){return xt.includes(this.activeSidebar)},lastMessages:function(){var e=this.contacts.filter((function(e){return!a(e.lastContent)}));return e.sort((function(e,t){return t.lastSendTime-e.lastSendTime})),e}},watch:{activeSidebar:function(){}},methods:{_menuIsContacts:function(){return this.activeSidebar==Ot},_menuIsMessages:function(){return this.activeSidebar==Rt},_createMessage:function(e){return kt({},{id:ue(),type:"text",status:"going",sendTime:(new Date).getTime(),toContactId:this.currentContactId,fromUser:kt({},this.user)},{},e)},appendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===Bt[e.toContactId])this.updateContact({id:e.toContactId,unread:"+1",lastSendTime:e.sendTime,lastContent:this.lastContentRender(e)});else{this._addMessage(e,e.toContactId,1);var n={id:e.toContactId,lastContent:this.lastContentRender(e),lastSendTime:e.sendTime};e.toContactId==this.currentContactId?(1==t&&this.messageViewToBottom(),this.CacheDraft.remove(e.toContactId)):n.unread="+1",this.updateContact(n)}},_emitSend:function(e,t,n){var r=this;this.$emit("send",e,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"succeed"};t(),r.updateMessage(Object.assign(e,n))}),n)},_handleSend:function(e){var t=this,n=this._createMessage({content:e});this.appendMessage(n,!0),this._emitSend(n,(function(){t.updateContact({id:n.toContactId,lastContent:t.lastContentRender(n),lastSendTime:n.sendTime}),t.CacheDraft.remove(n.toContactId)}))},_handleUpload:function(e){var t,n=this,r=["image/gif","image/jpeg","image/png"];t=r.includes(e.type)?{type:"image",content:URL.createObjectURL(e)}:{type:"file",fileSize:e.size,fileName:e.name,content:""};var i=this._createMessage(t);this.appendMessage(i,!0),this._emitSend(i,(function(){n.updateContact({id:i.toContactId,lastContent:n.lastContentRender(i),lastSendTime:i.sendTime})}),e)},_emitPullMessages:function(e){var t=this;this._changeContactLock=!0,this.$emit("pull-messages",this.currentContact,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t._addMessage(n,t.currentContactId,0),t.CacheMessageLoaded.set(t.currentContactId,r),1==r&&t.$refs.messages.loaded(),t.updateCurrentMessages(),t._changeContactLock=!1,e(r)}),this)},clearCacheContainer:function(e){this.CacheContactContainer.remove(e),this.CacheMenuContainer.remove(e)},_renderWrapper:function(e){var t=this.$createElement;return t("div",{style:{width:Ft(this.width),height:Ft(this.height)},ref:"wrapper",class:["lemon-wrapper","lemon-wrapper--theme-".concat(this.theme),{"lemon-wrapper--simple":this.simple},this.drawerVisible&&"lemon-wrapper--drawer-show"]},[e])},_renderMenu:function(){var e=this,t=this.$createElement,n=this._renderMenuItem();return t("div",{class:"lemon-menu",directives:[{name:"show",value:!this.hideMenu}]},[t("lemon-avatar",{directives:[{name:"show",value:!this.hideMenuAvatar}],on:{click:function(t){e.$emit("menu-avatar-click",t)}},class:"lemon-menu__avatar",attrs:{src:this.user.avatar}}),n.top,this.$slots.menu,t("div",{class:"lemon-menu__bottom"},[this.$slots["menu-bottom"],n.bottom])])},_renderMenuAvatar:function(){},_renderMenuItem:function(){var e=this,t=this.$createElement,n=[],r=[];return this.menus.forEach((function(i){var o=i.name,s=i.title,a=i.unread,c=i.render,u=i.click,l=t("div",{class:["lemon-menu__item",{"lemon-menu__item--active":e.activeSidebar==o}],on:{click:function(){oe(u,(function(){o&&e.changeMenu(o)}))}},attrs:{title:s}},[t("lemon-badge",{attrs:{count:a}},[c(i)])]);!0===i.isBottom?r.push(l):n.push(l)})),{top:n,bottom:r}},_renderSidebarMessage:function(){var e=this;return this._renderSidebar([te(this.$scopedSlots["sidebar-message-top"],null,this),this.lastMessages.map((function(t){return e._renderContact({contact:t,timeFormat:e.contactTimeFormat},(function(){return e.changeContact(t.id)}),e.$scopedSlots["sidebar-message"])}))],Rt,te(this.$scopedSlots["sidebar-message-fixedtop"],null,this))},_renderContact:function(e,t,n){var r=this,i=this.$createElement,o=e.contact,s=o.click,a=o.renderContainer,c=o.id,u=function(){oe(s,(function(){t(),r._customContainerReady(a,r.CacheContactContainer,c)}))};return i("lemon-contact",Q()([{class:{"lemon-contact--active":this.currentContactId==e.contact.id},directives:[{name:"lemon-contextmenu",value:this.contactContextmenu,modifiers:{contact:!0}}]},{props:e},{on:{click:u},scopedSlots:{default:n}}]))},_renderSidebarContact:function(){var e,t=this,n=this.$createElement;return this._renderSidebar([te(this.$scopedSlots["sidebar-contact-top"],null,this),this.contacts.map((function(r){if(r.index){r.index=r.index.replace(/\[[0-9]*\]/,"");var i=[r.index!==e&&n("p",{class:"lemon-sidebar__label"},[r.index]),t._renderContact({contact:r,simple:!0},(function(){t.changeContact(r.id)}),t.$scopedSlots["sidebar-contact"])];return e=r.index,i}}))],Ot,te(this.$scopedSlots["sidebar-contact-fixedtop"],null,this))},_renderSidebar:function(e,t,n){var r=this.$createElement;return r("div",{class:"lemon-sidebar",directives:[{name:"show",value:this.activeSidebar==t}],on:{scroll:this._handleSidebarScroll}},[r("div",{class:"lemon-sidebar__fixed-top"},[n]),r("div",{class:"lemon-sidebar__scroll"},[e])])},_renderDrawer:function(){var e=this.$createElement;return this._menuIsMessages()&&this.currentContactId?e("div",{class:"lemon-drawer",ref:"drawer"},[$t(this.currentContact),te(this.$scopedSlots.drawer,"",this.currentContact)]):""},_isContactContainerCache:function(e){return e.startsWith("contact#")},_renderContainer:function(){var e=this,t=this.$createElement,n=[],r="lemon-container",i=this.currentContact,o=!0;for(var s in this.CacheContactContainer.get()){var c=i.id==s&&this.currentIsDefSidebar;o=!c,n.push(t("div",{class:r,directives:[{name:"show",value:c}]},[this.CacheContactContainer.get(s)]))}for(var u in this.CacheMenuContainer.get())n.push(t("div",{class:r,directives:[{name:"show",value:this.activeSidebar==u&&!this.currentIsDefSidebar}]},[this.CacheMenuContainer.get(u)]));return n.push(t("div",{class:r,directives:[{name:"show",value:this._menuIsMessages()&&o&&i.id}]},[t("div",{class:"lemon-container__title"},[te(this.$scopedSlots["message-title"],t("div",{class:"lemon-container__displayname"},[i.displayName]),i)]),t("div",{class:"lemon-vessel"},[t("div",{class:"lemon-vessel__left"},[t("lemon-messages",{ref:"messages",attrs:{"loading-text":this.loadingText,"loadend-text":this.loadendText,"hide-time":this.hideMessageTime,"hide-name":this.hideMessageName,"time-format":this.messageTimeFormat,"reverse-user-id":this.user.id,messages:this.currentMessages},on:{"reach-top":this._emitPullMessages}}),t("lemon-editor",{ref:"editor",attrs:{tools:this.editorTools,sendText:this.sendText,sendKey:this.sendKey},on:{send:this._handleSend,upload:this._handleUpload}})]),t("div",{class:"lemon-vessel__right"},[te(this.$scopedSlots["message-side"],null,i)])])])),n.push(t("div",{class:r,directives:[{name:"show",value:!i.id&&this.currentIsDefSidebar}]},[this.$slots.cover])),n.push(t("div",{class:r,directives:[{name:"show",value:this._menuIsContacts()&&o&&i.id}]},[te(this.$scopedSlots["contact-info"],t("div",{class:"lemon-contact-info"},[t("lemon-avatar",{attrs:{src:i.avatar,size:90}}),t("h4",[i.displayName]),t("lemon-button",{on:{click:function(){a(i.lastContent)&&e.updateContact({id:i.id,lastContent:" "}),e.changeContact(i.id,Rt)}}},["发送消息"])]),i)])),n},_handleSidebarScroll:function(){L.hide()},_addContact:function(e,t){var n={0:"unshift",1:"push"}[t];this.contacts[n](e)},_addMessage:function(e,t,n){var r,i={0:"unshift",1:"push"}[n];Array.isArray(e)||(e=[e]),Bt[t]=Bt[t]||[],(r=Bt[t])[i].apply(r,It(e))},setLastContentRender:function(e,t){Nt[e]=t},lastContentRender:function(e){return c(Nt[e.type])?Nt[e.type].call(this,e):(console.error("not found '".concat(e.type,"' of the latest message renderer,try to use ‘setLastContentRender()’")),"")},emojiNameToImage:function(e){return e.replace(/\[!(\w+)\]/gi,(function(e,t){var n=t;return Vt[n]?'<img emoji-name="'.concat(t,'" src="').concat(Vt[n],'" />'):"[!".concat(t,"]")}))},emojiImageToName:function(e){return e.replace(/<img emoji-name=\"([^\"]*?)\" [^>]*>/gi,"[!$1]")},updateCurrentMessages:function(){Bt[this.currentContactId]||(Bt[this.currentContactId]=[]),this.currentMessages=Bt[this.currentContactId]},messageViewToBottom:function(){this.$refs.messages.scrollToBottom()},setDraft:function(e,t){if(a(e)||a(t))return!1;var n=this.findContact(e),r=n.lastContent;if(a(n))return!1;this.CacheDraft.has(e)&&(r=this.CacheDraft.get(e).lastContent),this.CacheDraft.set(e,{editorValue:t,lastContent:r}),this.updateContact({id:e,lastContent:'<span style="color:red;">[草稿]</span><span>'.concat(this.lastContentRender({type:"text",content:t}),"</span>")})},clearDraft:function(e){var t=this.CacheDraft.get(e);if(t){var n=this.findContact(e).lastContent;0===n.indexOf('<span style="color:red;">[草稿]</span>')&&this.updateContact({id:e,lastContent:t.lastContent}),this.CacheDraft.remove(e)}},changeContact:function(){var e=d(regeneratorRuntime.mark((function e(t,n){var r,i,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}this.changeMenu(n),e.next=6;break;case 4:if(!this._changeContactLock&&this.currentContactId!=t){e.next=6;break}return e.abrupt("return",!1);case 6:if(this.currentContactId&&(r=ae(this.getEditorValue()).trim(),r?(this.setDraft(this.currentContactId,r),this.setEditorValue()):this.clearDraft(this.currentContactId)),this.currentContactId=t,this.currentContactId){e.next=10;break}return e.abrupt("return",!1);case 10:if(this.$emit("change-contact",this.currentContact,this),!c(this.currentContact.renderContainer)&&this.activeSidebar!=Ot){e.next=13;break}return e.abrupt("return");case 13:i=this.CacheDraft.get(t),i&&this.setEditorValue(i.editorValue),this.CacheMessageLoaded.has(t)?this.$refs.messages.loaded():this.$refs.messages.resetLoadState(),Bt[t]?setTimeout((function(){o.updateCurrentMessages(),o.messageViewToBottom()}),0):(this.updateCurrentMessages(),this._emitPullMessages((function(e){o.messageViewToBottom()})));case 17:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeMessage:function(e){var t=this.findMessage(e);if(!t)return!1;var n=Bt[t.toContactId].findIndex((function(t){var n=t.id;return n==e}));return Bt[t.toContactId].splice(n,1),!0},updateMessage:function(e){if(!e.id)return!1;var t=this.findMessage(e.id);return!!t&&(t=Object.assign(t,e,{toContactId:t.toContactId}),!0)},forceUpdateMessage:function(e){if(e){var t=this.$refs.messages.$refs.message;if(t){var n=t.find((function(t){return t.$attrs.message.id==e}));n&&n.$forceUpdate()}}else this.$refs.messages.$forceUpdate()},_customContainerReady:function(e,t,n){c(e)&&!t.has(n)&&t.set(n,e.call(this))},changeMenu:function(e){this.$emit("change-menu",e),this.activeSidebar=e},initEmoji:function(e){var t=[];this.$refs.editor.initEmoji(e),e[0].label?e.forEach((function(e){var n;(n=t).push.apply(n,It(e.children))})):t=e,t.forEach((function(e){var t=e.name,n=e.src;return Vt[t]=n}))},initEditorTools:function(e){this.editorTools=e},initMenus:function(e){var t=this,n=this.$createElement,r=[{name:Rt,title:"聊天",unread:0,click:null,render:function(e){return n("i",{class:"lemon-icon-message"})},isBottom:!1},{name:Ot,title:"通讯录",unread:0,click:null,render:function(e){return n("i",{class:"lemon-icon-addressbook"})},isBottom:!1}],i=[];if(Array.isArray(e)){var o={messages:0,contacts:1},s=Object.keys(o);i=e.map((function(e){return s.includes(e.name)?kt({},r[o[e.name]],{},e,{},{renderContainer:null}):(e.renderContainer&&t._customContainerReady(e.renderContainer,t.CacheMenuContainer,e.name),e)}))}else i=r;this.menus=i},initContacts:function(e){this.contacts=e,this.sortContacts()},sortContacts:function(){this.contacts.sort((function(e,t){if(e.index)return e.index.localeCompare(t.index)}))},appendContact:function(e){return a(e.id)||a(e.displayName)?(console.error("id | displayName cant be empty"),!1):!!this.hasContact(e.id)||(this.contacts.push(Object.assign({id:"",displayName:"",avatar:"",index:"",unread:0,lastSendTime:"",lastContent:""},e)),!0)},removeContact:function(e){var t=this.findContactIndexById(e);return-1!==t&&(this.contacts.splice(t,1),this.CacheDraft.remove(e),this.CacheMessageLoaded.remove(e),!0)},updateContact:function(e){var t=e.id;delete e.id;var n=this.findContactIndexById(t);if(-1!==n){var r=e.unread;o(r)&&(0!==r.indexOf("+")&&0!==r.indexOf("-")||(e.unread=parseInt(r)+parseInt(this.contacts[n].unread))),this.$set(this.contacts,n,kt({},this.contacts[n],{},e))}},findContactIndexById:function(e){return this.contacts.findIndex((function(t){return t.id==e}))},hasContact:function(e){return-1!==this.findContactIndexById(e)},findMessage:function(e){for(var t in Bt){var n=Bt[t].find((function(t){var n=t.id;return n==e}));if(n)return n}},findContact:function(e){return this.getContacts().find((function(t){var n=t.id;return n==e}))},getContacts:function(){return this.contacts},getCurrentContact:function(){return this.currentContact},getCurrentMessages:function(){return this.currentMessages},setEditorValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!o(e))return!1;this.$refs.editor.setValue(this.emojiNameToImage(e))},getEditorValue:function(){return this.$refs.editor.getFormatValue()},clearMessages:function(e){return e?(delete Bt[e],this.CacheMessageLoaded.remove(e),this.CacheDraft.remove(e)):(Bt={},this.CacheMessageLoaded.remove(),this.CacheDraft.remove()),!0},getMessages:function(e){return(e?Bt[e]:Bt)||[]},changeDrawer:function(e){this.drawerVisible=!this.drawerVisible,1==this.drawerVisible&&this.openDrawer(e)},openDrawer:function(e){$t=c(e)?e:e.render||new Function;var t=this.$refs.wrapper.clientWidth,n=this.$refs.wrapper.clientHeight,r=e.width||200,i=e.height||n,s=e.offsetX||0,a=e.offsetY||0,u=e.position||"right";o(r)&&(r=t*Ht(r)),o(i)&&(i=n*Ht(i)),o(s)&&(s=t*Ht(s)),o(a)&&(a=n*Ht(a)),this.$refs.drawer.style.width="".concat(r,"px"),this.$refs.drawer.style.height="".concat(i,"px");var l=0,f=0,d="";"right"==u?l=t:"rightInside"==u?(l=t-r,d="-15px 0 16px -14px rgba(0,0,0,0.08)"):"center"==u&&(l=t/2-r/2,f=n/2-i/2,d="0 0 20px rgba(0,0,0,0.08)"),l+=s,f+=a+-1,this.$refs.drawer.style.top="".concat(f,"px"),this.$refs.drawer.style.left="".concat(l,"px"),this.$refs.drawer.style.boxShadow=d,this.drawerVisible=!0},closeDrawer:function(){this.drawerVisible=!1}}},Gt=qt,zt=(n("9b01"),_(Gt,Dt,jt,!1,null,null,null)),Kt=zt.exports,Yt=(n("6a2b"),"1.4.2"),Wt=[Kt,ge,ke,Ae,W,G,F,E,D,Ve,Ye,nt,dt,mt],Jt=function(e){e.directive("LemonContextmenu",L),Wt.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&Jt(window.Vue);var Qt={version:Yt,install:Jt};t["default"]=Qt},fbd1:function(e,t,n){"use strict";var r=n("820e"),i=n.n(r);i.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})}))},d44e:function(e,t,n){var r=n("9bf2").f,i=n("1a2d"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d4af:function(e,t,n){"use strict";var r=n("8eb7"),i=n("7b3e"),o=10,s=40,a=800;function c(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*o,i=n*o,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=s,i*=s):(r*=a,i*=a)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}c.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},e.exports=c},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d85a:function(e,t,n){"use strict";n("2511")},d925:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d9b5:function(e,t,n){var r=n("da84"),i=n("d066"),o=n("1626"),s=n("3a9b"),a=n("fdbf"),c=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,c(e))}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(e,t,n){var r=n("59ed");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},dcdc:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=120)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},120:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var n=e.model,r=t.target,i=r.checked?e.trueLabel:e.falseLabel;if(Array.isArray(n)){var o=null,s=e._i(n,o);r.checked?s<0&&(e.model=n.concat([o])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=e.label,s=e._i(n,o);r.checked?s<0&&(e.model=n.concat([o])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?n("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a={name:"ElCheckbox",mixins:[s.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var e=this.$parent;while(e){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,n=e.min;return!(!t&&!n)&&this.model.length>=t&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var n=void 0;n=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,e),this.$nextTick((function(){t.isGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])}))}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},c=a,u=n(0),l=Object(u["a"])(c,r,i,!1,null,null,null);l.options.__file="packages/checkbox/src/checkbox.vue";var f=l.exports;f.install=function(e){e.component(f.name,f)};t["default"]=f},4:function(e,t){e.exports=n("d010")}})},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("e260"),a=n("9112"),c=n("b622"),u=c("iterator"),l=c("toStringTag"),f=s.values,d=function(e,t){if(e){if(e[u]!==f)try{a(e,u,f)}catch(r){e[u]=f}if(e[l]||a(e,l,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var h in i)d(r[h]&&r[h].prototype,h);d(o,"DOMTokenList")},df33:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=92)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},13:function(e,t){e.exports=n("5128")},4:function(e,t){e.exports=n("d010")},92:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[n("div",{staticClass:"el-dialog__header"},[e._t("title",[n("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?n("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])},i=[];r._withStripped=!0;var o=n(13),s=n.n(o),a=n(11),c=n.n(a),u=n(4),l=n.n(u),f={name:"ElDialog",mixins:[s.a,l.a,c.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){t.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){t.key++})))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},d=f,h=n(0),p=Object(h["a"])(d,r,i,!1,null,null,null);p.options.__file="packages/dialog/src/component.vue";var g=p.exports;g.install=function(e){e.component(g.name,g)};t["default"]=g}})},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return u=u.concat(o.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("e330"),a=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),f=n("9bf2").f,d=n("e893"),h=o.Symbol,p=h&&h.prototype;if(i&&c(h)&&(!("description"in p)||void 0!==h().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(p,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};d(m,h),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(h("test")),y=s(p.toString),_=s(p.valueOf),b=/^Symbol\((.*)\)[^)]+$/,C=s("".replace),E=s("".slice);f(p,"description",{configurable:!0,get:function(){var e=_(this),t=y(e);if(a(g,e))return"";var n=v?E(t,7,-1):C(t,b,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:m})}},e163:function(e,t,n){var r=n("da84"),i=n("1a2d"),o=n("1626"),s=n("7b0b"),a=n("f772"),c=n("e177"),u=a("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=s(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),c="Array Iterator",u=s.set,l=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e330:function(e,t){var n=Function.prototype,r=n.bind,i=n.call,o=r&&r.bind(i);e.exports=r?function(e){return e&&o(i,e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},e538:function(e,t,n){var r=n("b622");t.f=r},e59c:function(e,t,n){"use strict";n("f786")},e62d:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==s)return s;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),s=t-r,s};var r=n("8bbf"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=void 0},e683:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e893:function(e,t,n){var r=n("1a2d"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||a(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},e974:function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5128");function s(e){return e&&e.__esModule?e:{default:e}}var a=i.default.prototype.$isServer?function(){}:n("6167"),c=function(e){return e.stopPropagation()};t.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new a(r,n,t),this.popperJS.onCreate((function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"===typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",c))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e={top:"bottom",bottom:"top",left:"right",right:"left"},t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=e[t];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+n:n+" center"}},appendArrow:function(e){var t=void 0;if(!this.appended){for(var n in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[n].name)){t=e.attributes[n].name;break}var r=document.createElement("div");t&&r.setAttribute(t,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",e.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",c),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},ecdf:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=135)}({135:function(e,t,n){"use strict";n.r(t);var r=n(3),i={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},o={selection:{renderHeader:function(e,t){var n=t.store;return e("el-checkbox",{attrs:{disabled:n.states.data&&0===n.states.data.length,indeterminate:n.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(e,t){var n=t.row,r=t.column,i=t.store,o=t.$index;return e("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation()}},attrs:{value:i.isSelected(n),disabled:!!r.selectable&&!r.selectable.call(null,n,o)},on:{input:function(){i.commit("rowSelectedChanged",n)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(e,t){var n=t.column;return n.label||"#"},renderCell:function(e,t){var n=t.$index,r=t.column,i=n+1,o=r.index;return"number"===typeof o?i=n+o:"function"===typeof o&&(i=o(n)),e("div",[i])},sortable:!1},expand:{renderHeader:function(e,t){var n=t.column;return n.label||""},renderCell:function(e,t){var n=t.row,r=t.store,i=["el-table__expand-icon"];r.states.expandRows.indexOf(n)>-1&&i.push("el-table__expand-icon--expanded");var o=function(e){e.stopPropagation(),r.toggleRowExpansion(n)};return e("div",{class:i,on:{click:o}},[e("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function s(e,t){var n=t.row,i=t.column,o=t.$index,s=i.property,a=s&&Object(r["getPropByPath"])(n,s).v;return i&&i.formatter?i.formatter(n,i,a,o):a}function a(e,t){var n=t.row,r=t.treeNode,i=t.store;if(!r)return null;var o=[],s=function(e){e.stopPropagation(),i.loadOrToggle(n)};if(r.indent&&o.push(e("span",{class:"el-table__indent",style:{"padding-left":r.indent+"px"}})),"boolean"!==typeof r.expanded||r.noLazyChildren)o.push(e("span",{class:"el-table__placeholder"}));else{var a=["el-table__expand-icon",r.expanded?"el-table__expand-icon--expanded":""],c=["el-icon-arrow-right"];r.loading&&(c=["el-icon-loading"]),o.push(e("div",{class:a,on:{click:s}},[e("i",{class:c})]))}return o}var c=n(8),u=n(19),l=n.n(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=1,h={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(e){return e.every((function(e){return["ascending","descending",null].indexOf(e)>-1}))}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){var e=this.$parent;while(e&&!e.tableId)e=e.$parent;return e},columnOrTableParent:function(){var e=this.$parent;while(e&&!e.tableId&&!e.columnId)e=e.$parent;return e},realWidth:function(){return Object(c["l"])(this.width)},realMinWidth:function(){return Object(c["k"])(this.minWidth)},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return Array.isArray(n)&&n.forEach((function(n){t[n]=e[n]})),t}),{})},getColumnElIndex:function(e,t){return[].indexOf.call(e,t)},setColumnWidth:function(e){return this.realWidth&&(e.width=this.realWidth),this.realMinWidth&&(e.minWidth=this.realMinWidth),e.minWidth||(e.minWidth=80),e.realWidth=void 0===e.width?e.minWidth:e.width,e},setColumnForcedProps:function(e){var t=e.type,n=o[t]||{};return Object.keys(n).forEach((function(t){var r=n[t];void 0!==r&&(e[t]="className"===t?e[t]+" "+r:r)})),e},setColumnRenders:function(e){var t=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==e.type&&(e.renderHeader=function(n,r){var i=t.$scopedSlots.header;return i?i(r):e.label});var n=e.renderCell;return"expand"===e.type?(e.renderCell=function(e,t){return e("div",{class:"cell"},[n(e,t)])},this.owner.renderExpanded=function(e,n){return t.$scopedSlots.default?t.$scopedSlots.default(n):t.$slots.default}):(n=n||s,e.renderCell=function(r,i){var o=null;o=t.$scopedSlots.default?t.$scopedSlots.default(i):n(r,i);var s=a(r,i),c={class:"cell",style:{}};return e.showOverflowTooltip&&(c.class+=" el-tooltip",c.style={width:(i.column.realWidth||i.column.width)-1+"px"}),r("div",c,[s,o])}),e},registerNormalWatchers:function(){var e=this,t=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],n={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},r=t.reduce((function(e,t){return e[t]=t,e}),n);Object.keys(r).forEach((function(t){var r=n[t];e.$watch(t,(function(t){e.columnConfig[r]=t}))}))},registerComplexWatchers:function(){var e=this,t=["fixed"],n={realWidth:"width",realMinWidth:"minWidth"},r=t.reduce((function(e,t){return e[t]=t,e}),n);Object.keys(r).forEach((function(t){var r=n[t];e.$watch(t,(function(t){e.columnConfig[r]=t;var n="fixed"===r;e.owner.store.scheduleLayout(n)}))}))}},components:{ElCheckbox:l.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var e=this.columnOrTableParent;this.isSubColumn=this.owner!==e,this.columnId=(e.tableId||e.columnId)+"_column_"+d++;var t=this.type||"default",n=""===this.sortable||this.sortable,r=f({},i[t],{id:this.columnId,type:t,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:n,index:this.index}),o=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],s=["sortMethod","sortBy","sortOrders"],a=["selectable","reserveSelection"],u=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"],l=this.getPropsData(o,s,a,u);l=Object(c["h"])(r,l);var h=Object(c["a"])(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps);l=h(l),this.columnConfig=l,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var e=this.owner,t=this.columnOrTableParent,n=this.isSubColumn?t.$el.children:t.$refs.hiddenColumns.children,r=this.getColumnElIndex(n,this.$el);e.store.commit("insertColumn",this.columnConfig,r,this.isSubColumn?t.columnConfig:null)},destroyed:function(){if(this.$parent){var e=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?e.columnConfig:null)}},render:function(e){return e("div",this.$slots.default)},install:function(e){e.component(h.name,h)}};t["default"]=h},19:function(e,t){e.exports=n("dcdc")},3:function(e,t){e.exports=n("8122")},8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return b}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){var t=e.target;while(t&&"HTML"!==t.tagName.toUpperCase()){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},s=function(e){return null!==e&&"object"===("undefined"===typeof e?"undefined":i(e))},a=function(e,t,n,i,o){if(!t&&!i&&(!o||Array.isArray(o)&&!o.length))return e;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var a=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(t){return"string"===typeof t?Object(r["getValueByPath"])(n,t):t(n,i,e)}))):("$key"!==t&&s(n)&&"$value"in n&&(n=n.$value),[s(n)?Object(r["getValueByPath"])(n,t):n])},c=function(e,t){if(i)return i(e.value,t.value);for(var n=0,r=e.key.length;n<r;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0};return e.map((function(e,t){return{value:e,index:t,key:a?a(e,t):null}})).sort((function(e,t){var r=c(e,t);return r||(r=e.index-t.index),r*n})).map((function(e){return e.value}))},c=function(e,t){var n=null;return e.columns.forEach((function(e){e.id===t&&(n=e)})),n},u=function(e,t){for(var n=null,r=0;r<e.columns.length;r++){var i=e.columns[r];if(i.columnKey===t){n=i;break}}return n},l=function(e,t){var n=(t.className||"").match(/el-table_[^\s]+/gm);return n?c(e,n[0]):null},f=function(e,t){if(!e)throw new Error("row is required when get row identity");if("string"===typeof t){if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),r=e,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof t)return t.call(null,e)},d=function(e,t){var n={};return(e||[]).forEach((function(e,r){n[f(e,t)]={row:e,index:r}})),n};function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){var n={},r=void 0;for(r in e)n[r]=e[r];for(r in t)if(h(t,r)){var i=t[r];"undefined"!==typeof i&&(n[r]=i)}return n}function g(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),e}function m(e){return"undefined"!==typeof e&&(e=g(e),isNaN(e)&&(e=80)),e}function v(e){return"number"===typeof e?e:"string"===typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function y(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(e,t,n){var r=!1,i=e.indexOf(t),o=-1!==i,s=function(){e.push(t),r=!0},a=function(){e.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?s():!n&&o&&a():o?a():s(),r}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(e){return!(Array.isArray(e)&&e.length)};function o(e,s,a){t(e,s,a),s.forEach((function(e){if(e[r])t(e,null,a+1);else{var s=e[n];i(s)||o(e,s,a+1)}}))}e.forEach((function(e){if(e[r])t(e,null,0);else{var s=e[n];i(s)||o(e,s,0)}}))}}})},eedf:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=86)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},86:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])},i=[];r._withStripped=!0;var o={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/button/src/button.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t["default"]=u}})},f0d9:function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},f36a:function(e,t,n){var r=n("e330");e.exports=r([].slice)},f3ad:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=73)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},21:function(e,t){e.exports=n("d397")},4:function(e,t){e.exports=n("d010")},73:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a=n(11),c=n.n(a),u=void 0,l="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),i=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),o=f.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";");return{contextStyle:o,paddingSize:r,borderSize:i,boxSizing:n}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u||(u=document.createElement("textarea"),document.body.appendChild(u));var r=d(e),i=r.paddingSize,o=r.borderSize,s=r.boxSizing,a=r.contextStyle;u.setAttribute("style",a+";"+l),u.value=e.value||e.placeholder||"";var c=u.scrollHeight,f={};"border-box"===s?c+=o:"content-box"===s&&(c-=i),u.value="";var h=u.scrollHeight-i;if(null!==t){var p=h*t;"border-box"===s&&(p=p+i+o),c=Math.max(p,c),f.minHeight=p+"px"}if(null!==n){var g=h*n;"border-box"===s&&(g=g+i+o),c=Math.min(g,c)}return f.height=c+"px",u.parentNode&&u.parentNode.removeChild(u),u=null,f}var p=n(9),g=n.n(p),m=n(21),v={name:"ElInput",componentName:"ElInput",mixins:[s.a,c.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return g()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize,t=this.type;if("textarea"===t)if(e){var n=e.minRows,r=e.maxRows;this.textareaCalcStyle=h(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:h(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(m["isKorean"])(n)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var i={suffix:"append",prefix:"prepend"},o=i[e];this.$slots[o]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},y=v,_=n(0),b=Object(_["a"])(y,r,i,!1,null,null,null);b.options.__file="packages/input/src/input.vue";var C=b.exports;C.install=function(e){e.component(C.name,C)};t["default"]=C},9:function(e,t){e.exports=n("7f4d")}})},f4f9:function(e,t,n){},f529:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=75)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},13:function(e,t){e.exports=n("5128")},17:function(e,t){e.exports=n("a742")},23:function(e,t){e.exports=n("41f8")},7:function(e,t){e.exports=n("8bbf")},75:function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?n("i",{class:e.iconClass}):n("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?n("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):n("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?n("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])},s=[];o._withStripped=!0;var a={success:"success",info:"info",warning:"warning",error:"error"},c={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+a[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},u=c,l=n(0),f=Object(l["a"])(u,o,s,!1,null,null,null);f.options.__file="packages/message/src/main.vue";var d=f.exports,h=n(13),p=n(23),g=n(17),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=i.a.extend(d),y=void 0,_=[],b=1,C=function e(t){if(!i.a.prototype.$isServer){t=t||{},"string"===typeof t&&(t={message:t});var n=t.onClose,r="message_"+b++;t.onClose=function(){e.close(r,n)},y=new v({data:t}),y.id=r,Object(p["isVNode"])(y.message)&&(y.$slots.default=[y.message],y.message=null),y.$mount(),document.body.appendChild(y.$el);var o=t.offset||20;return _.forEach((function(e){o+=e.$el.offsetHeight+16})),y.verticalOffset=o,y.visible=!0,y.$el.style.zIndex=h["PopupManager"].nextZIndex(),_.push(y),y}};["success","warning","info","error"].forEach((function(e){C[e]=function(t){return Object(g["isObject"])(t)&&!Object(p["isVNode"])(t)?C(m({},t,{type:e})):C({type:e,message:t})}})),C.close=function(e,t){for(var n=_.length,r=-1,i=void 0,o=0;o<n;o++)if(e===_[o].id){i=_[o].$el.offsetHeight,r=o,"function"===typeof t&&t(_[o]),_.splice(o,1);break}if(!(n<=1||-1===r||r>_.length-1))for(var s=r;s<n-1;s++){var a=_[s].$el;a.style["top"]=parseInt(a.style["top"],10)-i-16+"px"}},C.closeAll=function(){for(var e=_.length-1;e>=0;e--)_[e].close()};var E=C;t["default"]=E}})},f5df:function(e,t,n){var r=n("da84"),i=n("00ee"),o=n("1626"),s=n("c6b6"),a=n("b622"),c=a("toStringTag"),u=r.Object,l="Arguments"==s(function(){return arguments}()),f=function(e,t){try{return e[t]}catch(n){}};e.exports=i?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=f(t=u(e),c))?n:l?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},f6b4:function(e,t,n){"use strict";var r=n("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},f786:function(e,t,n){},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("b0c0");var s=n("8bbf"),a=n.n(s),c=n("d422"),u=n.n(c),l=(n("7242"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showList?e._e():n("div",{staticClass:"tipDom",on:{click:function(t){e.showList=!e.showList}}},[n("Avatar",{attrs:{size:38,fit:"cover",src:"https://i.loli.net/2017/08/21/599a521472424.jpg"}}),e._v("    "),n("span",[e._v("我的IM")])],1),n("el-dialog",{staticClass:"imDialog",attrs:{visible:e.showList,"show-close":!1,center:""},on:{"update:visible":function(t){e.showList=t},opened:e.handleOpenedDialog}},[n("im-main",{ref:"imMainDom",attrs:{messageList:e.messageList,baseUrl:e.my_baseUrl,currentUser:e.currentUser,firstConversationId:e.firstConversationId},on:{handleSendMessage:e.handleSendMessage,handlePullMessages:e.handlePullMessages,changeMenuMessage:e.getConnetList}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)],1)}),f=[];n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("fb6a"),n("a630");function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(a)throw o}}}}n("0fb7"),n("450d");var g=n("f529"),m=n.n(g),v=(n("a7cc"),n("df33")),y=n.n(v),_=(n("920a"),n("4f0c")),b=n.n(_),C=(n("159b"),n("a9e3"),n("d81d"),n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("lemon-imui",{ref:"IMUI",attrs:{user:e.user,contextmenu:e.contextmenu,"contact-contextmenu":e.contactContextmenu,theme:e.theme,"hide-menu":e.hideMenu,"hide-menu-avatar":e.hideMenuAvatar,"hide-message-name":e.hideMessageName,"hide-message-time":e.hideMessageTime,width:"100%"},on:{"change-menu":e.handleChangeMenu,"change-contact":e.handleChangeContact,"pull-messages":e.handlePullMessages,"message-click":e.handleMessageClick,"menu-avatar-click":e.handleMenuAvatarClick,send:e.handleSend},scopedSlots:e._u([{key:"cover",fn:function(){return[n("div",{staticClass:"cover"},[n("i",{staticClass:"lemon-icon-message"}),n("p",[n("b",[e._v("hello ")]),e._v(" 我是易木")])])]},proxy:!0},{key:"message-title",fn:function(t){return[n("span",[e._v(e._s(t.displayName))]),"admin"!=t.id?n("small",{staticClass:"more",on:{click:function(n){return e.changeDrawer(t,e.$refs.IMUI)}}},[e.drawerVisibleShow?e._e():n("i",{staticClass:"el-icon-s-unfold"}),e.drawerVisibleShow?n("i",{staticClass:"el-icon-s-fold"}):e._e()]):e._e(),n("br")]}}])}),n("el-dialog",{attrs:{title:"查看图片(可再次点击放大)",visible:e.outerVisible,width:"500px"},on:{"update:visible":function(t){e.outerVisible=t}}},[e._v(" 1221 ")])],1)}),E=[];n("acb6");var S=n("c673"),w=n.n(S),T=(n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:6}},[n("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,height:"100% ",width:"100%",title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}})]),n("el-col",{attrs:{span:18}},[n("el-form",{ref:"form",attrs:{model:e.group,rules:e.groupRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"群账号",prop:"id"}},[n("el-input",{attrs:{size:"small"},model:{value:e.group.id,callback:function(t){e.$set(e.group,"id",t)},expression:"group.id"}})],1),n("el-form-item",{attrs:{label:"群名称",prop:"id"}},[n("el-input",{attrs:{size:"small"},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitUser}},[e._v("保存")]),n("el-button",{attrs:{size:"mini"},on:{click:e.gb}},[e._v("取 消")])],1),n("el-dialog",{attrs:{title:e.title,visible:e.imgEditOpen,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.imgEditOpen=t},opened:e.modalOpened}},[n("el-row",[n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}}),n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("br"),n("el-row",[n("el-col",{attrs:{lg:2,md:2}},[n("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[n("el-button",{attrs:{size:"small"}},[e._v(" 上传 "),n("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),n("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[n("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),n("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)}),I=[],R=(n("f4f9"),n("c2cc")),O=n.n(R),x=(n("7a0f"),n("0f6c")),N=n.n(x),M=(n("1951"),n("eedf")),A=n.n(M),L={name:"CreateGroup",components:{elDialog:y.a,Message:m.a,elButton:A.a,Row:N.a,Col:O.a},data:function(){return{imgEditOpen:!1,imgVisible:!1,title:"修改头像",options:{img:"",autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{},group:{id:"",name:"",avatar:""},groupRules:{id:[{required:!0,trigger:"blur",message:"群账号不能为空"},{min:6,message:"长度在6位以上",trigger:"blur"},{max:12,message:"长度在12位以下",trigger:"blur"}],name:[{required:!0,trigger:"blur",message:"群名称不能为空"},{max:12,message:"长度在12位以下",trigger:"blur"}]}}},methods:{userEdit:function(){this.options.img=this.user.avatar,this.userOpen=!0},editCropper:function(){this.imgEditOpen=!0},modalOpened:function(){this.imgVisible=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.options.img=n.result}}},uploadImg:function(){this.$refs.cropper.getCropBlob((function(e){var t=new FormData;t.append("file",e)}))},realTime:function(e){this.previews=e},submitUser:function(){this.group.id,this.group.name,this.group.avatarId},gb:function(){this.$emit("fatherMethod")}}},P=L;function U(e,t,n,r,i,o,s,a){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}var k=U(P,T,I,!1,null,"425809b3",null),D=k.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"100%",overflow:"auto"}},[r("div",{staticStyle:{"padding-top":"10px","padding-left":"2px","padding-right":"2px"}},[e.contact.isGroup?e._e():r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{"text-align":"center"}},[r("el-avatar",{attrs:{src:e.contact.avatar}})],1)]),r("el-col",{attrs:{span:24}},[r("ul",{staticClass:"list-group list-group-striped"},[r("li",{staticClass:"list-group-item"},[r("i",{staticClass:"el-icon-user-solid"}),e._v(" 用户账号 "),r("div",{staticClass:"pull-right"},[e._v(e._s(e.contact.id))])]),r("li",{staticClass:"list-group-item"},[r("i",{staticClass:"el-icon-info"}),e._v(" 用户名称 "),r("div",{staticClass:"pull-right"},[e._v(e._s(e.contact.displayName))])])])])],1),e.contact.isGroup?r("div",[r("el-row",{staticClass:"memberList",attrs:{gutter:4}},[r("el-col",{staticClass:"memberItem",attrs:{span:6}},[r("div",{staticClass:"memberItemImg addMemberImg",on:{click:e.handleAddMemberToGroup}},[r("img",{attrs:{src:n("d1da")}})]),r("div",{staticClass:"memberItemName",on:{click:e.handleAddMemberToGroup}},[r("span",[e._v("添加")])])]),e._l(e.groupMemberList,(function(t,n){return r("el-col",{key:n,staticClass:"memberItem",attrs:{span:6}},[r("div",{staticClass:"memberItemImg"},[r("img",{attrs:{src:t.avatar}})]),r("div",{staticClass:"memberItemName"},[r("span",[e._v(e._s(t.nickname))])])])}))],2),r("div",{staticClass:"groupInfo"},[r("div",{staticClass:"groupInfoItem"},[r("div",{staticClass:"groupInfoItemTitle"},[e._v(" 群名称 ")]),r("div",{staticClass:"groupInfoItemContent"},[e._v(e._s(this.contact.displayName))])])])],1):e._e()],1),r("el-dialog",{attrs:{title:"修改群",visible:e.addGroupOpen,modal:!1,width:"500px"},on:{"update:visible":function(t){e.addGroupOpen=t}}},[r("EditGroup",{attrs:{group:e.contact},on:{grouprMethod:e.gbAddGroupOpen}})],1),r("el-dialog",{attrs:{visible:e.deleteUserOpen,modal:!1,width:"400px"},on:{"update:visible":function(t){e.deleteUserOpen=t}}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticStyle:{"text-align":"center"}},[r("el-avatar",{attrs:{size:70,src:this.deleteUser.avatar}})],1)]),r("el-col",{attrs:{span:24}},[r("ul",{staticClass:"list-group list-group-striped"},[r("li",{staticClass:"list-group-item"},[r("i",{staticClass:"el-icon-user-solid"}),e._v(" 用户账号 "),r("div",{staticClass:"pull-right"},[e._v(e._s(this.deleteUser.id))])]),r("li",{staticClass:"list-group-item"},[r("i",{staticClass:"el-icon-info"}),e._v(" 用户名称 "),r("div",{staticClass:"pull-right"},[e._v(e._s(this.deleteUser.name))])])])])],1)],1),r("el-dialog",{staticClass:"addUserDialog",attrs:{visible:e.addUserOpen,modal:!1,width:"800px"},on:{"update:visible":function(t){e.addUserOpen=t}}},[r("el-row",{staticClass:"addUserDom"},[r("el-col",{staticClass:"orgListDom",attrs:{span:8}},e._l(e.orgList,(function(t,n){return r("div",{key:"orgItem-"+n,staticClass:"orgItem",on:{click:function(n){return e.chooseOrg(t.id)}}},[e._v(" "+e._s(t.name)+" ")])})),0),r("el-col",{staticClass:"userListDom",attrs:{span:8}},e._l(e.selectOrgUsers,(function(t){return r("div",{key:"currentOrgUser"+t.id,staticClass:"userItem"},[r("el-checkbox",{attrs:{label:t.id,border:""},on:{change:function(n){return e.handleChangeUser(n,t)}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"item.checked"}},[e._v(" "+e._s(t.name)+"-"+e._s(t.dpt_name))])],1)})),0),r("el-col",{staticClass:"userListDom",attrs:{span:8}},[r("div"),e._l(e.selecedUser,(function(t,n){return r("div",{key:"currentOrgUser"+t.id,staticClass:"userItem"},[r("el-tag",{attrs:{closable:""},on:{close:function(r){return e.handleDelSelectUser(t.id,n)}}},[e._v(" "+e._s(t.name)+"-"+e._s(t.dpt_name)+" ")])],1)}))],2)],1),r("div",{staticClass:"controlDom"},[r("el-button",{attrs:{type:"primary"},on:{click:e.addMemberToGroup}},[e._v("确定")])],1)],1)],1)},B=[],V=(n("cbb5"),n("8bbc")),F=n.n(V),H=(n("560b"),n("dcdc")),$=n.n(H),q=(n("10cb"),n("f3ad")),G=n.n(q),z=(n("5466"),n("ecdf")),K=n.n(z),Y=(n("38a0"),n("ad41")),W=n.n(Y),J=(n("caad"),n("2532"),n("4de4"),n("a434"),n("bc3a")),Q=n.n(J),X=n("a78e"),Z=n.n(X);function ee(){let e={platform:"PC"},t="jwt-token";return e[t]=Z.a.get("jwt_token")?Z.a.get("jwt_token"):"",e}class te{constructor(){this.queue={}}getInsideConfig(){const e={headers:ee()};return console.log(e),e}destroy(e){delete this.queue[e]}interceptors(e,t){e.interceptors.request.use(e=>(this.queue[t]=!0,e),e=>Promise.reject(e)),e.interceptors.response.use(e=>{this.destroy(t);const{data:n,status:r}=e;return{data:n,status:r}},e=>(this.destroy(t),Promise.reject(e)))}request(e){const t=Q.a.create();return e=Object.assign(this.getInsideConfig(),e),e.baseURL="",this.interceptors(t,e.url),t(e)}}var ne=te;const re=new ne;var ie=re,oe=function(e){return ie.request({url:e+"/register",method:"post"})},se=function(e){return ie.request({url:e+"/current-user",method:"get"})},ae=function(e,t){return ie.request({url:e+"/org/multi-users",method:"get",params:{ids:t}})},ce=function(e,t){return ie.request({url:e+"/org/"+t+"/users",method:"get"})},ue=function(e){return ie.request({url:e+"/orgs",method:"get"})},le=function(e,t){return ie.request({url:e+"/groupInfos",method:"get",params:{groupIds:t}})},fe=function(e,t){return ie.request({url:e+"/group/"+t+"/members",method:"get"})},de=function(e,t,n){return ie.request({url:e+"/group/"+t+"/member-inc",method:"post",data:{members:n}})},he=function(e,t){var n=new FormData;return n.append("file",t),ie.request({url:e+"/notify/upload",method:"post",data:n})},pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:6}},[n("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,height:"100% ",width:"100%",title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}})]),n("el-col",{attrs:{span:18}},[n("el-form",{ref:"form",attrs:{model:e.group,rules:e.groupRules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"群名称",prop:"displayName"}},[n("el-input",{attrs:{size:"small"},model:{value:e.group.displayName,callback:function(t){e.$set(e.group,"displayName",t)},expression:"group.displayName"}})],1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submitUser}},[e._v("保存")]),n("el-button",{attrs:{size:"mini"},on:{click:e.gb}},[e._v("取 消")])],1),n("el-dialog",{attrs:{title:e.title,visible:e.imgEditOpen,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.imgEditOpen=t},opened:e.modalOpened}},[n("el-row",[n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}}),n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("br"),n("el-row",[n("el-col",{attrs:{lg:2,md:2}},[n("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[n("el-button",{attrs:{size:"small"}},[e._v(" 上传 "),n("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),n("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[n("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),n("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},ge=[],me={name:"EditGroup",components:{},props:["group"],data:function(){return{imgEditOpen:!1,imgVisible:!1,title:"修改头像",options:{img:this.group.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{},groupRules:{displayName:[{required:!0,trigger:"blur",message:"群名称不能为空"},{min:6,message:"长度在6位以上",trigger:"blur"},{max:12,message:"长度在12位以下",trigger:"blur"}]}}},methods:{userEdit:function(){this.options.img=this.user.avatar,this.userOpen=!0},editCropper:function(){this.imgEditOpen=!0},modalOpened:function(){this.imgVisible=!0},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.options.img=n.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var n=new FormData;n.append("file",t),(void 0)(n).then((function(t){e.group.avatar=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_API+"/file/getFile?id="+t.msg,e.group.avatarId=t.msg,e.imgEditOpen=!1}))}))},realTime:function(e){this.previews=e},submitUser:function(){var e=this,t={userName:this.group.id,nickName:this.group.displayName,avatar:this.group.avatarId};console.log(this.group),(void 0)(t).then((function(t){e.$emit("grouprMethod")}))},gb:function(){this.$emit("grouprMethod")}}},ve=me,ye=U(ve,pe,ge,!1,null,"514b5bd6",null),_e=ye.exports,be={name:"CustomDrawer",components:{EditGroup:_e,elDialog:y.a,elTable:W.a,elTableColumn:K.a,elRow:N.a,elCol:O.a,elButton:A.a,elInput:G.a,Message:m.a,elAvatar:b.a,elCheckbox:$.a,elTag:F.a},watch:{"$store.state.contacti":{deep:!0,handler:function(e,t){this.searchValue="",this.contact=e,this.contact.isGroup&&(this.all=!1,this.getList())}}},data:function(){return{contact:{},searchValue:"",all:!1,list:[],addGroupOpen:!1,deleteUserOpen:!1,deleteUser:{},addUserOpen:!1,searchAddUser:"",addUserList:[],ids:"",groupMemberList:[],orgList:[],selectOrgId:"",selectOrgUsers:[],selecedUser:[]}},created:function(){this.contact=this.$store.state.contacti,this.contact.isGroup&&(this.all=!1,this.getList())},methods:{handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id}))},searchAddUserList:function(){var e=this,t={groupId:this.contact.id,searchValue:this.searchAddUser};(void 0)(t).then((function(t){e.addUserList=t.data}))},getList:function(){var e=this;fe(this.$store.state.axiosBaseUrl,this.contact.id).then((function(t){200===t.status?e.groupMemberList=t.data.data:m.a.error(t.data.msg)}))},getAll:function(e){this.all=!!e,this.searchValue="",this.getList()},edit:function(){this.addGroupOpen=!0},gbAddGroupOpen:function(){this.addGroupOpen=!1},deleteUserShow:function(e){this.deleteUser=e,this.deleteUserOpen=!0},submitDeleteUser:function(){var e=this,t={groupId:this.contact.id,userId:this.deleteUser.id};(void 0)(t).then((function(t){e.deleteUserOpen=!1,e.all=!1,e.getList()}))},submitAddUserUser:function(){var e=this,t=this.ids.toString(),n={ids:t,groupId:this.contact.id};(void 0)(n).then((function(t){e.addUserOpen=!1,e.all=!1,e.getList()}))},handleAddMemberToGroup:function(){this.getOrgList(),this.addUserOpen=!0},getOrgList:function(){var e=this;ue(this.$store.state.axiosBaseUrl).then((function(t){console.log(t),200===t.status?e.orgList=t.data.data:m.a.error(t.data.msg)})).catch((function(e){console.log(e)}))},chooseOrg:function(e){this.selectOrgId=e,this.getUserByOrgid()},getUserByOrgid:function(){var e=this;ce(this.$store.state.axiosBaseUrl,this.selectOrgId).then((function(t){if(200===t.status){var n=e.selecedUser.map((function(e){return e.id}));e.selectOrgUsers=t.data.data.map((function(e){return e.checked=!1,n.includes(e.id)&&(e.checked=!0),e}))}else m.a.error(t.data.msg)})).catch((function(e){console.log(e)}))},handleChangeUser:function(e,t){e?this.selecedUser.push(t):this.selecedUser=this.selecedUser.filter((function(e){return e.id!=t.id}))},handleDelSelectUser:function(e,t){this.selecedUser.splice(t,1),this.selectOrgUsers.forEach((function(t){t.id==e&&(t.checked=!1)}))},addMemberToGroup:function(){var e=this,t=this.selecedUser.map((function(e){return Number(e.id)}));de(this.$store.state.axiosBaseUrl,this.contact.id,t).then((function(t){console.log(t),200===t.status?(m.a.success(t.data.msg),e.addUserOpen=!1):m.a.error(t.data.msg)})).catch((function(e){console.log(e)}))}}},Ce=be,Ee=(n("e59c"),U(Ce,j,B,!1,null,"23fc464a",null)),Se=Ee.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 这里四点六进萨迪克垃圾啊十分激烈对抗 ")])},Te=[],Ie={mounted:function(){console.log("新组建")}},Re=Ie,Oe=U(Re,we,Te,!1,null,"74aa9504",null),xe=Oe.exports,Ne=function(){return(new Date).getTime()},Me=function(){return Math.random().toString(36).substr(-8)},Ae={props:{messageList:{type:Array,default:function(){return[]}},currentUser:{type:Object,default:function(){}},baseUrl:{type:String,default:"https://im.shandian8.com"},menuList:{type:Array,default:function(){return[{name:"messages",isBottom:!1},{name:"contacts",isBottom:!1},{name:"createGroup",isBottom:!0},{name:"files",isBottom:!1,title:"文档",unread:0,key:"test",component:{test:xe}}]}},firstConversationId:String||void 0},components:{CreateGroup:D,elDialog:y.a,elImage:w.a,Message:m.a,groupInfo:Se},data:function(){var e=this,t=this.$createElement;return{contextmenu:[{click:function(e,n,r){var i=n.IMUI,o=n.message,s={id:Me(),type:"event",content:t("div",[t("span",["你撤回了一条消息"," ",t("span",{directives:[{name:"show",value:"text"==o.type}],style:"color:#333;cursor:pointer",attrs:{content:o.content},on:{click:function(e){i.setEditorValue(e.target.getAttribute("content"))}}},["重新编辑"])])]),toContactId:o.toContactId,sendTime:Ne()};i.removeMessage(o.id),i.appendMessage(s,!0),r()},visible:function(t){return t.message.fromUser.id==e.user.id},text:"撤回消息"},{visible:function(t){return t.message.fromUser.id!=e.user.id},text:"举报"},{text:"转发"},{visible:function(e){return"text"==e.message.type},text:"复制文字"},{visible:function(e){return"image"==e.message.type},text:"下载图片"},{visible:function(e){return"file"==e.message.type},text:"下载文件"},{click:function(e,t,n){var r=t.IMUI,i=t.message;r.removeMessage(i.id),n()},icon:"lemon-icon-folder",color:"red",text:"删除"}],contactContextmenu:[{text:"删除该聊天",click:function(e,t,n){var r=t.IMUI,i=t.contact;r.updateContact({id:i.id,lastContent:null}),r.currentContactId==i.id&&r.changeContact(null),n()}},{text:"设置备注和标签"},{icon:"lemon-icon-message",render:function(e,t,n){return e("div",{style:"display:flex;justify-content:space-between;align-items:center;width:130px"},[e("span",["加入黑名单"]),e("span",[e("input",{attrs:{type:"checkbox",id:"switch"}}),e("label",{attrs:{id:"switch-label",for:"switch"}},["Toggle"])])])}},{click:function(e,t,n){var r=t.IMUI,i=t.contact;r.removeContact(i.id),r.currentContactId==i.id&&r.changeContact(null),n()},color:"red",text:"删除好友"}],theme:"default",hideMenuAvatar:!1,hideMenu:!1,hideMessageName:!1,hideMessageTime:!0,user:{id:this.currentUser.id||1,displayName:this.currentUser.nickname||"",orgid:this.currentUser.orgid||""},show_message_list:this.messageList,targetUser:{},drawerVisibleShow:!0,addGroupOpen:!1,outerVisible:!1,imgUrl:void 0,srcList:void 0,my_baseUrl:this.baseUrl,all_users:[]}},watch:{currentUser:function(e,t){this.user={id:e.id||1,displayName:e.nickname||"",orgid:e.orgid||""}},baseUrl:function(e,t){this.my_baseUrl=e},messageList:function(e,t){console.log("数据变化",e,t),this.show_message_list=e,this.getCurrentOrgUsers()}},mounted:function(){var e=this.$createElement,t=this.$refs.IMUI;this.getCurrentOrgUsers();var n=[];this.menuList.forEach((function(t,r){if("messages"===t.name)n.push({name:"messages"});else if("contacts"===t.name)n.push({name:"contacts"});else if("createGroup"===t.name)n.push({name:"createGroup",title:"添加群组",unread:0,renderContainer:function(){return e("addGroup")},render:function(t){return e("i",{class:"lemon-icon-group"})},isBottom:!0});else{n.push({name:t.name,isBottom:t.isBottom,title:t.title,unread:t.unread,renderContainer:function(n){var r=t.component[t.key];return e(r)},render:function(n){var r="lemon-icon-"+t.name;return e("i",{class:r})}})}})),t.initMenus(n),t.initEditorTools([{name:"uploadFile"},{name:"uploadImage"},{name:"test1",click:function(){t.$refs.editor.selectFile("application/vnd.ms-excel")},render:function(){return e("span",["Excel"])}}]),t.setLastContentRender("image",(function(t){return e("span",["[图片]"])})),t.setLastContentRender("event",(function(e){return e.content})),t.setLastContentRender("file",(function(t){return e("span",["[文件]"])}))},methods:{handleChangeMenu:function(e){console.log("Event:change-menu",e)},handleChangeContact:function(e,t){console.log("Event:change-contact",e),this.targetUser=e,t.updateContact({id:e.id,unread:0}),t.closeDrawer()},handlePullMessages:function(e,t,n){var r={contact:e,next:t};this.$emit("handlePullMessages",r)},pullHistore:function(e,t,n,r){var i=this,o=e.map((function(e){var t={id:e.messageUId,status:"succeed",type:"text",sendTime:e.sentTime,content:"",toContactId:e.targetId,fromUser:"1"==e.messageDirection?i.user:r};switch(e.messageType){case"RC:TxtMsg":t.type="text",t.content=e.content.content;break;case"RC:ImgMsg":t.type="image",t.content=e.content.imageUri;break;case"RC:FileMsg":t.type="file",t.content=e.content.fileUrl,t.fileSize=e.content.size,t.fileName=e.content.name,console.log(e);break;case"RC:InfoNtf":t.type="event",t.content=e.content.content;break}return t}));console.log(t),n(o,!t)},handleMessageClick:function(e,t,n,r){console.log("点击了消息",e,t,n),"status"==t&&(r.updateMessage({id:n.id,status:"going",content:"正在重新发送消息..."}),setTimeout((function(){r.updateMessage({id:n.id,status:"succeed",content:"发送成功"})}),2e3)),"image"==n.type?(this.imgUrl=n.content,this.srcList=[n.content],this.outerVisible=!0):"file"==n.type&&window.open(n.content)},handleMenuAvatarClick:function(){console.log("Event:menu-avatar-click")},handleSend:function(e,t,n){var r=this,i="",o={};switch(e.type){case"text":i="RC:TxtMsg",o={content:e.content},this.$emit("handleSendMessage",{target_id:this.targetUser.id,isGroup:!!this.targetUser.isGroup&&this.targetUser.isGroup,conversation_type:i,content:o,fun:t});break;case"image":i="RC:ImgMsg",he(this.my_baseUrl,n).then((function(e){200===e.status?(o={content:e.data.data.require_thumb,imageUri:e.data.data.file},r.$emit("handleSendMessage",{target_id:r.targetUser.id,isGroup:!!r.targetUser.isGroup&&r.targetUser.isGroup,conversation_type:i,content:o,fun:t})):m.a.error(e.data.msg)})).catch((function(e){console.log(e)}));break;case"file":i="RC:FileMsg",console.log(e,n);var s=n.size,a=n.type,c=n.name;he(this.my_baseUrl,n).then((function(e){200===e.status?(o={name:c,size:s,type:a,fileUrl:e.data.data.file},r.$emit("handleSendMessage",{target_id:r.targetUser.id,isGroup:!!r.targetUser.isGroup&&r.targetUser.isGroup,conversation_type:i,content:o,fun:t})):m.a.error(e.data.msg)})).catch((function(e){console.log(e)}));break;case"event":i="RC:InfoNtf",setTimeout((function(){t()}),1e3);break}},changeDrawer:function(e,t){var n=this.$createElement;this.$store.dispatch("SetContact",e),t.changeDrawer({render:function(){return n(Se)}})},gbAddGroupOpen:function(){this.addGroupOpen=!1,this.getContactsList()},appendMessage:function(e){this.$refs.IMUI.appendMessage(e)},getCurrentOrgUsers:function(){var e=this,t=this.$refs.IMUI,n=this.$store.state.currentOrgUsers,r=[];n.forEach((function(n){var i=-1;e.show_message_list.forEach((function(e,r){e.id==n.id&&(""==e.lastContent&&(e.lastContent="未知消息"),e.lastContent=t.lastContentRender(e.lastContent),i=r)})),i>-1&&(n.unread=e.show_message_list[i].unread,n.lastSendTime=e.show_message_list[i].lastSendTime,n.lastContent=e.show_message_list[i].lastContent),r.push(n)})),this.show_message_list.forEach((function(e,n){if(e.id<0){var i=e.lastContent;e.lastContent||(i="未知消息"),e.lastContent=t.lastContentRender(i),r.push(e)}e.isGroup&&(e.lastContent||(e.lastContent="未知消息"),e.lastContent=t.lastContentRender(e.lastContent),r.push(e))})),this.all_users=r,this.$refs.IMUI.initContacts(r),setTimeout((function(){e.firstConversationId&&t.changeContact(e.firstConversationId)}),500)},addNewContact:function(e){this.all_users.push(e),this.$refs.IMUI.initContacts(all_user)},changeContact:function(e){this.$refs.IMUI.changeContact(e.id)}}},Le=Ae,Pe=(n("4fce"),U(Le,C,E,!1,null,"528df2c2",null)),Ue=Pe.exports,ke=n("78b2"),De=function(){return(De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function je(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function Be(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Ve(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Fe=new ke["k"]("RCIM"),He={TIMEOUT:{code:-1,msg:"Network timeout"},SDK_INTERNAL_ERROR:{code:-2,msg:"SDK internal error"},PARAMETER_ERROR:{code:-3,msg:"Please check the parameters, the {param} expected a value of {expect} but received {current}"},REJECTED_BY_BLACKLIST:{code:405,msg:"Blacklisted by the other party"},SEND_TOO_FAST:{code:20604,msg:"Sending messages too quickly"},NOT_IN_GROUP:{code:22406,msg:"Not in group"},FORBIDDEN_IN_GROUP:{code:22408,msg:"Forbbiden from speaking in the group"},NOT_IN_CHATROOM:{code:23406,msg:"Not in chatRoom"},FORBIDDEN_IN_CHATROOM:{code:23408,msg:"Forbbiden from speaking in the chatRoom"},KICKED_FROM_CHATROOM:{code:23409,msg:"Kicked out and forbbiden from joining the chatRoom"},CHATROOM_NOT_EXIST:{code:23410,msg:"ChatRoom does not exist"},CHATROOM_IS_FULL:{code:23411,msg:"ChatRoom members exceeded"},PARAMETER_INVALID_CHATROOM:{code:23412,msg:"Invalid chatRoom parameters"},ROAMING_SERVICE_UNAVAILABLE_CHATROOM:{code:23414,msg:"ChatRoom message roaming service is not open, Please go to the developer to open this service"},RECALLMESSAGE_PARAMETER_INVALID:{code:25101,msg:"Invalid recall message parameter"},ROAMING_SERVICE_UNAVAILABLE_MESSAGE:{code:25102,msg:"Single group chat roaming service is not open, Please go to the developer to open this service"},PUSHSETTING_PARAMETER_INVALID:{code:26001,msg:"Invalid push parameter"},OPERATION_BLOCKED:{code:20605,msg:"Operation is blocked"},OPERATION_NOT_SUPPORT:{code:20606,msg:"Operation is not supported"},MSG_BLOCKED_SENSITIVE_WORD:{code:21501,msg:"The sent message contains sensitive words"},REPLACED_SENSITIVE_WORD:{code:21502,msg:"Sensitive words in the message have been replaced"},NOT_CONNECTED:{code:30001,msg:"Please connect successfully first"},NAVI_REQUEST_ERROR:{code:30007,msg:"Navigation http request failed"},CMP_REQUEST_ERROR:{code:30010,msg:"CMP sniff http request failed"},CONN_APPKEY_FAKE:{code:31002,msg:"Your appkey is fake"},CONN_MINI_SERVICE_NOT_OPEN:{code:31003,msg:"Mini program service is not open, Please go to the developer to open this service"},CONN_ACK_TIMEOUT:{code:31e3,msg:"Connection ACK timeout"},CONN_TOKEN_INCORRECT:{code:31004,msg:"Your token is not valid or expired"},CONN_NOT_AUTHRORIZED:{code:31005,msg:"AppKey and Token do not match"},CONN_REDIRECTED:{code:31006,msg:"Connection redirection"},CONN_APP_BLOCKED_OR_DELETED:{code:31008,msg:"AppKey is banned or deleted"},CONN_USER_BLOCKED:{code:31009,msg:"User blocked"},CONN_DOMAIN_INCORRECT:{code:31012,msg:"Connect domain error, Please check the set security domain"},ROAMING_SERVICE_UNAVAILABLE:{code:33007,msg:"Roaming service cloud is not open, Please go to the developer to open this service"},RC_CONNECTION_EXIST:{code:34001,msg:"Connection already exists"},CHATROOM_KV_EXCEED:{code:23423,msg:"ChatRoom KV setting exceeds maximum"},CHATROOM_KV_OVERWRITE_INVALID:{code:23424,msg:"ChatRoom KV already exists"},CHATROOM_KV_STORE_NOT_OPEN:{code:23426,msg:"ChatRoom KV storage service is not open, Please go to the developer to open this service"},CHATROOM_KEY_NOT_EXIST:{code:23427,msg:"ChatRoom key does not exist"},MSG_KV_NOT_SUPPORT:{code:34008,msg:"The message cannot be extended"},SEND_MESSAGE_KV_FAIL:{code:34009,msg:"Sending RC expansion message fail"},EXPANSION_LIMIT_EXCEET:{code:34010,msg:"The message expansion size is beyond the limit"},ILLGAL_PARAMS:{code:33003,msg:"Incorrect parameters passed in while calling the interface"}},$e={};for(var qe in He){var Ge=He[qe].code;$e[Ge]=qe}function ze(e){var t=e.conversationType,n=e.messageType,r=e.content,i=e.senderUserId,o=e.targetId,s=e.sentTime,a=e.receivedTime,c=e.messageUId,u=e.messageDirection,l=e.isPersited,f=e.isCounted,d=e.isOffLineMessage,h=e.canIncludeExpansion,p=e.expansion,g=e.receivedStatus,m=e.disableNotification,v=e.isMentioned,y=e.isStatusMessage,_=e.readReceiptInfo;return g||(g=ke["p"].UNREAD),{messageType:n,content:r,senderUserId:i,targetId:o,type:t,sentTime:s,receivedTime:a,messageUId:c,messageDirection:u,isPersited:l,isCounted:f,isOffLineMessage:d,isMentioned:v,disableNotification:m,isStatusMessage:y,canIncludeExpansion:h,expansion:p,receivedStatus:g,readReceiptInfo:_}}function Ke(e){var t=e.conversationType,n=e.targetId,r=e.latestMessage,i=e.unreadMessageCount,o=e.hasMentioned,s=e.mentionedInfo,a=e.lastUnreadTime,c=e.notificationStatus,u=e.isTop;return{type:t,targetId:n,latestMessage:r&&ze(r),unreadMessageCount:i,hasMentioned:o,mentionedInfo:o?{type:null==s?void 0:s.type,userIdList:null==s?void 0:s.userIdList}:void 0,lastUnreadTime:a,notificationStatus:c,isTop:u}}function Ye(e){Object(ke["s"])("options.messageType",e.messageType,ke["b"].STRING,!0),Object(ke["s"])("options.content",e.content,(function(e){return Object(ke["w"])(e)}),!0),Object(ke["s"])("options.isPersited",e.isPersited,ke["b"].BOOLEAN),Object(ke["s"])("options.isCounted",e.isCounted,ke["b"].BOOLEAN),Object(ke["s"])("options.pushContent",e.pushContent,ke["b"].STRING),Object(ke["s"])("options.pushData",e.pushData,ke["b"].STRING),Object(ke["s"])("options.isVoipPush",e.isVoipPush,ke["b"].BOOLEAN),Object(ke["s"])("options.isStatusMessage",e.isStatusMessage,ke["b"].BOOLEAN),Object(ke["s"])("options.isMentioned",e.isMentioned,ke["b"].BOOLEAN),Object(ke["s"])("options.mentionedType",e.mentionedType,ke["b"].NUMBER),Object(ke["s"])("options.mentionedUserIdList",e.mentionedUserIdList,(function(e){return Object(ke["u"])(e)&&(0===e.length||e.every(ke["x"]))})),Object(ke["s"])("options.directionalUserIdList",e.directionalUserIdList,(function(e){return Object(ke["u"])(e)&&(0===e.length||e.every(ke["x"]))})),Object(ke["y"])(e.isPersited)&&Object(ke["y"])(e.isCounted)&&Object(ke["y"])(e.isStatusMessage)||Fe.warn("The parameters `isPersited`, `isCounted`, `isStatusMessage` will be deprecated in future releases due to inconsistance of the values on mobile side and web side. Please use `registerMessageType` instead for non-integrated message type.")}var We,Je=function(e,t){if(!e)return[];var n=Qe(e),r=Ze(n.topConversationList,t),i=Ze(n.unToppedConversationList,t);return r.push.apply(r,i),r},Qe=function(e){var t=[],n=[];return Object(ke["t"])(e,(function(e){var r=e.hasMentioned,i=e.mentionedInfo;e.hasMentioned=r,e.mentionedInfo=i,e.isTop?t.push(e):n.push(e)})),{topConversationList:t||[],unToppedConversationList:n||[]}},Xe=function(e){return e.type+"_"+e.targetId},Ze=function(e,t){return void 0===t&&(t=0),nt(e,(function(e,n){n=n||{};var r=(e=e||{}).latestMessage||{},i=n.latestMessage||{},o=r.sentTime||0,s=i.sentTime||0;return t?s>=o:s<=o}))},et=function(e){var t=(e=e||{}).targetId,n=e.type,r=ke["f"].PRIVATE,i={messageType:ke["m"].TextMessage,sentTime:ke["g"].getTime(),content:{content:""},senderUserId:t,targetId:t,type:n};return e.type=n||r,e.targetId=t||"",e.latestMessage=e.latestMessage||i,e},nt=function(e,t){var n=function(e,t,r,i){if(i=i||function(e,t){return e<=t},t<r){for(var o=e[r],s=t-1,a=void 0,c=t;c<=r;c++)i(e[c],o)&&(a=e[++s],e[s]=e[c],e[c]=a);n(e,t,s-1,i),n(e,s+1,r,i)}return e};return n(e,0,e.length-1,t)},rt=function(e){return!e.type||!e.targetId||!Object(ke["w"])(e.latestMessage)||Object(ke["y"])(e.unreadMessageCount)},it=function(e,t,n){var r=(n=n||{}).isAllowNull;for(var i in e=e||{},t=t||{}){var o=t[i];Object(ke["y"])(o)&&!r||(e[i]=o)}return e},ot=function(){function e(e,t){this._context=e,this.targetId=t.targetId,this.type=t.type}return e.prototype.destory=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return[4,this._context.removeConversation(this.type,this.targetId)];case 1:return e=n.sent(),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("destroy conversation ->"+t),e!==ke["h"].SUCCESS?(Fe.warn("destroy conversation fail ->"+e+":"+$e[e]+","+t),[2,Promise.reject({code:e,msg:$e[e]})]):[2]}}))}))},e.prototype.read=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return[4,this._context.clearUnreadCount(this.type,this.targetId)];case 1:return e=n.sent(),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("clear unreadMsgNum ->"+t),e!==ke["h"].SUCCESS?(Fe.warn("clear unreadMsgNum fail ->"+e+":"+$e[e]+","+t),[2,Promise.reject({code:e,msg:$e[e]})]):[2]}}))}))},e.prototype.getUnreadCount=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return[4,this._context.getUnreadCount(this.type,this.targetId)];case 1:return e=i.sent(),t=e.code,n=e.data,r="type:"+this.type+",targetId:"+this.targetId,Fe.debug("get unreadCount ->"+r),t===ke["h"].SUCCESS?[2,n]:(Fe.warn("get unreadCount fail ->"+t+":"+$e[t]+","+r),[2,Promise.reject({code:t,msg:$e[t]})])}}))}))},e.prototype.send=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Ye(e),Object.prototype.hasOwnProperty.call(e,"isPersited")||(e.isPersited=!0),Object.prototype.hasOwnProperty.call(e,"isCounted")||(e.isCounted=!0),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("send message  ->"+t),[4,this._context.sendMessage(this.type,this.targetId,e)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS?[2,ze(i)]:(Fe.warn("send message fail ->"+r+":"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r],data:ze({isMentioned:!!e.isMentioned,content:e.content,messageType:e.messageType,isPersited:e.isPersited||!1,isCounted:e.isCounted||!1,disableNotification:!!(null==e?void 0:e.disableNotification),canIncludeExpansion:!!(null==e?void 0:e.canIncludeExpansion),expansion:(null==e?void 0:e.expansion)||null,conversationType:this.type,targetId:this.targetId,senderUserId:this._context.getCurrentUserId(),messageUId:"",messageDirection:ke["l"].SEND,isOffLineMessage:!1,sentTime:(null==i?void 0:i.sentTime)||0,receivedTime:0,isStatusMessage:e.isStatusMessage||!1,receivedStatus:ke["p"].UNREAD})})])}}))}))},e.prototype.setStatus=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options.notificationStatus",e.notificationStatus,(function(e){return 1===e||2===e})),Object(ke["s"])("options.isTop",e.isTop,ke["b"].BOOLEAN),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("set conversation status ->"+t),[4,this._context.setConversationStatus(this.type,this.targetId,e.isTop,e.notificationStatus)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("set conversation status fail ->"+n+":"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.getMessages=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i,o;return Be(this,(function(s){switch(s.label){case 0:return Object(ke["s"])("options.timestamp",e.timestamp,ke["b"].NUMBER),Object(ke["s"])("options.count",e.count,ke["b"].NUMBER),Object(ke["s"])("options.order",e.order,(function(e){return 0===e||1===e})),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("get history message ->"+t),[4,this._context.getHistoryMessage(this.type,this.targetId,null==e?void 0:e.timestamp,null==e?void 0:e.count,null==e?void 0:e.order)];case 1:return n=s.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS&&i?(o=i.list.map((function(e){return ze(e)})),[2,Promise.resolve({list:o,hasMore:i.hasMore})]):(Fe.warn("get history message fail ->"+r+":"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r]})])}}))}))},e.prototype.recall=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i,o;return Be(this,(function(s){switch(s.label){case 0:return Object(ke["s"])("options.messageUId",e.messageUId,ke["b"].STRING,!0),Object(ke["s"])("options.sentTime",e.sentTime,ke["b"].NUMBER,!0),Object(ke["s"])("options.disableNotification",null==e?void 0:e.disableNotification,ke["b"].BOOLEAN),Object(ke["s"])("options.pushConfig",null==e?void 0:e.pushConfig,ke["b"].OBJECT),t={user:e.user,channelId:"",disableNotification:null==e?void 0:e.disableNotification,pushConfig:null==e?void 0:e.pushConfig},n="type:"+this.type+",targetId:"+this.targetId+",messageUId:"+e.messageUId,Fe.debug("recall message ->"+n),[4,this._context.recallMessage(this.type,this.targetId,e.messageUId,e.sentTime,t)];case 1:return r=s.sent(),i=r.code,o=r.data,i===ke["h"].SUCCESS&&o?[2,ze(o)]:(Fe.warn("recall message fail ->"+i+":"+$e[i]+","+n),[2,Promise.reject({code:i,msg:$e[i]})])}}))}))},e.prototype.deleteMessages=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options",e,(function(e){return Object(ke["u"])(e)&&e.length}),!0),e.forEach((function(e){Object(ke["s"])("options.messageUId",e.messageUId,ke["b"].STRING,!0),Object(ke["s"])("options.sentTime",e.sentTime,ke["b"].NUMBER,!0),Object(ke["s"])("options.messageDirection",e.messageDirection,(function(e){return 1===e||2===e}),!0)})),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("delete messages ->"+t),[4,this._context.deleteRemoteMessage(this.type,this.targetId,e)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("delete message fail ->"+n+":"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.clearMessages=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options.timestamp",e.timestamp,ke["b"].NUMBER,!0),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("clear message ->"+t),[4,this._context.deleteRemoteMessageByTimestamp(this.type,this.targetId,e.timestamp)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("clear message ->"+n+":"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.updateMessageExpansion=function(e,t){return je(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Be(this,(function(u){switch(u.label){case 0:return Object(ke["s"])("expansion",e,ke["b"].OBJECT,!0),Object(ke["s"])("message",t,ke["b"].OBJECT,!0),n=t.type,r=t.targetId,i=t.messageUId,o=t.canIncludeExpansion,s=t.expansion,a="type:"+n+",targetId:"+this.targetId+",messageUId:"+i,Fe.debug("update message expansion ->"+a),[4,this._context.sendExpansionMessage({conversationType:n,targetId:r,messageUId:i,expansion:e,canIncludeExpansion:o,originExpansion:s,channelId:""})];case 1:return(c=u.sent().code)!==ke["h"].SUCCESS?(Fe.warn("update message expansion fail ->"+c+":"+$e[c]+","+a),[2,Promise.reject({code:c,msg:$e[c]})]):[2]}}))}))},e.prototype.removeMessageExpansion=function(e,t){return je(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Be(this,(function(c){switch(c.label){case 0:return Object(ke["s"])("keys",e,ke["b"].ARRAY,!0),Object(ke["s"])("message",t,ke["b"].OBJECT,!0),n=t.type,r=t.targetId,i=t.messageUId,o=t.canIncludeExpansion,s="type:"+n+",targetId:"+this.targetId+",messageUId:"+i,Fe.debug("remove message expansion ->"+s),[4,this._context.sendExpansionMessage({conversationType:n,targetId:r,messageUId:i,canIncludeExpansion:o,keys:e,channelId:""})];case 1:return(a=c.sent().code)!==ke["h"].SUCCESS?(Fe.warn("remove message expansion fail ->"+a+":"+$e[a]+","+s),[2,Promise.reject({code:a,msg:$e[a]})]):[2]}}))}))},e.prototype.setDraft=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("draft",e,ke["b"].STRING,!0),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("set draft ->"+t),[4,this._context.saveConversationMessageDraft(this.type,this.targetId,e)];case 1:return(n=r.sent())===ke["h"].SUCCESS?[2,Promise.resolve()]:(Fe.warn("set draft fail ->"+n+":"+$e[n]+","+t),[2])}}))}))},e.prototype.getDraft=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return[4,this._context.getConversationMessageDraft(this.type,this.targetId)];case 1:return e=i.sent(),t=e.code,n=e.data,r="type:"+this.type+",targetId:"+this.targetId,Fe.debug("get draft ->"+r),t===ke["h"].SUCCESS?[2,Promise.resolve(n)]:(Fe.warn("get draft fail ->"+t+":"+$e[t]+","+r),[2,Promise.reject({code:t,msg:$e[t]})])}}))}))},e.prototype.deleteDraft=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return e="type:"+this.type+",targetId:"+this.targetId,Fe.debug("delete draft  ->"+e),[4,this._context.clearConversationMessageDraft(this.type,this.targetId)];case 1:return(t=n.sent())===ke["h"].SUCCESS?[2,Promise.resolve()]:(Fe.warn("delete draft fail ->"+t+":"+$e[t]+","+e),[2])}}))}))},e.prototype.sendReadReceiptMessage=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i,o;return Be(this,(function(s){switch(s.label){case 0:for(Object(ke["s"])("messageUIds",e,ke["b"].ARRAY,!0),t=0,n=e;t<n.length;t++)r=n[t],Object(ke["s"])("messageUId",r,ke["b"].STRING);return i="messageUIds:"+e.join(",")+",targetId:"+this.targetId,Fe.debug("send read receipt message ->"+i),[4,this._context.sendReadReceiptMessage(this.targetId,e)];case 1:return(o=s.sent().code)===ke["h"].SUCCESS?[2,Promise.resolve()]:(Fe.warn("send read receipt message fail ->"+o+":"+$e[o]+","+i),[2,Promise.reject(o)])}}))}))},e.prototype.sendTypingStatusMessage=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i,o;return Be(this,(function(s){switch(s.label){case 0:return Object(ke["s"])("typingContentType",e,ke["b"].STRING,!0),t="type:"+this.type+",targetId:"+this.targetId,Fe.debug("send typing status message ->"+t),n={messageType:"RC:TypSts",content:{typingContentType:e},isStatusMessage:!0,channelId:""},[4,this._context.sendMessage(this.type,this.targetId,n)];case 1:return r=s.sent(),i=r.code,o=r.data,i===ke["h"].SUCCESS?[2,ze(o)]:(Fe.warn("send typing status message fail ->"+i+":"+$e[i]+","+t),[2,Promise.reject({code:i,msg:$e[i]})])}}))}))},e.prototype.getMessageReader=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Object(ke["s"])("messageUId",e,ke["b"].STRING,!0),t="messageUId:"+e+",targetId:"+this.targetId,Fe.debug("get message reader ->"+t),[4,this._context.getMessageReader(this.targetId,e)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS?[2,Promise.resolve(i)]:(Fe.warn("get message reader fail ->"+r+":"+$e[r]+","+t),[2,Promise.reject(r)])}}))}))},e.prototype.getInfo=function(){return je(this,void 0,void 0,(function(){var e,t,n;return Be(this,(function(r){switch(r.label){case 0:return[4,this._context.getConversation(this.type,this.targetId,"")];case 1:return e=r.sent(),t=e.code,n=e.data,t===ke["h"].SUCCESS&&n?[2,Ke(n)]:[2,Promise.reject({code:t,msg:$e[t]})]}}))}))},e}(),st=function(){function e(e){this._context=e}return e.prototype.getList=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Fe.debug("get conversation list ->"),[4,this._context.getConversationList(null==e?void 0:e.count,void 0,null==e?void 0:e.startTime,null==e?void 0:e.order)];case 1:return t=o.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS&&r?(i=r.map((function(e){return Ke(e)})),[2,Je(i)]):(Fe.warn("get conversation list fail ->"+n+":"+$e[n]),[2,Promise.reject({code:n,msg:$e[n]})])}}))}))},e.prototype.get=function(e){return Object(ke["s"])("options.type",e.type,ke["z"],!0),new ot(this._context,e)},e.prototype.remove=function(e){return Object(ke["s"])("options.type",e.type,ke["z"],!0),new ot(this._context,e).destory()},e.prototype.getTotalUnreadCount=function(e,t){return je(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Be(this,(function(c){switch(c.label){case 0:if(Fe.debug("get total unread count -> ConversationType:"+JSON.stringify(t)+" includeMuted:"+e),Object(ke["s"])("includeMuted",e,ke["b"].BOOLEAN,!1),Object(ke["s"])("conversationTypes",t,ke["b"].ARRAY,!1),t)for(n=0,r=t;n<r.length;n++)i=r[n],Object(ke["s"])("conversationType",i,ke["b"].NUMBER);return[4,this._context.getTotalUnreadCount("",t,e)];case 1:return o=c.sent(),s=o.code,a=o.data,s===ke["h"].SUCCESS?[2,a]:(Fe.warn("getTotalUnreadCount fail ->"+s+":"+$e[s]),[2,Promise.reject({code:s,msg:$e[s]})])}}))}))},e.prototype.merge=function(e){return!e.conversationList&&Fe.warn("Parameter option.conversationList are required!"),function(e){var t=(e=e||{}).conversationList,n=e.updatedConversationList;t=t||[];var r=Ve(Ve([],n=n||[]),t),i={},o=[],s=[];return Object(ke["t"])(r,(function(e){if(Object(ke["w"])(e)){var t=e.type,n=e.targetId,r=Xe({type:t,targetId:n}),a=i[r]||{},c=Object(ke["y"])(a.index)?o.length:a.index,u=a.val||{},l=u.updatedItems||{},f=e.updatedItems;e=it(e,u),Object(ke["t"])(l,(function(t,n){e[n]=t.val})),Object(ke["t"])(f,(function(t,n){var r=(l[n]||{}).time||0;t.time>r&&(e[n]=t.val)})),i[r]={index:c,val:e},o[c]=e,rt(e)&&s.push(c)}})),Object(ke["t"])(s,(function(e){var t=o[e];o[e]=et(t)})),o=Je(o),Object(ke["B"])(o,(function(e){return delete e.updatedItems,e}))}(e)},e}(),at=function(e){Object(ke["s"])("options.key",e.key,ke["b"].STRING,!0),Object(ke["s"])("options.value",e.value,ke["b"].STRING,!0),Object(ke["s"])("options.isAutoDelete",e.isAutoDelete,ke["b"].BOOLEAN),Object(ke["s"])("options.isSendNotification",e.isSendNotification,ke["b"].BOOLEAN),Object(ke["s"])("options.notificationExtra",e.notificationExtra,ke["b"].STRING)},ct=function(e){Object(ke["s"])("options.key",e.key,ke["b"].STRING,!0),Object(ke["s"])("options.isSendNotification",e.isSendNotification,ke["b"].BOOLEAN),Object(ke["s"])("options.notificationExtra",e.notificationExtra,ke["b"].STRING)},ut=function(){function e(e,t){this._context=e,this._id=t}return e.prototype.join=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options.count",e.count,ke["b"].NUMBER,!0),t="id:"+this._id,Fe.debug("join chatroom ->"+t),[4,this._context.joinChatroom(this._id,e.count)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("join chatroom fail ->code+:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.joinExist=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options.count",e.count,ke["b"].NUMBER,!0),t="id:"+this._id,Fe.debug("join exist chatroom ->"+t),[4,this._context.joinExistChatroom(this._id,e.count)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("join exist chatroom fail ->code:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.quit=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return e="id:"+this._id,Fe.debug("quit chatroom ->"+e),[4,this._context.quitChatroom(this._id)];case 1:return(t=n.sent())!==ke["h"].SUCCESS?(Fe.warn("quit chatroom fail ->code+:"+$e[t]+","+e),[2,Promise.reject({code:t,msg:$e[t]})]):[2]}}))}))},e.prototype.getInfo=function(e){return void 0===e&&(e={}),je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Object(ke["s"])("options.count",e.count,ke["b"].NUMBER),Object(ke["s"])("options.order",e.order,(function(e){return[0,1,2].includes(e)})),t="id:"+this._id,Fe.debug("get chatroom info ->"+t),[4,this._context.getChatroomInfo(this._id,e.count,e.order)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS&&i?[2,i]:(Fe.warn("get chatroom info fail ->code+:"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r]})])}}))}))},e.prototype.setEntry=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return at(e),t="id:"+this._id,Fe.debug("set chatroom entry->"+t),[4,this._context.setChatroomEntry(this._id,e)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("set chatroom entry fail ->code+:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.forceSetEntry=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return at(e),t="id:"+this._id,Fe.debug("force set chatroom entry ->"+t),[4,this._context.forceSetChatroomEntry(this._id,e)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("force set chatroom entry fail ->code+:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.removeEntry=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return ct(e),t="id:"+this._id,Fe.debug("remove chatroom entry->"+t),[4,this._context.removeChatroomEntry(this._id,e)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("remove chatroom entry fail ->code+:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.forceRemoveEntry=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return ct(e),t="id:"+this._id,Fe.debug("force remove chatroom entry ->"+t),[4,this._context.forceRemoveChatroomEntry(this._id,e)];case 1:return(n=r.sent())!==ke["h"].SUCCESS?(Fe.warn("force remove chatroom entry fail ->code+:"+$e[n]+","+t),[2,Promise.reject({code:n,msg:$e[n]})]):[2]}}))}))},e.prototype.getEntry=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Object(ke["s"])("key",e,(function(e){return Object(ke["x"])(e)&&/[\w+=-]+/.test(e)&&e.length<=128}),!0),t="id:"+this._id,Fe.debug("get chatroom entry->"+t),[4,this._context.getChatroomEntry(this._id,e)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS&&i?[2,i]:(Fe.warn("get chatroom entry fail ->code+:"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r]})])}}))}))},e.prototype.getAllEntries=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="id:"+this._id,Fe.debug("get all chatroom entries->"+e),[4,this._context.getAllChatroomEntries(this._id)];case 1:return t=i.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS&&r?[2,r]:(Fe.warn("get all chatroom entries fail ->code+:"+$e[n]+","+e),[2,Promise.reject({code:n,msg:$e[n]})])}}))}))},e.prototype.send=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Ye(e),t="id:"+this._id,Fe.debug("send chatroom message ->"+t),Object.prototype.hasOwnProperty.call(e,"isPersited")||(e.isPersited=!0),Object.prototype.hasOwnProperty.call(e,"isCounted")||(e.isCounted=!0),[4,this._context.sendMessage(ke["f"].CHATROOM,this._id,e)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS?[2,ze(i)]:(Fe.warn("send chatroom message fail ->code+:"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r]})])}}))}))},e.prototype.getMessages=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return Object(ke["s"])("options.timestamp",e.timestamp,ke["b"].NUMBER),Object(ke["s"])("options.count",e.count,ke["b"].NUMBER),Object(ke["s"])("options.order",e.order,(function(e){return 0===e||1===e})),t="id:"+this._id,Fe.debug("get chatroom history message->"+t),[4,this._context.getChatRoomHistoryMessages(this._id,e.count,e.order,e.timestamp)];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS&&i?[2,{list:i.list.map((function(e){return ze(e)})),hasMore:i.hasMore}]:(Fe.warn("get chatroom history message fail ->code+:"+$e[r]+","+t),[2,Promise.reject({code:r,msg:$e[r]})])}}))}))},e.prototype.recall=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i,o;return Be(this,(function(s){switch(s.label){case 0:return Object(ke["s"])("options.messageUId",e.messageUId,ke["b"].STRING,!0),Object(ke["s"])("options.sentTime",e.sentTime,ke["b"].NUMBER,!0),t="id:"+this._id+",messageUId:"+e.messageUId,Fe.debug("chatroom recall->"+t),n=ke["f"].CHATROOM,[4,this._context.recallMessage(n,this._id,e.messageUId,e.sentTime,{channelId:"",user:e.user})];case 1:return r=s.sent(),i=r.code,o=r.data,i===ke["h"].SUCCESS&&o?[2,ze(o)]:(Fe.warn("chatroom recall fail->code+:"+$e[i]+","+t),[2,Promise.reject({code:i,msg:$e[i]})])}}))}))},e}(),lt=function(){function e(e){this._context=e}return e.prototype.get=function(e){return Object(ke["s"])("option.id",e.id,ke["C"],!0),new ut(this._context,e.id)},e}(),ft=function(){function e(e,t){this._options=e,this._context=t,this._roomId=e.id}return e.prototype.join=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="roomId:"+this._roomId,Fe.debug("join ->"+e),[4,this._context.joinRTCRoom(this._roomId,this._options.mode,this._options.broadcastType)];case 1:return t=i.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS?[2,r]:(Fe.warn("join fail ->"+n+":"+$e[n]+","+e),[2,Promise.reject(n)])}}))}))},e.prototype.quit=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return e="roomId:"+this._roomId,Fe.debug("quit ->"+e),[4,this._context.quitRTCRoom(this._roomId)];case 1:return(t=n.sent())===ke["h"].SUCCESS?[2,t]:(Fe.warn("quit fail ->"+t+":"+$e[t]+","+e),[2,Promise.reject(t)])}}))}))},e.prototype.getRoomInfo=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="roomId:"+this._roomId,Fe.debug("get roomInfo ->"+e),[4,this._context.getRTCRoomInfo(this._roomId)];case 1:return t=i.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS?[2,r]:(Fe.warn("get roomInfo fail ->"+n+":"+$e[n]+","+e),[2,Promise.reject(n)])}}))}))},e.prototype.setUserInfo=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return t="roomId:"+this._roomId+",key:"+e.key+",value:"+e.value,Fe.debug("set userInfo ->"+t),[4,this._context.setRTCUserInfo(this._roomId,e.key,e.value)];case 1:return(n=r.sent())===ke["h"].SUCCESS?[2,n]:(Fe.warn("set userInfo fail ->"+n+":"+$e[n]+","+t),[2,Promise.reject(n)])}}))}))},e.prototype.removeUserInfo=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return t="roomId:"+this._roomId+",keys:"+(e.keys||[]).join(","),Fe.debug("remove useerInfo ->"+t),[4,this._context.removeRTCUserInfo(this._roomId,e.keys)];case 1:return(n=r.sent())===ke["h"].SUCCESS?[2,n]:(Fe.warn("remove userInfo fail ->"+n+":"+$e[n]+","+t),[2,Promise.reject(n)])}}))}))},e.prototype.setData=function(e,t,n,r,i){return je(this,void 0,void 0,(function(){var o,s;return Be(this,(function(a){switch(a.label){case 0:return o="roomId:"+this._roomId+",key:"+e+",value:"+t,Fe.debug("set data ->"+o),[4,this._context.setRTCData(this._roomId,e,t,n,r,i)];case 1:return(s=a.sent())===ke["h"].SUCCESS?[2,s]:(Fe.warn("set data fail ->"+s+":"+$e[s]+","+o),[2,Promise.reject(s)])}}))}))},e.prototype.setUserData=function(e,t,n,r){return this.setData(e,t,n,ke["o"].PERSON,r)},e.prototype.setRTCUserData=function(e,t,n){return je(this,void 0,void 0,(function(){var r,i;return Be(this,(function(o){switch(o.label){case 0:return r="roomId:"+this._roomId,Fe.debug("set rtc user ->"+r),[4,this._context.setRTCTotalRes(this._roomId,e,t,n)];case 1:return(i=o.sent())===ke["h"].SUCCESS?[2,i]:(Fe.warn("set rtc user fail ->"+i+":"+$e[i]+","+r),[2,Promise.reject(i)])}}))}))},e.prototype.getData=function(e,t,n){return je(this,void 0,void 0,(function(){var r,i,o,s;return Be(this,(function(a){switch(a.label){case 0:return r="roomId:"+this._roomId,Fe.debug("get data ->"+r),[4,this._context.getRTCData(this._roomId,e,t,n)];case 1:return i=a.sent(),o=i.code,s=i.data,o===ke["h"].SUCCESS?[2,s]:(Fe.warn("get data fail ->"+o+":"+$e[o]+","+r),[2,Promise.reject(o)])}}))}))},e.prototype.getUserData=function(e,t){return this.getData(e,t,ke["o"].PERSON)},e.prototype.removeData=function(e,t,n,r){return je(this,void 0,void 0,(function(){var i,o;return Be(this,(function(s){switch(s.label){case 0:return i="roomId:"+this._roomId+",keys:"+e.join(","),Fe.debug("remove data ->"+i),[4,this._context.removeRTCData(this._roomId,e,t,n,r)];case 1:return(o=s.sent())===ke["h"].SUCCESS?[2,o]:(Fe.warn("remove data fail ->"+o+":"+$e[o]+","+i),[2,Promise.reject(o)])}}))}))},e.prototype.removeUserData=function(e,t,n){return this.removeData(e,t,ke["o"].PERSON,n)},e.prototype.setRoomData=function(e,t,n,r){return this.setData(e,t,n,ke["o"].ROOM,r)},e.prototype.getRoomData=function(e,t){return this.getData(e,t,ke["o"].ROOM)},e.prototype.removeRoomData=function(e,t,n){return this.removeData(e,t,ke["o"].ROOM,n)},e.prototype.setState=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return t="roomId:"+this._roomId,Fe.debug("set state ->"+t),[4,this._context.setRTCState(this._roomId,e.report)];case 1:return(n=r.sent())===ke["h"].SUCCESS?[2,n]:(Fe.warn("set state fail ->"+n+":"+$e[n]+","+t),[2,Promise.reject(n)])}}))}))},e.prototype.getUserList=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="roomId:"+this._roomId,Fe.debug("get userList ->"+e),[4,this._context.getRTCUserInfoList(this._roomId)];case 1:return t=i.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS?[2,r]:(Fe.warn("get userList fail ->"+n+":"+$e[n]+","+e),[2,Promise.reject(n)])}}))}))},e.prototype.getUserInfoList=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="roomId:"+this._roomId,Fe.debug("get userInfo list ->"+e),[4,this._context.getRTCUserInfoList(this._roomId)];case 1:return t=i.sent(),n=t.code,r=t.data,n===ke["h"].SUCCESS?[2,null==r?void 0:r.users]:(Fe.warn("get userInfo list fail ->"+n+":"+$e[n]+","+e),[2,Promise.reject(n)])}}))}))},e.prototype.getToken=function(){return je(this,void 0,void 0,(function(){var e,t,n,r;return Be(this,(function(i){switch(i.label){case 0:return e="roomId:"+this._roomId,Fe.debug("getToken ->"+e),[4,this._context.getRTCToken(this._roomId,this._options.mode,this._options.broadcastType)];case 1:return t=i.sent(),n=t.data,(r=t.code)===ke["h"].SUCCESS?[2,n]:(Fe.warn("getToken fail ->"+r+":"+$e[r]+","+e),[2,Promise.reject(r)])}}))}))},e.prototype.ping=function(){return je(this,void 0,void 0,(function(){var e,t;return Be(this,(function(n){switch(n.label){case 0:return e="roomId:"+this._roomId,Fe.debug("ping ->"+e),[4,this._context.rtcPing(this._roomId,this._options.mode,this._options.broadcastType)];case 1:return(t=n.sent())===ke["h"].SUCCESS?[2,t]:(Fe.warn("ping fail ->"+t+":"+$e[t]+","+e),[2,Promise.reject(t)])}}))}))},e.prototype.send=function(e){return je(this,void 0,void 0,(function(){var t,n,r,i;return Be(this,(function(o){switch(o.label){case 0:return t="roomId:"+this._roomId,Fe.debug("send ->"+t),[4,this._context.sendMessage(ke["f"].RTC_ROOM,this._roomId,{content:De({},e.content),messageType:e.messageType})];case 1:return n=o.sent(),r=n.code,i=n.data,r===ke["h"].SUCCESS?[2,i]:(Fe.warn("send fail ->"+r+":"+$e[r]+","+t),[2,Promise.reject(r)])}}))}))},e}(),dt=function(){return!("undefined"==typeof uni||!function(e){for(var t=["canIUse","getSystemInfo"],n=0,r=t.length;n<r;n++)if(!e[t[n]])return!1;return!0}(uni))},ht=dt(),pt={tag:"browser",httpReq:function(e){var t=e.method||ke["j"].GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Object(ke["r"])(e.url,i);return new Promise((function(e){var i,a=(i="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,"undefined"!=typeof XMLHttpRequest&&i?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP")),c="[object XDomainRequest]"===Object.prototype.toString.call(a);if(a.open(t,s),r&&a.setRequestHeader)for(var u in r)a.setRequestHeader(u,r[u]);if(c){a.timeout=n,a.onload=function(){e({data:a.responseText,status:a.status||200})},a.onerror=function(){e({status:a.status||0})},a.ontimeout=function(){e({status:a.status||0})};var l="object"==typeof o?JSON.stringify(o):o;a.send(l)}else a.onreadystatechange=function(){4===a.readyState&&e({data:a.responseText,status:a.status})},a.onerror=function(){e({status:a.status||0})},setTimeout((function(){return e({status:a.status||0})}),n),a.send(o)}))},localStorage:null===window||void 0===window?void 0:window.localStorage,sessionStorage:null===window||void 0===window?void 0:window.sessionStorage,isSupportSocket:function(){var e="undefined"!=typeof WebSocket;return e||Fe.warn("websocket not support"),e},useNavi:!0,connectPlatform:"",isFromUniapp:ht,createWebSocket:function(e,t){var n=new WebSocket(e,t);return n.binaryType="arraybuffer",{onClose:function(e){n.onclose=function(t){var n=t.code,r=t.reason;e(n,r)}},onError:function(e){n.onerror=e},onMessage:function(e){n.onmessage=function(t){e(t.data)}},onOpen:function(e){n.onopen=e},send:function(e){n.send(e)},close:function(e,t){n.close(e,t)}}},createDataChannel:function(e,t){return this.isSupportSocket()&&"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},gt=dt(),mt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return wx[e].apply(wx,t)}catch(e){Fe.error(e)}}},vt={setItem:mt("setStorageSync"),getItem:mt("getStorageSync"),removeItem:mt("removeStorageSync"),clear:mt("clearStorageSync")},yt={tag:"wechat",httpReq:function(e){var t=e.method||ke["j"].GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Object(ke["r"])(e.url,i);return new Promise((function(e){wx.request({url:s,method:t,headers:r,timeout:n,data:o,success:function(t){e({data:t.data,status:t.statusCode})},fail:function(){e({status:ke["h"].RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:vt,sessionStorage:vt,isSupportSocket:function(){return!0},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:gt,createWebSocket:function(e,t){var n=wx.connectSocket({url:e,protocols:t});return{onClose:function(e){n.onClose((function(t){e(t.code,t.reason)}))},onError:function(e){n.onError((function(t){e(t.errMsg)}))},onMessage:function(e){n.onMessage((function(t){e(t.data)}))},onOpen:function(e){n.onOpen(e)},send:function(e){n.send({data:e})},close:function(e,t){n.close({code:e,reason:t})}}},createDataChannel:function(e,t){return"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},_t=dt(),bt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return my[e].apply(my,t)}catch(e){Fe.error(e)}}},Ct={setItem:bt("setStorageSync"),getItem:bt("getStorageSync"),removeItem:bt("removeStorageSync"),clear:bt("clearStorageSync")},Et={tag:"alipay",httpReq:function(e){var t=e.method||ke["j"].GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Object(ke["r"])(e.url,i);return new Promise((function(e){my.request({url:s,method:t,headers:r,timeout:n,data:o,success:function(t){e({data:t.data,status:t.status})},fail:function(){e({status:ke["h"].RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:Ct,sessionStorage:Ct,isSupportSocket:function(){return!1},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:_t,createDataChannel:function(e,t){return"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},St=dt(),wt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return console.log("tt",tt),tt[e].apply(tt,t)}catch(e){Fe.error(e)}}},Tt={setItem:wt("setStorageSync"),getItem:wt("getStorageSync"),removeItem:wt("removeStorageSync"),clear:wt("clearStorageSync")},It={tag:"toutiao",isSupportSocket:function(){return!0},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:St,localStorage:Tt,sessionStorage:Tt,httpReq:function(e){return new Promise((function(t,n){tt.request({url:e.url,data:e.body,header:e.headers,method:e.method,success:function(e){console.log("调用成功",e.data);var n=(null==e?void 0:e.data)||{},r={data:JSON.stringify(n),status:e.statusCode};t(r)},fail:function(e){console.log("调用失败",e.errMsg),n({data:e.errMsg})}})}))},createWebSocket:function(e,t){var n=tt.connectSocket({url:e,protocols:t});return{onOpen:function(e){n.onOpen(e)},onClose:function(e){n.onClose((function(t){return e(t.code,t.reason)}))},onError:function(e){n.onError((function(t){return e(t.errMsg)}))},onMessage:function(e){n.onMessage((function(t){return e(t.data)}))},send:function(e){n.send({data:e})},close:function(e,t){n.close({code:e,reason:t})}}},createDataChannel:function(e,t){return"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},Rt=dt(),Ot=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return console.log("swan",swan),swan[e].apply(swan,t)}catch(e){Fe.error(e)}}},xt={setItem:Ot("setStorageSync"),getItem:Ot("getStorageSync"),removeItem:Ot("removeStorageSync"),clear:Ot("clearStorageSync")},Nt={tag:"baidu",isSupportSocket:function(){return!0},useNavi:!1,connectPlatform:"MiniProgram",isFromUniapp:Rt,localStorage:xt,sessionStorage:xt,httpReq:function(e){return new Promise((function(t,n){swan.request({url:e.url,data:e.body,header:e.headers,method:e.method,success:function(e){console.log("调用成功",e.data);var n=(null==e?void 0:e.data)||{},r={data:JSON.stringify(n),status:e.statusCode};t(r)},fail:function(e){console.log("调用失败",e.errorCode),n({data:e.errorCode})}})}))},createWebSocket:function(e,t){var n=swan.connectSocket({url:e,protocols:t});return{onOpen:function(e){n.onOpen(e)},onClose:function(e){n.onClose((function(t){return e(t.code,t.reason)}))},onError:function(e){n.onError((function(t){return e(t.errMsg)}))},onMessage:function(e){n.onMessage((function(t){return e(t.data)}))},send:function(e){n.send({data:e})},close:function(e,t){n.close({code:e,reason:t})}}},createDataChannel:function(e,t){return"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},Mt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return uni[e].apply(uni,t)}catch(e){Fe.error(e)}}},At={setItem:Mt("setStorageSync"),getItem:Mt("getStorageSync"),removeItem:Mt("removeStorageSync"),clear:Mt("clearStorageSync")},Lt={tag:"uniapp",httpReq:function(e){var t=e.method||ke["j"].GET,n=e.timeout||6e4,r=e.headers,i=e.query,o=e.body,s=Object(ke["r"])(e.url,i);return new Promise((function(e){uni.request({url:s,method:t,headers:r,timeout:n,sslVerify:!1,data:o,success:function(t){e({data:t.data,status:t.statusCode})},fail:function(){e({status:ke["h"].RC_HTTP_REQ_TIMEOUT})}})}))},localStorage:At,sessionStorage:At,isSupportSocket:function(){return!0},useNavi:!0,connectPlatform:"",isFromUniapp:!0,createWebSocket:function(e,t){var n={complete:function(){},url:e,protocols:t},r=uni.connectSocket(n);return{onClose:function(e){r.onClose((function(t){e(t.code,t.reason)}))},onError:function(e){r.onError((function(t){e(t.errMsg)}))},onMessage:function(e){r.onMessage((function(t){e(t.data)}))},onOpen:function(e){r.onOpen(e)},send:function(e){r.send({data:e})},close:function(e,t){r.close({code:e,reason:t})}}},createDataChannel:function(e,t){return"websocket"===t?new ke["q"](this,e):new ke["e"](this,e)}},Pt=function(e){return e&&e.canIUse&&e.getSystemInfo},Ut="undefined"!=typeof uni&&Pt(uni)?function(){switch(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_PLATFORM){case"app-plus":return Lt;case"mp-baidu":return Nt;case"mp-toutiao":return It;case"mp-alipay":return Et;case"mp-weixin":return yt;case"h5":default:return pt}}():"undefined"!=typeof wx&&Pt(wx)?yt:"undefined"!=typeof my&&Pt(my)?Et:"undefined"!=typeof tt&&Pt(tt)?It:"undefined"!=typeof swan&&Pt(swan)?Nt:pt,kt=[],Dt=[],jt={message:function(e){kt.forEach((function(t){return t(e)}))},status:function(e){Dt.forEach((function(t){return t(e)}))}},Bt=function(){function e(e){this._token="",this._context=e,this.Conversation=new st(e),this.ChatRoom=new lt(e),this.RTC=function(t){return Object(ke["s"])("options.id",t.id,ke["C"],!0),new ft(t,e)}}return e.prototype.install=function(e,t){return this._context.install(e,t)},e.prototype.watch=function(e){var t=e.status,n=e.conversation,r=e.message,i=e.chatroom,o=e.expansion,s=e.typingStatus,a=e.pullFinished,c={};t&&(c.connectionState=function(e){try{t({status:e})}catch(e){Fe.error(e)}}),n&&(c.conversationState=function(e){try{var t=e.map((function(e){return n=(t=e).updatedItems,r=t.conversationType,i=t.targetId,o=t.latestMessage,s=t.unreadMessageCount,a=t.lastUnreadTime,c=t.notificationStatus,u=t.isTop,l=t.mentionedInfo,f=t.hasMentioned,d=o&&ze(o),n&&n.latestMessage&&(n.latestMessage.val=d),{updatedItems:n,type:r,targetId:i,latestMessage:d,unreadMessageCount:s,lastUnreadTime:a,notificationStatus:c,isTop:u,mentionedInfo:l,hasMentioned:f};var t,n,r,i,o,s,a,c,u,l,f,d}));n({updatedConversationList:t})}catch(e){Fe.error(e)}}),r&&(c.message=function(e){try{r({message:ze(e)})}catch(e){Fe.error(e)}}),i&&(c.chatroomState=function(e){try{i(e)}catch(e){Fe.error(e)}}),o&&(c.expansion=function(e){try{o(e)}catch(e){Fe.error(e)}}),a&&(c.pullFinished=function(){try{a()}catch(e){Fe.error(e)}}),s&&(c.typingState=function(e){try{s(e)}catch(e){Fe.error(e)}}),this._context.assignWatcher(c)},e.prototype.unwatch=function(){this._context.assignWatcher({message:void 0,connectionState:void 0,conversationState:void 0,chatroomState:void 0,expansion:void 0})},e.prototype.rtcInnerWatch=function(e){var t=e.message,n=e.status;t&&kt.push((function(e){try{t({message:ze(e)})}catch(e){Fe.error(e)}})),n&&Dt.push((function(e){try{n({status:e})}catch(e){Fe.error(e)}})),this._context.assignWatcher({rtcInnerWatcher:jt})},e.prototype.rtcInnerUnwatch=function(){Dt.length=Dt.length=0,this._context.assignWatcher({rtcInnerWatcher:void 0})},e.prototype.connect=function(e){return je(this,void 0,void 0,(function(){var t,n;return Be(this,(function(r){switch(r.label){case 0:return Object(ke["s"])("options.token",e.token,ke["b"].STRING,!0),t=e.token,this._token=t,[4,this._context.connect(t,!0)];case 1:return(n=r.sent()).code===ke["h"].SUCCESS?[2,{id:n.userId}]:[2,Promise.reject({code:n.code,msg:$e[n.code]})]}}))}))},e.prototype.reconnect=function(){return je(this,void 0,void 0,(function(){var e;return Be(this,(function(t){switch(t.label){case 0:return[4,this._context.reconnect()];case 1:return(e=t.sent()).code===ke["h"].SUCCESS?[2,{id:e.userId}]:[2,Promise.reject({code:e.code,msg:$e[e.code]})]}}))}))},e.prototype.disconnect=function(){return this._context.disconnect()},e.prototype.getAppInfo=function(){return{appkey:this._context.appkey,token:this._token,navi:this._context.getInfoFromCache()}},e.prototype.getConnectedTime=function(){return this._context.getConnectedTime()},e.prototype.getServerTime=function(){return this._context.getServerTime()},e.prototype.getConnectionStatus=function(){return this._context.getConnectionStatus()},e.prototype.getConnectionUserId=function(){return this._context.getCurrentUserId()},e.prototype.getFileToken=function(e,t,n,r){return Object(ke["s"])("fileType",e,ke["A"],!0),this._context.getFileToken(e,t,n,r)},e.prototype.getFileUrl=function(e,t,n,r,i){return Object(ke["s"])("fileType",e,ke["A"],!0),Object(ke["s"])("filename",t,ke["b"].STRING),Object(ke["s"])("saveName",n,ke["b"].STRING),Object(ke["s"])("serverType",i,ke["b"].NUMBER),this._context.getFileUrl(e,t,n,r,i)},e.prototype.changeUser=function(e){return je(this,void 0,void 0,(function(){return Be(this,(function(t){switch(t.label){case 0:return Fe.warn("Method is deprecated"),Object(ke["s"])("options.token",e.token,ke["b"].STRING,!0),[4,this.disconnect()];case 1:return t.sent(),[2,this.connect(e)]}}))}))},e.prototype.registerMessageType=function(e,t,n,r){this._context.registerMessageType(e,t,n,r)},e}(),Vt=function(e){if(Fe.setLogLevel(e.logLevel),Fe.setLogStdout(e.logStdout),We)return Fe.error("The instance already exists. Do not repeatedly call the init method"),We;Object(ke["s"])("options.appkey",e.appkey,ke["b"].STRING,!0),Object(ke["s"])("options.debug",e.debug,ke["b"].BOOLEAN),Object(ke["s"])("options.navigators",e.navigators,(function(e){return Object(ke["u"])(e)&&(0===e.length||e.every(ke["v"]))}));var t=null==e?void 0:e.connectType;t?ke["c"].WEBSOCKET!==t&&ke["c"].COMET!==t&&(Fe.warn("RongIMLib connectionType must be "+ke["c"].WEBSOCKET+" or "+ke["c"].COMET),t=ke["c"].WEBSOCKET):t=ke["c"].WEBSOCKET;var n=ke["a"].init(Ut,{appkey:e.appkey,apiVersion:"4.4.8",navigators:e.navigators||[],miniCMPProxy:e.customCMP||[],connectionType:t,logLevel:e.logLevel,logStdout:e.logStdout,indexDBSwitch:e.indexDBSwitch,checkCA:e.checkCA});return Fe.warn("RongIMLib Version: 4.4.8, Commit: 46014bab48e4bcc25c2ee46006c1986e1a56772b"),We=new Bt(n)},Ft=(ke["l"],ke["f"]),Ht=(ke["i"],ke["n"].OPEN,ke["n"].CLOSE,ke["d"],new a.a),$t={props:{baseUrl:{type:String,default:"https://im.shandian8.com"}},components:{Avatar:b.a,imMain:Ue,elDialog:y.a,Message:m.a},mounted:function(){var e=this;this.getCurrentUser(),this.im=Vt({appkey:"cpj2xarlctfmn",connectType:"comet"}),this.imWatcher(),this.connectRongyun(),Ht.$on("createGroupOk",(function(t){setTimeout((function(){e.im.Conversation.getList({count:10,startTime:0,order:0}).then((function(n){console.log("获取会话列表成功",n),n.forEach((function(n){n.targetId==t&&le(e.my_baseUrl,t).then((function(r){if(200===r.status){newConversation.displayName=r.data.data[t].content,newConversation.avatar=r.data.data[t].avatar;var i={id:t,displayName:newConversation.displayName,avatar:newConversation.avatar,index:"[2]群组",unread:newConversation.unreadMessageCount,lastSendTime:newConversation.latestMessage.sentTime,lastContent:{},isGroup:!0};"RC:ImgMsg"==newConversation.latestMessage.messageType?i.lastContent={type:"image",content:n.latestMessage.content.imageUri}:"RC:TxtMsg"==newConversation.latestMessage.messageType?i.lastContent={type:"text",content:n.latestMessage.content.content}:'"RC:VcMsg"'==newConversation.latestMessage.messageType?i.lastContent={type:"text",content:"视频通话"}:(console.log(newConversation.latestMessage.messageType),i.lastContent={type:"text",content:"未知消息"}),console.log(i),e.$refs.imMain.addNewContact(i)}}))}))}))}),500)}))},watch:{baseUrl:function(e,t){this.my_baseUrl=e,this.$store.commit("setAxiosBaseUrl",e)}},data:function(){return{value:!0,showList:!1,im:void 0,my_baseUrl:this.baseUrl,user_token:"",user_id:"",messageList:[],currentUser:{},saveMessageList:[],firstConversationId:void 0}},methods:{imWatcher:function(){this.im;var e=this;e.im.watch({conversation:function(e){console.log(e)},message:function(t){var n=t.message,r={};switch(n.messageType){case"RC:TxtMsg":r={id:n.messageUId,status:"succeed",type:"text",sendTime:n.sentTime,content:n.content.content,toContactId:n.targetId,fromUser:{id:n.content.user.id,displayName:n.content.user.name,avatar:n.content.user.portrait}};break;case"RC:ImgMsg":r={id:n.messageUId,status:"succeed",type:"image",sendTime:n.sentTime,content:n.content.imageUri,toContactId:n.targetId,fromUser:{id:n.content.user.id,displayName:n.content.user.name,avatar:n.content.user.portrait}};break;case"RC:InfoNtf":r={id:n.messageUId,status:"succeed",type:"event",sendTime:n.sentTime,content:n.content.msg,toContactId:n.targetId,fromUser:{id:n.content.user.id||-1,displayName:n.content.user.name||"系统通知",avatar:n.content.user.portrait||"https://im.shandian8.com/public/notify.png"}}}!e.showList&&m()({message:"`${message.content.user.name}给您发了条消息`",center:!0,offset:1e3}),e.$refs.imMainDom?e.$refs.imMainDom.appendMessage(r):r.id&&e.saveMessageList.push(r)},status:function(e){console.log("connection status:",e.status)},chatroom:function(e){e.updatedEntries},expansion:function(e){e.updatedExpansion,e.deletedExpansion}})},connectRongyun:function(){var e=this;oe(this.my_baseUrl).then((function(t){200===t.status?(e.user_token=t.data.data.token,e.user_id=t.data.data.userId,e.im.connect({token:e.user_token}).then((function(t){console.log("链接成功, 链接用户 id 为: ",t.id),e.getConnetList()})).catch((function(e){console.log("链接失败: ",e.code,e.msg)}))):m.a.error(t.data.msg)})).catch((function(e){console.log(e)}))},getConnetList:function(){var e=this;this.im.Conversation.getList().then((function(t){console.log("获取会话列表成功",t),e.firstConversationId=t[0]?t[0].targetId:void 0;var n,r=[],i=p(t);try{var o=function(){var t=n.value;if(3==t.type)le(e.my_baseUrl,t.targetId).then((function(e){if(200===e.status){t.displayName=e.data.data[t.targetId].content,t.avatar=e.data.data[t.targetId].avatar;var n={id:t.targetId,displayName:t.displayName,avatar:t.avatar,index:"[2]群组",unread:t.unreadMessageCount,lastSendTime:t.latestMessage.sentTime,lastContent:{},isGroup:!0};"RC:ImgMsg"==t.latestMessage.messageType?n.lastContent={type:"image",content:t.latestMessage.content.imageUri}:"RC:TxtMsg"==t.latestMessage.messageType?n.lastContent={type:"text",content:t.latestMessage.content.content}:"RC:VcMsg"==t.latestMessage.messageType?n.lastContent={type:"text",content:"视频通话"}:"RC:InfoNtf"==t.latestMessage.messageType?n.lastContent={type:"event",content:t.latestMessage.content.message}:"RC:FileMsg"==t.latestMessage.messageType?n.lastContent={type:"file",content:t.latestMessage.content.namne}:n.lastContent={type:"text",content:"未知消息"},r.push(n)}else m.a.error(e.data.msg)}));else if(Number(t.targetId)>0)ae(e.my_baseUrl,t.targetId).then((function(e){if(200===e.status&&e.data.data.length){t.displayName=e.data.data[0].nickname,t.avatar=e.data.data[0].avatar;var n={id:t.targetId,displayName:t.displayName,avatar:t.avatar,index:"[1]群组",unread:t.unreadMessageCount,lastSendTime:t.latestMessage.sentTime,lastContent:{}};"RC:ImgMsg"==t.latestMessage.messageType?n.lastContent={type:"image",content:t.latestMessage.content.imageUri}:"RC:TxtMsg"==t.latestMessage.messageType?n.lastContent={type:"text",content:t.latestMessage.content.content}:'"RC:VcMsg"'==t.latestMessage.messageType?n.lastContent={type:"text",content:"视频通话"}:"RC:InfoNtf"==t.latestMessage.messageType?n.lastContent={type:"event",content:t.latestMessage.content.message}:"RC:FileMsg"==t.latestMessage.messageType?n.lastContent={type:"file",content:t.latestMessage.content.namne}:n.lastContent={type:"text",content:"未知消息"},r.push(n)}else if(200===e.status&&!e.data.data.length){var i={id:t.targetId,displayName:"未知用户",avatar:"https://im.shandian8.com/public/shenhe.png",index:"[1]群组",unread:t.unreadMessageCount,lastSendTime:t.latestMessage.sentTime,lastContent:{}};"RC:ImgMsg"==t.latestMessage.messageType?i.lastContent={type:"image",content:t.latestMessage.content.imageUri}:"RC:TxtMsg"==t.latestMessage.messageType?i.lastContent={type:"text",content:t.latestMessage.content.content}:'"RC:VcMsg"'==t.latestMessage.messageType?i.lastContent={type:"text",content:"视频通话"}:"RC:InfoNtf"==t.latestMessage.messageType?i.lastContent={type:"event",content:t.latestMessage.content.message}:"RC:FileMsg"==t.latestMessage.messageType?i.lastContent={type:"file",content:t.latestMessage.content.namne}:i.lastContent={type:"text",content:"未知消息"},r.push(i)}})).catch((function(e){console.log(e)}));else{"-1"===t.targetId?(t.displayName="系统审核",t.avatar="https://im.shandian8.com/public/shenhe.png"):"-2"===t.targetId?(t.displayName="通知提醒",t.avatar="https://im.shandian8.com/public/notify.png"):"-3"===t.targetId&&(t.displayName="内容监控",t.avatar="https://im.shandian8.com/public/shenhe.png");var i={id:t.targetId,displayName:t.displayName,avatar:t.avatar,index:"[1]群组",unread:t.unreadMessageCount,lastSendTime:t.latestMessage.sentTime,lastContent:{type:"text",content:t.latestMessage.content.content}};r.push(i)}};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}e.messageList=r,console.log(e.messageList),e.getCurrentOrgUsers()})).catch((function(e){console.log("获取会话列表失败: ",e,e.code,e.msg)}))},getCurrentUser:function(){var e=this;se(this.my_baseUrl).then((function(t){200===t.status&&(e.currentUser=t.data.data)})).catch((function(e){console.log(e)}))},handleSendMessage:function(e){var t=e.target_id,n=e.conversation_type,r=e.content,i=e.fun,o=e.isGroup,s=(e.imageUri,this.im.Conversation.get({targetId:t,type:o?Ft.GROUP:Ft.PRIVATE}));s.send({messageType:n,content:r}).then((function(e){console.log(i),i()})).catch((function(e){console.log("发送文字消息失败",e.code,e.msg),i({status:"failed"})}))},handleOpenedDialog:function(){var e=this;console.log(this.saveMessageList),this.saveMessageList.forEach((function(t){e.$refs.imMainDom.appendMessage(t)})),this.saveMessageList=[]},handlePullMessages:function(e){var t=this,n=this.im.Conversation.get({targetId:e.contact.id,type:e.contact.isGroup?Ft.GROUP:Ft.PRIVATE}),r={id:e.contact.id,displayName:e.contact.displayName,avatar:e.contact.avatar},i={timestamp:+new Date,count:20};n.getMessages(i).then((function(n){var i=n.list,o=n.hasMore;console.log("获取历史消息成功",i,o),t.$refs.imMainDom.pullHistore(i,o,e.next,r)})).catch((function(e){console.log("发送文字消息失败",e.code,e.msg)}))},changeContact:function(e){var t=this;this.showList=!0,setTimeout((function(){t.$refs.imMainDom.changeContact(e)}),500)},getCurrentOrgUsers:function(){var e=this;ce(this.my_baseUrl,this.currentUser.orgid).then((function(t){if(200===t.status){var n=t.data.data,r=n.map((function(e){var t={id:e.id,displayName:e.name,avatar:e.avatar,index:"[1]群组",unread:0,lastSendTime:"",lastContent:""};return t}));e.$store.commit("setCurrentOrgUsers",r)}else m.a.error(t.data.msg)})).catch((function(e){console.log(e)}))}}},qt=$t,Gt=(n("d85a"),U(qt,l,f,!1,null,"52f7a326",null)),zt=Gt.exports;a.a.use(u.a),zt.install=function(e){e.component(zt.name,zt)};var Kt=zt;t["default"]=Kt},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("e8b5"),s=n("68ee"),a=n("861d"),c=n("23cb"),u=n("07fa"),l=n("fc6a"),f=n("8418"),d=n("b622"),h=n("1dde"),p=n("f36a"),g=h("slice"),m=d("species"),v=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var n,r,i,d=l(this),h=u(d),g=c(e,h),_=c(void 0===t?h:t,h);if(o(d)&&(n=d.constructor,s(n)&&(n===v||o(n.prototype))?n=void 0:a(n)&&(n=n[m],null===n&&(n=void 0)),n===v||void 0===n))return p(d,g,_);for(r=new(void 0===n?v:n)(y(_-g,0)),i=0;g<_;g++,i++)g in d&&f(r,i,d[g]);return r.length=i,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=yimu-im.umd.min.js.map